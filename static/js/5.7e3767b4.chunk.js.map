{"version":3,"sources":["utilities/api/endpoints.ts","utilities/api/interactionManager.ts","components/ProgressBar/styles.module.scss","images/404-error-image.png","utilities/index.ts","components/ProgressBar/ProgressBar.tsx","components/ModalPayment/styles.module.scss","components/404Page/ErrorPage.tsx","components/StoreInfo/styles.module.scss","components/StoreDetails/styles.module.scss","components/StoreStory/styles.module.scss","components/StoreInfo/misc-store.png","components/Modal/styles.module.scss","components/ModalAmount/styles.module.scss","components/ModalConfirmation/styles.module.scss","components/ModalConfirmation/chinatown-logo.png","components/OwnerPanel/styles.module.scss","components/OwnerPanel/assets/female.svg","components/StoreStory/StoreStory.tsx","components/StoreDetails/StoreDetails.tsx","components/StoreInfo/StoreInfo.tsx","utilities/hooks/ModalPaymentContext/types.ts","utilities/hooks/ModalPaymentContext/constants.ts","utilities/hooks/ModalPaymentContext/reducers.ts","utilities/hooks/ModalPaymentContext/context.tsx","components/ModalAmount/ModalAmount.tsx","components/ModalPayment/SquareCardForm.tsx","components/ModalPayment/SubmissionButton.tsx","consts.ts","components/ModalPayment/SquareModal.tsx","components/ModalConfirmation/ModalConfirmation.tsx","components/Modal/Modal.tsx","components/OwnerPanel/OwnerPanel.tsx","components/SellerPage/SellerPage.tsx","utilities/api/index.ts"],"names":["baseUrl","process","sellers","charges","getSellers","a","axios","get","then","res","catch","err","getSeller","id","makeSquarePayment","nonce","sellerId","payment","buyer","email","name","idempotencyKey","idempotency_key","isSubscribed","is_subscribed","post","is_square","line_items","seller_id","headers","module","exports","SupporterTooltip","withStyles","theme","tooltip","backgroundColor","color","width","fontSize","typography","pxToRem","border","Tooltip","ProgressBar","raised","target","amountRaised","targetAmount","progressBarColor","numContributions","numDonations","numGiftCards","donationAmount","giftCardAmount","className","styles","progressContainer","classnames","targetAmountBar","currentRaisedBar","style","contributionInfo","Math","floor","toLocaleString","title","tooltipTable","enterTouchDelay","placement","ErrorPage","props","Container","Text","menuOpen","Error","src","ErrorImage","alt","MainHeader","SubHeader","BackToHome","href","styled","main","img","div","StoreStory","story","container","StoreDetails","data-testid","navLinkContainer","navLink","activeClassName","to","path","StoreInfo","seller","summary","cuisineName","locations","hero_image_url","defaultStoreFront","merchantIllustration","nationality","map","location","key","address","address1","address2","city","state","zip_code","phone_number","defaultState","amount","customInput","modalView","EMAIL_REGEX","ModalPaymentReducer","action","type","payload","ModalPaymentStateContext","React","createContext","ModalPaymentDispatchContext","ModalPaymentProvider","useReducer","dispatch","Provider","value","children","useModalPaymentState","context","useContext","undefined","useModalPaymentDispatch","Modal","t","useTranslation","useState","isCustomAmount","setIsCustomAmount","selected","setSelected","handleAmount","customAmount","text","donationsContainer","sellerName","amountContainer","htmlFor","selectAmtContainer","onClick","e","onFocus","customAmt","onChange","placeholder","min","max","Number","errorMessage","purchaseType","nextBtn","preventDefault","disabled","SquareCardForm","squareCardRow","squareCardRowItem","SubmissionButton","canSubmit","Context","submittable","evt","onCreateNonce","SquareErrors","ADDRESS_VERIFICATION_FAILURE","ALLOWABLE_PIN_TRIES_EXCEEDED","BAD_EXPIRATION","CARDHOLDER_INSUFFICIENT_PERMISSIONS","CARD_EXPIRED","CARD_PROCESSING_NOT_ENABLED","CARD_NOT_SUPPORTED","CARD_TOKEN_EXPIRED","CARD_TOKEN_USED","CHIP_INSERTION_REQUIRED","CVV_FAILURE","EXPIRATION_FAILURE","GENERIC_DECLINE","GIFT_CARD_AVAILABLE_AMOUNT","INSUFFICIENT_FUNDS","INSUFFICIENT_PERMISSIONS","INVALID_ACCOUNT","INVALID_CARD_DATA","INVALID_EMAIL_ADDRESS","INVALID_EXPIRATION","INVALID_FEES","INVALID_LOCATION","INVALID_PIN","INVALID_POSTAL_CODE","MANUALLY_ENTERED_PAYMENT_NOT_SUPPORTED","PAN_FAILURE","PAYMENT_LIMIT_EXCEEDED","TEMPORARY_ERROR","TRANSACTION_LIMIT","VOICE_FAILURE","CARD_DECLINED_VERIFICATION_REQUIRED","SquareModal","isTermsChecked","setTermsChecked","isSubscriptionChecked","setSubscriptionChecked","setName","setEmail","errorMessages","setErrorsMessages","purchaseTypePhrase","length","test","paymentHeader","toLowerCase","paymentContainer","inputRow","row","icons","label","pattern","source","required","sqPaymentForm","sandbox","applicationId","locationId","cardNonceResponseReceived","errors","currency","item_type","quantity","status","response","responseErrors","data","message","code","detail","newErrors","error","obj","formId","apiWrapper","termsAndConditions","Checkbox","inputProps","checked","btnRow","backBtn","ModalConfirmation","image","confirmationPic","finishBtn","uuid","display","ModalAmount","ModalBox","OwnerPanel","setPurchaseType","showModal","event","validExtraInfo","Object","keys","extraInfo","filter","current","window","facebookQuote","socialIconDimensions","height","ownerContainer","ownerImage","imageSrc","defaultOwnerImage","ownerName","buttonContainer","acceptDonations","button","sellGiftCards","extraInfoContainer","Fragment","extraInfoKey","extraInfoValue","rel","socialContainer","socialIconContainer","FacebookShareButton","url","quote","network","bgColor","TwitterShareButton","EmailShareButton","mapsContainer","section","SellerPage","setSeller","loading","setLoading","useParams","fetchData","result","useEffect","SellerName","ContentContainer","cuisine_name","accept_donations","sell_gift_cards","amount_raised","target_amount","num_contributions","num_donations","num_gift_cards","donation_amount","gift_card_amount","owner_name","owner_image_url","progress_bar_color","Type","business_type","Employees","num_employees","Founded","founded_year","Website","website_url","Menu","menu_url","Loader","isPage"],"mappings":"kVAAMA,G,OAAUC,sCAEHC,EAAUF,EAAU,WACpBG,EAAUH,EAAU,UCGpBI,EAAU,uCAAG,sBAAAC,EAAA,+EACxBC,IACGC,IAAIL,GACJM,MAAK,SAACC,GAAD,OAASA,KACdC,OAAM,SAACC,GAAD,OAASA,MAJM,2CAAH,qDAOVC,EAAS,uCAAG,WAAOC,GAAP,SAAAR,EAAA,+EACvBC,IACGC,IAAIL,EAAUW,GACdL,MAAK,SAACC,GAAD,OAASA,KACdC,OAAM,SAACC,GAAD,OAASA,MAJK,2CAAH,sDA4DTG,EAAiB,uCAAG,WAC/BC,EACAC,EACAC,EACAC,GAJ+B,qBAAAb,EAAA,6DAMvBc,EAAgBD,EAAhBC,MAAOC,EAASF,EAATE,KACTC,EAAiBH,EAAMI,gBACvBC,EAAeL,EAAMM,cARI,SAUlBlB,IACVmB,KACCtB,EACA,CACEuB,WAAW,EACXX,QACAY,WAAY,CAACV,GACbE,QACAC,OACAQ,UAAWZ,EACXM,gBAAiBD,EACjBG,cAAeD,GAEjB,CAAEM,QAAS,CAAE,8BAA+B,OAE7CrB,KAfU,+BAAAH,EAAA,MAeL,WAAOI,GAAP,SAAAJ,EAAA,+EACGI,GADH,2CAfK,uDAkBVC,OAAM,SAACC,GACN,MAAMA,KA7BqB,mFAAH,6D,oBCxE9BmB,EAAOC,QAAU,CAAC,kBAAoB,kCAAkC,gBAAkB,gCAAgC,iBAAmB,iCAAiC,iBAAmB,iCAAiC,aAAe,+B,oBCDjPD,EAAOC,QAAU,IAA0B,6C,iCCA3C,uK,kICiBMC,EAAmBC,aAAW,SAACC,GAAD,MAAmB,CACrDC,QAAS,CACPC,gBAAiB,UACjBC,MAAO,sBACPC,MAAO,IACPC,SAAUL,EAAMM,WAAWC,QAAQ,IACnCC,OAAQ,wBANaT,CAQrBU,KA2EWC,EAzEK,SAAC,GASP,IACWC,EAAgBC,EATvCC,EAQW,EARXA,aACAC,EAOW,EAPXA,aACAC,EAMW,EANXA,iBACAC,EAKW,EALXA,iBACAC,EAIW,EAJXA,aACAC,EAGW,EAHXA,aACAC,EAEW,EAFXA,eACAC,EACW,EADXA,eAOA,OACE,uBAAKC,UAAWC,IAAOC,mBACrB,uBAAKF,UAAWG,IAAWF,IAAOG,gBAAiB,iBACjD,uBACEJ,UAAWC,IAAOI,iBAClBC,MAAO,CACLvB,MAAM,GAAD,QAXQO,EAWWE,EAXKD,EAWSE,EAV1CH,EAASC,EAAgBD,EAASC,EAAU,IACzC,KASM,KACLV,gBAAiBa,IAIlB,MAGL,uBAAKM,UAAWC,IAAOM,kBACrB,gCACKC,KAAKC,MAAMjB,GAAgB,KAAKkB,iBADrC,SAEIF,KAAKC,MAAMhB,GAAgB,KAAKiB,kBAEpC,2BACE,gBAACjC,EAAD,CACEkC,MACE,gBAAC,WAAD,KACE,yBAAOX,UAAWC,IAAOW,cACvB,6BACE,0BACE,0BACE,yBAAIf,GADN,aAGA,0BACE,6BAAKW,KAAKC,MAAMV,GAAkB,OAGtC,0BACE,0BACE,yBAAIH,GADN,cAGA,0BACE,6BAAKY,KAAKC,MAAMX,GAAkB,UAO9Ce,gBAAiB,GACjBC,UAAU,OAEV,2BACE,yBAAInB,GADN,qB,oBCzFZpB,EAAOC,QAAU,CAAC,UAAY,0BAA0B,cAAgB,8BAA8B,iBAAmB,iCAAiC,IAAM,oBAAoB,SAAW,yBAAyB,mBAAqB,mCAAmC,SAAW,yBAAyB,OAAS,uBAAuB,QAAU,wBAAwB,MAAQ,sBAAsB,MAAQ,sBAAsB,KAAO,qBAAqB,cAAgB,8BAA8B,kBAAoB,oC,+gCCOhhB,IAmBeuC,EAnBG,SAACC,GACjB,OACE,kBAACC,EAAD,KACE,kBAACC,EAAD,CAAMC,SAAUH,EAAMG,UACpB,kBAACC,EAAD,CAAOC,IAAKC,IAAYC,IAAI,UAC5B,kBAACC,EAAD,6CACA,kBAACC,EAAD,KACG,IADH,6DAIA,kBAACA,EAAD,+CACA,kBAACC,EAAD,KACE,uBAAGC,KAAK,kCAAR,sBASJV,EAAYW,IAAOC,KAAV,KAQTT,EAAQQ,IAAOE,IAAV,KAMLZ,EAAOU,IAAOG,IAAV,KAIG,SAACf,GAAD,OAA0BA,EAAMG,SAAW,OAAS,UAO3DK,EAAaI,IAAOG,IAAV,KAGVN,EAAYG,IAAOG,IAAV,KAITL,EAAaE,IAAOG,IAAV,M,oBC5DhBxD,EAAOC,QAAU,CAAC,UAAY,0BAA0B,8BAAgC,8CAA8C,qBAAuB,qCAAqC,YAAc,4BAA4B,QAAU,wBAAwB,aAAe,+B,oBCA7RD,EAAOC,QAAU,CAAC,iBAAmB,iCAAiC,QAAU,wBAAwB,kBAAkB,kC,oBCA1HD,EAAOC,QAAU,CAAC,UAAY,4B,oBCD9BD,EAAOC,QAAU,IAA0B,wC,oBCC3CD,EAAOC,QAAU,CAAC,mBAAqB,mCAAmC,gBAAkB,gCAAgC,mBAAqB,mCAAmC,UAAY,0BAA0B,QAAU,wBAAwB,aAAe,+B,oBCA3QD,EAAOC,QAAU,CAAC,gBAAkB,gCAAgC,mBAAqB,mCAAmC,UAAY,0BAA0B,QAAU,wBAAwB,aAAe,6BAA6B,mBAAqB,qC,oBCArQD,EAAOC,QAAU,CAAC,UAAY,0BAA0B,MAAQ,sBAAsB,UAAY,4B,oBCDlGD,EAAOC,QAAU,IAA0B,4C,oBCC3CD,EAAOC,QAAU,CAAC,UAAY,0BAA0B,UAAY,0BAA0B,WAAa,2BAA2B,eAAiB,+BAA+B,gBAAkB,gCAAgC,OAAS,uBAAuB,iBAAmB,iCAAiC,gBAAkB,gCAAgC,oBAAsB,oCAAoC,kBAAoB,kCAAkC,GAAK,mBAAmB,aAAe,6BAA6B,eAAiB,+BAA+B,mBAAqB,qC,oBCDvmBD,EAAOC,QAAU,IAA0B,oC,qNCW5BwD,EAJsB,SAAC,GAAD,IAAGC,EAAH,EAAGA,MAAH,OACnC,2BAASjC,UAAWC,IAAOiC,WAAYD,ICyC1BE,EAvCwB,SAAC,GAAD,IAAGnC,EAAH,EAAGA,UAAWiC,EAAd,EAAcA,MAAd,OACrC,2BAASjC,UAAWA,EAAWoC,cAAY,gBACzC,uBAAKpC,UAAWC,IAAOoC,kBACrB,gBAAC,IAAD,CACErC,UAAWC,IAAOqC,QAClBC,gBAAiBtC,IAAO,mBACxBuC,GAAE,KAHJ,UAsBF,gBAAC,IAAD,KACE,gBAAC,IAAD,CAAOC,KAAI,IACT,gBAAC,EAAD,CAAYR,MAAOA,Q,mCC1BdS,EAA8B,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OACpCC,EAA2CD,EAA3CC,QAASX,EAAkCU,EAAlCV,MAAOY,EAA2BF,EAA3BE,YAAaC,EAAcH,EAAdG,UACrC,OACE,2BAAS9C,UAAWG,IAAWF,IAAOiC,WAAYE,cAAY,cAE1D,uBACEf,IACEsB,EAAOI,eACHrG,0CAAiCiG,EAAOI,eACxCC,IAENzB,IAAG,UAAKoB,EAAO9E,KAAZ,iBACHmC,UAAWC,IAAOgD,uBAItB,uBAAKjD,UAAWC,IAAOiD,aAAcL,GACrC,2BACGC,GACCA,EAAUK,KAAI,SAACC,GAAD,OACZ,gBAAC,WAAD,CAAgBC,IAAKD,EAAS/E,WAC5B,uBAAK2B,UAAWC,IAAOqD,SAAUF,EAASG,UAC1C,uBAAKvD,UAAWC,IAAOqD,SAAUF,EAASI,UAC1C,uBAAKxD,UAAWC,IAAOqD,SACpBF,EAASK,KADZ,KACoBL,EAASM,MAD7B,IACqCN,EAASO,UAE9C,uBAAK3D,UAAWC,IAAOqD,SAAUF,EAASQ,mBAIlD,yBAAIhB,GACJ,gBAAC,EAAD,CAAcX,MAAOA,MCzBd4B,EAAkC,CAC7CC,OAAQ,GACRC,aAAa,EACbC,WAAY,G,SCTRC,EAAc,yCCkBLC,EAhBa,SAACR,EAA0BS,GAAoB,IACjEC,EAAkBD,EAAlBC,KAAMC,EAAYF,EAAZE,QAEd,OAAQD,GACN,IDXmB,iBCYjB,OAAO,eAAKV,EAAZ,CAAmBM,UAAWK,IAChC,IDZe,aCab,OAAO,eAAKX,EAAZ,CAAmBI,OAAQO,IAC7B,IDbgB,cCehB,IDdgB,cCed,OAAOR,EACT,QACE,OAAOH,ICdPY,EAA2BC,IAAMC,cAAcX,GAC/CY,EAA8BF,IAAMC,eACvC,kBAAM,QAWHE,EAAuB,SAAC1D,GAAgB,IAAD,EACjBuD,IAAMI,WAAWT,EAAqBL,GADrB,mBACpCH,EADoC,KAC7BkB,EAD6B,KAG3C,OACE,kBAACN,EAAyBO,SAA1B,CAAmCC,MAAOpB,GACxC,kBAACe,EAA4BI,SAA7B,CAAsCC,MAAOF,GAC1C5D,EAAM+D,YAMf,SAASC,IACP,IAAMC,EAAUV,IAAMW,WAAWZ,GACjC,QAAgBa,IAAZF,EACF,MAAM,IAAI7D,MAAM,4DAElB,OAAO6D,EAET,SAASG,IACP,IAAMH,EAAUV,IAAMW,WAAWT,GACjC,QAAgBU,IAAZF,EACF,MAAM,IAAI7D,MACR,+DAGJ,OAAO6D,E,yDC2EMI,EA3GM,SAACrE,GAAkB,IAC9BsE,EAAMC,cAAND,EAEAxB,EAAWkB,IAAXlB,OAH6B,EAIO0B,oBAAS,GAJhB,mBAI9BC,EAJ8B,KAIdC,EAJc,OAKLF,mBAAS,IALJ,mBAK9BG,EAL8B,KAKpBC,EALoB,KAM/BhB,EAAWQ,IAIXS,EAAe,SAACf,EAAegB,EAAuBC,GAC1DH,EAAYG,GACZL,EAAkBI,GAClBlB,EAAS,CAAER,KHzBI,aGyBcC,QAASS,KAexC,OACE,0BACExH,GAAG,gBACH0C,UAAWG,IAAWF,IAAO+F,mBAAoB,mBACjD5D,cAAY,gBAEZ,6BACE,4BAAKpB,EAAMiF,aAGb,2BAAIX,EAAE,oCAEN,yBAAKtF,UAAWC,IAAOiG,iBACrB,2BAAOC,QAAQ,iBACZb,EAAE,oCAEL,6BACA,yBAAKtF,UAAWC,IAAOmG,oBAxBP,CACpB,CAAEtB,MAAO,KAAMiB,KAAM,OACrB,CAAEjB,MAAO,KAAMiB,KAAM,OACrB,CAAEjB,MAAO,KAAMiB,KAAM,OACrB,CAAEjB,MAAO,MAAOiB,KAAM,SAqBD5C,KAAI,SAACW,GAAD,OACjB,4BACEM,KAAK,SACLpE,UACE2F,IAAa7B,EAAOiC,KAChB,wBACA,wBAENM,QAAS,SAACC,GACRT,EAAa/B,EAAOgB,OAAO,EAAOhB,EAAOiC,QAG1CjC,EAAOiC,UAId,2BAAOI,QAAQ,iBACZb,EAAE,oCAEL,6BACA,2BACEzH,KAAK,gBACLuG,KAAK,SACLmC,QAAS,SAACD,GAAD,OAAOT,EAAa,IAAI,EAAM,KACvC7F,UAAWG,IAAWF,IAAOuG,UAAW,qBACxCC,SAAU,SAACH,GACTT,EAAaS,EAAE/G,OAAOuF,OAAO,EAAM,KAErCA,MAAOW,EAAiB3B,EAAS,GACjC4C,YAAY,IACZC,IAAI,IACJC,IAAI,UAELC,OAAO/C,GAxEI,GAwEmB2B,GAC7B,yBAAKzF,UAAWC,IAAO6G,cACpBxB,EAAE,oCAAqC,IAChB,cAAvBtE,EAAM+F,aAA+B,UAAY,WAAY,IAC7DzB,EAAE,mCAHL,QAMDuB,OAAO/C,GA9EI,KA8EmB2B,GAC7B,yBAAKzF,UAAWC,IAAO6G,cACpBxB,EAAE,oCAAqC,IAChB,cAAvBtE,EAAM+F,aAA+B,UAAY,WAAY,IAC7DzB,EAAE,mCAHL,aAQJ,4BACElB,KAAK,SACLpE,UAAWG,IAAWF,IAAO+G,QAAS,uBACtCX,QAlFY,SAACC,GACjBA,EAAEW,iBACFrC,EAAS,CAAER,KH/BQ,iBG+BcC,QAAS,KAiFtC6C,SAAUL,OAAO/C,GA5FL,GA4F4B+C,OAAO/C,GA3FnC,KA6FXwB,EAAE,sC,6CCxFI6B,EApBQ,SAACnG,GACtB,OACE,8BAAUhB,UAAU,eAClB,kBAAC,wBAAD,MAEA,yBAAKA,UAAWC,IAAOmH,eACrB,yBAAKpH,UAAWC,IAAOoH,mBACrB,kBAAC,gCAAD,OAEF,yBAAKrH,UAAWC,IAAOoH,mBACrB,kBAAC,qBAAD,OAEF,yBAAKrH,UAAWC,IAAOoH,mBACrB,kBAAC,4BAAD,UCKKC,EAvBU,SAAC,GAA0B,IAAxBC,EAAuB,EAAvBA,UACpBtC,EAAUC,qBAAWsC,WADsB,EAE7BhC,oBAAS,GAAxBiC,EAF4C,oBAWjD,OAFAA,EAAcF,EAGZ,4BACEnD,KAAK,SACLpE,UAAW,sBACXqG,QAXiB,SAACqB,GACpBA,EAAIT,iBACJhC,EAAQ0C,iBAUNT,UAAWO,GAJb,YCnBEG,EAAe,CACnBC,6BACE,2EACFC,6BACE,iFACFC,eACE,uEACFC,oCACE,kGACFC,aACE,oEACFC,4BACE,mFACFC,mBAAoB,sDACpBC,mBAAoB,+CACpBC,gBACE,uEACFC,wBACE,iEACFC,YACE,yEACFC,mBACE,oFACFC,gBAAiB,gCACjBC,2BACE,yEACFC,mBACE,mEACFC,yBACE,4EACFC,gBAAiB,4DACjBC,kBAAmB,qDACnBC,sBAAuB,yCACvBC,mBACE,qGACFC,aAAc,8CACdC,iBACE,mEACFC,YACE,mEACFC,oBAAqB,4CACrBC,uCACE,8CACFC,YAAa,wCACbC,uBACE,0GACFC,gBAAiB,uCACjBC,kBACE,mFACFC,cACE,4GACFC,oCACE,+E,YCiMWC,EAhNK,SAAC,GAKP,IAJZ7C,EAIW,EAJXA,aACAtJ,EAGW,EAHXA,SACAwI,EAEW,EAFXA,WACAnI,EACW,EADXA,eAEQgG,EAAWkB,IAAXlB,OACFc,EAAWQ,IAFN,EAI+BI,oBAAS,GAJxC,mBAIJqE,EAJI,KAIYC,EAJZ,OAK6CtE,oBAAS,GALtD,mBAKJuE,EALI,KAKmBC,EALnB,OAMaxE,mBAAS,IANtB,mBAMJ3H,EANI,KAMEoM,EANF,OAOezE,mBAAS,IAPxB,mBAOJ5H,EAPI,KAOGsM,EAPH,OAQgC1E,mBAAmB,IARnD,mBAQJ2E,EARI,KAQWC,EARX,KA0ELC,EACa,aAAjBtD,EAA8B,WAAa,mBAEvCQ,EACJsC,GAAkBhM,EAAKyM,OAAS,GAAK1M,EAAM0M,OAAS,GAAKrG,EAAYsG,KAAK3M,GAC5E,OACE,yBAAKoC,UAAWC,IAAOiC,WACrB,wBAAIlC,UAAWC,IAAOuK,eAAtB,iBACiBH,EAAmBI,eAEpC,wEAEA,yBAAKzK,UAAWC,IAAOyK,kBACrB,mDACA,yBAAK1K,UAAWC,IAAO0K,UACrB,yBAAK3K,UAAWC,IAAO2K,KACrB,0BAAM5K,UAAWG,IAAW,aAAcF,IAAO4K,SACjD,2BACEhN,KAAK,OACLuG,KAAK,OACLpE,UAAWG,IAAWF,IAAO6K,MAAO,qBACpCrE,SAAU,SAACH,GAAD,OAAO2D,EAAQ3D,EAAE/G,OAAOuF,QAClCA,MAAOjH,EACP6I,YAAY,UAGhB,yBAAK1G,UAAWC,IAAO2K,KACrB,0BAAM5K,UAAWG,IAAW,iBAAkBF,IAAO4K,SACrD,2BACEhN,KAAK,QACLuG,KAAK,QACLpE,UAAWG,IACTF,IAAOrC,MACP,oBACAqC,IAAO6K,OAETrE,SAAU,SAACH,GAAD,OAAO4D,EAAS5D,EAAE/G,OAAOuF,QACnCA,MAAOlH,EACP8I,YAAY,QACZqE,QAAS9G,EAAY+G,OACrBC,UAAQ,MAId,yBAAKjL,UAAWC,IAAOiL,eACrB,kBAAC,oBAAD,CACEC,SAC2BzO,EAE3B0O,cAtDN1O,gCAuDM2O,WApDN3O,gBAqDM4O,0BA/GwB,SAACC,EAAe/N,GAGhD,GAFA4M,EAAkB,MAEdmB,GAAUA,EAAOjB,OAAS,GAAKiB,EAAO,IAA1C,CAKA,IAAM7N,EAA+B,CACnCoG,OAAyB,IAAjB+C,OAAO/C,GACf0H,SAAU,MACVC,UAAW1E,EACX2E,SAAU,GAGN/N,EAAe,CACnBE,OACAD,QACAJ,QACAO,gBAAiBD,EACjBG,cAAe8L,GAGjB,OAAOxM,4BAAkBC,EAAOC,EAAUC,EAASC,GAChDV,MAAK,SAACC,GACc,MAAfA,EAAIyO,QACN/G,EAAS,CAAER,KP5EE,iBO4EoBC,QAAS,OAG7ClH,OAAM,SAACC,GACN,GAAIA,EAAIwO,SAAU,CAChB,IAAIC,EAAiC,GACjCzO,EAAIwO,SAASE,KAAKP,OACpBM,EAAiBzO,EAAIwO,SAASE,KAAKP,OAC5BnO,EAAIwO,SAASE,KAAKC,UACzBF,EAAiB,CACf,CAAEG,KAAM,kBAAmBC,OAAQ7O,EAAIwO,SAASE,KAAKC,WAGzD,IAAMG,EACJL,EAAevB,OAAS,EACpBuB,EAAe1I,KAAI,SAACgJ,GAClB,OD3CCC,EC2CUxE,EAAcuE,EAAMH,QD1CjCI,EC2CWxE,EAAauE,EAAMH,MAEnBG,EAAMF,OD9CjC,IAAmBG,KCiDH,GACNhC,EAAkB8B,OA7CtB9B,EAAkBmB,EAAOpI,KAAI,SAACgJ,GAAD,OAAWA,EAAMJ,aA4GxCM,OAAO,MACPC,WAAW,IAEX,kBAAC,EAAD,MACA,yBAAKtM,UAAU,oBACZmK,EAAchH,KAAI,SAAC2D,GAAD,OACjB,wBAAIzD,IAAG,mBAAcyD,IAAiBA,OAI1C,6BACA,wBAAI9G,UAAWC,IAAO8F,MAAtB,oBACA,0BAAM/F,UAAWC,IAAO8F,MACrB,IACAsE,EAFH,OAE0B,+BAAKvG,GAF/B,OAE+CmC,EAAY,KAE3D,4BACA,6BACE,2BAAOjG,UAAWC,IAAOsM,oBACvB,kBAACC,EAAA,EAAD,CACE1H,MAAM,WACN2H,WAAY,CAAE,aAAc,cAC5BpG,QA1IY,kBAAMyD,GAAiBD,IA2InC6C,QAAS7C,IAEX,kDACmB,oDAIvB,6BACE,2BAAO7J,UAAWC,IAAOsM,oBACvB,kBAACC,EAAA,EAAD,CACE1H,MAAM,WACN2H,WAAY,CAAE,aAAc,cAC5BpG,QAtJmB,kBACjC2D,GAAwBD,IAsJV2C,QAAS3C,IAEX,2LAOoB,aAAvBM,EACC,oHAEwBpE,EAFxB,4DAMA,uJAEkE,IAC/DA,EAHH,6KAQF,yBAAKjG,UAAWC,IAAO0M,QACrB,4BACEvI,KAAK,SACLpE,UAAWG,IAAW,oBAAqBF,IAAO2M,SAClDvG,QAAS,kBAAMzB,EAAS,CAAER,KPlOnB,iBOkOyCC,QAAS,MAH3D,eAOA,kBAAC,EAAD,CAAkBkD,UAAWA,U,oCCrM5BsF,GAzBW,SAAC7L,GACzB,IAAM4D,EAAWQ,IAEjB,OACE,uBAAKpF,UAAWC,IAAOiC,UAAWE,cAAY,sBAC5C,wCACA,6DACoC,IACV,cAAvBpB,EAAM+F,aAAN,sCACkC/F,EAAMiF,WADxC,+CAEwBjF,EAAMiF,WAF9B,6BAKH,uBAAKjG,UAAWC,IAAO6M,MAAOzL,IAAK0L,IAAiBxL,IAAI,SAExD,0BACEvB,UAAWG,IAAWF,IAAO+M,UAAW,uBACxC3G,QAAS,kBAAMzB,EAAS,CAAER,KRvBd,cQuBiCC,aAASc,MAFxD,YCVArH,GAAiBmP,cA6BR5H,GA3BM,SAACrE,GAAkB,IAC9BgD,EAAcgB,IAAdhB,UACFY,EAAWQ,IAOjB,OACE,yBACE9H,GAAG,gBACH0C,UAAWG,IAAWF,IAAO+F,mBAAoB,mBACjD1F,MAAO,CAAE4M,QAASlJ,GAAa,EAAI,QAAU,SAE7C,4BAAQhE,UAAW,qBAAsBqG,QAX1B,SAACC,GAClBA,EAAEW,iBACFrC,EAAS,CAAER,KTnBK,cSmBcC,aAASc,MASrC,QAGe,IAAdnB,GAAmB,kBAACmJ,EAAgBnM,GACtB,IAAdgD,GACC,kBAAC,EAAD,iBAAiBhD,EAAjB,CAAwBlD,eAAgBA,MAE3B,IAAdkG,GAAmB,kBAAC,GAAsBhD,K,oiBCJjD,IAAMoM,GAAgB/H,GA4JPgI,GA1JI,SAACrM,GAClB,IAAM4D,EAAWQ,IADkB,EAEKI,mBAAS,IAFd,mBAE5BuB,EAF4B,KAEduG,EAFc,KAI7BC,EAAY,SAACC,GACjB5I,EAAS,CAAER,KVxCQ,iBUwCcC,QAAS,IAC1CiJ,EAAgBE,EAAMjO,OAAOuF,QAGzB2I,EAAiBC,OAAOC,KAAK3M,EAAM4M,WAAWC,QAAO,SAACC,GAC1D,OAAmC,MAA5B9M,EAAM4M,UAAUE,MAGnB1K,EAAW2K,OAAO3K,SAASzB,KAC3BqM,EAAgB,wBAA0BhN,EAAMiF,WAEhDgI,EAAuB,CAAEC,OAAQ,GAAInP,MAAO,IAElD,OACE,kBAACkC,GAAD,KACE,4BAAQjB,UAAWC,KAAOkO,gBACxB,yBACEnO,UAAWC,KAAOmO,WAClB/M,IACEL,EAAMqN,SACF3R,0CAAiCsE,EAAMqN,SACvCC,KAEN/M,IAAKP,EAAMuN,aAIf,wBAAIvO,UAAWC,KAAOsO,WAAYvN,EAAMuN,WACvCvN,EAAMvB,cACL,kBAACJ,GAAA,EAAD,CACEG,aAAcwB,EAAMxB,aACpBC,aAAcuB,EAAMvB,aACpBC,iBAAkBsB,EAAMtB,iBACxBC,iBAAkBqB,EAAMrB,iBACxBC,aAAcoB,EAAMpB,aACpBC,aAAcmB,EAAMnB,aACpBC,eAAgBkB,EAAMlB,eACtBC,eAAgBiB,EAAMjB,iBAI1B,yBAAKC,UAAWC,KAAOuO,iBACpBxN,EAAMyN,iBACL,4BACE3J,MAAM,WACN9E,UAAWG,IAAWF,KAAOyO,OAAQ,kBACrCrI,QAASkH,GAHX,YAQDvM,EAAM2N,eACL,4BACE7J,MAAM,YACN9E,UAAWG,IAAWF,KAAOyO,OAAQ,oBACrCrI,QAASkH,GAHX,YASHE,IAAmB,GAClB,yBAAKzN,UAAWC,KAAO2O,oBACpBnB,EAAetK,KAAI,SAAC2K,GACnB,MAAgB,YAAZA,GAAqC,SAAZA,EAEzB,kBAAC,IAAMe,SAAP,CAAgBxL,IAAKyK,GACnB,uBAAGzK,IAAKyK,EAAS9N,UAAWC,KAAO6O,cAAnC,UACMhB,EADN,MAEE,uBACE9N,UAAWC,KAAO8O,eAClBpN,KAAI,iBAAYX,EAAM4M,UAAUE,IAChCvO,OAAO,SACPyP,IAAI,uBAEHlB,KAOP,kBAAC,IAAMe,SAAP,CAAgBxL,IAAKyK,GACnB,uBAAGzK,IAAKyK,EAAS9N,UAAWC,KAAO6O,cAAnC,UACMhB,EADN,MAEE,0BAAM9N,UAAWC,KAAO8O,gBACrB/N,EAAM4M,UAAUE,UAQ/B,GAGF,kBAACV,GAAD,CACErG,aAAcA,EACdtJ,SAAUuD,EAAMvD,SAChBwI,WAAYjF,EAAMiF,aAGlB,yBAAKjG,UAAWC,KAAOgP,iBACrB,yBAAKjP,UAAWC,KAAOiP,qBACrB,kBAACC,GAAA,EAAD,CACEC,IAAKhM,EACLiM,MAAOrB,EACPhO,UAAU,SAEV,kBAAC,cAAD,CACEsP,QAAQ,WACRC,QAtGoB,UAuGpBjP,MAAO2N,MAKb,yBAAKjO,UAAWC,KAAOiP,qBACrB,kBAACM,GAAA,EAAD,CAAoBJ,IAAKhM,EAAUpD,UAAU,SAC3C,kBAAC,cAAD,CACEsP,QAAQ,UACRC,QAhHoB,UAiHpBjP,MAAO2N,MAKb,yBAAKjO,UAAWC,KAAOiP,qBACrB,kBAACO,GAAA,EAAD,CAAkBL,IAAKhM,EAAUpD,UAAU,SACzC,kBAAC,cAAD,CACEsP,QAAQ,QACRC,QA1HoB,UA2HpBjP,MAAO2N,OAOjB,yBAAKjO,UAAWC,KAAOyP,kBAWvBzO,GAAYW,KAAO+N,QAAV,M,m6BCtLf,IAuEeC,GAvEI,SAAC5O,GAAiB,MAEPwE,qBAFO,mBAE5B7C,EAF4B,KAEpBkN,EAFoB,OAGLrK,oBAAkB,GAHb,mBAG5BsK,EAH4B,KAGnBC,EAHmB,KAI3BzS,EAAO0S,cAAP1S,GAEF2S,EAAS,uCAAG,4BAAAnT,EAAA,yDAChBiT,GAAW,GADK,KAEDzS,GAFC,qCAEYD,qBAAUC,GAFtB,0BAEV4S,EAFU,KAGhBL,EAAUK,EAAOpE,MACjBiE,GAAW,GAJK,2CAAH,qDAWf,OALAI,qBAAU,WACRF,MAEC,IAEItN,EACL,gBAAC,GAAD,CAAWxB,SAAUH,EAAMG,UACzB,gBAACiP,GAAD,KAAazN,EAAO9E,MACpB,gBAACwS,GAAD,KAEE,gBAAC,EAAD,CACE1N,OAAQ,CACN9E,KAAM8E,EAAO9E,KACbiF,UAAWH,EAAOG,UAClBD,YAAaF,EAAO2N,aACpBrO,MAAOU,EAAOV,MACdW,QAASD,EAAOC,QAChBG,eAAgBJ,EAAOI,kBAG3B,gBAAC,EAAD,KACE,gBAAC,GAAD,CACE0L,gBAAiB9L,EAAO4N,iBACxB5B,cAAehM,EAAO6N,gBACtBhR,aAAcmD,EAAO8N,cACrBhR,aAAckD,EAAO+N,cACrB/Q,iBAAkBgD,EAAOgO,kBACzB/Q,aAAc+C,EAAOiO,cACrB/Q,aAAc8C,EAAOkO,eACrB/Q,eAAgB6C,EAAOmO,gBACvB/Q,eAAgB4C,EAAOoO,iBACvBxC,UAAW5L,EAAOqO,WAClB3C,SAAU1L,EAAOsO,gBACjBhL,WAAYtD,EAAO9E,KACnB6B,iBAAkBiD,EAAOuO,mBACzBtD,UAAW,CACTuD,KAAMxO,EAAOyO,cACbC,UAAW1O,EAAO2O,cAClBC,QAAS5O,EAAO6O,aAChBC,QAAS9O,EAAO+O,YAChBC,KAAMhP,EAAOiP,UAGfnU,SAAUH,OAMlB,gCACGwS,EACC,gBAAC+B,GAAA,EAAD,CAAQC,QAAQ,IAEhB,gBAAC,WAAD,CAAW3Q,SAAUH,EAAMG,aAQ7BF,GAAYW,KAAOG,IAAV,MAMX,SAACf,GAAD,OAAkBA,EAAMG,UAAY,oBAGlCiP,GAAaxO,KAAOG,IAAV,MAaVsO,GAAmBzO,KAAOG,IAAV,O,gCC9GtB","file":"static/js/5.7e3767b4.chunk.js","sourcesContent":["const baseUrl = process.env.REACT_APP_API_ENDPOINT!;\n\nexport const sellers = baseUrl + 'sellers/';\nexport const charges = baseUrl + 'charges';\n","import axios from 'axios';\nimport { CardElement } from '@stripe/react-stripe-js';\nimport { Buyer, PaymentParams, SquarePaymentParams } from './types';\nimport { charges, sellers } from './endpoints';\n\n// Fix return typing\nexport const getSellers = async () =>\n  axios\n    .get(sellers)\n    .then((res) => res)\n    .catch((err) => err);\n\n// Fix return typing\nexport const getSeller = async (id: string) =>\n  axios\n    .get(sellers + id)\n    .then((res) => res)\n    .catch((err) => err);\n\n// TODO(ArtyEmsee): add typing for stripe elements\nexport const makePayment = async (\n  stripe: any,\n  elements: any,\n  payment: PaymentParams,\n  buyer: Buyer\n) => {\n  const { email, name } = buyer;\n\n  // TODO(ArtyEmsee): abstract api call, create global object for headers\n  await axios\n    .post(\n      charges,\n      {\n        is_square: false,\n        line_items: [payment],\n        email: email,\n      },\n      { headers: { 'Access-Control-Allow-Origin': '*' } }\n    )\n    .then(async (res) => {\n      // TODO(ArtyEmsee): fix response to success\n      if (!stripe || !elements) return;\n      else {\n        const cardElement = elements!.getElement(CardElement);\n        const result = await stripe!.confirmCardPayment(\n          `${res.data.client_secret}`,\n          {\n            payment_method: {\n              card: cardElement!,\n              billing_details: {\n                name: name,\n                email: email,\n              },\n            },\n          }\n        );\n\n        if (result.error) {\n          console.log(result.error.message);\n        } else {\n          if (result.paymentIntent?.status === 'succeeded') {\n            console.log(\n              result.paymentIntent?.status,\n              'The payment has been processed!'\n            );\n          }\n        }\n      }\n    });\n\n  // TODO(ArtyEmsee): fix response to error\n};\n\nexport const makeSquarePayment = async (\n  nonce: string,\n  sellerId: string,\n  payment: SquarePaymentParams,\n  buyer: Buyer\n) => {\n  const { email, name } = buyer;\n  const idempotencyKey = buyer.idempotency_key;\n  const isSubscribed = buyer.is_subscribed;\n\n  return await axios\n    .post(\n      charges,\n      {\n        is_square: true,\n        nonce,\n        line_items: [payment],\n        email,\n        name,\n        seller_id: sellerId,\n        idempotency_key: idempotencyKey,\n        is_subscribed: isSubscribed,\n      },\n      { headers: { 'Access-Control-Allow-Origin': '*' } }\n    )\n    .then(async (res) => {\n      return res;\n    })\n    .catch((err) => {\n      throw err;\n    });\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"progressContainer\":\"styles_progressContainer__3QTH2\",\"targetAmountBar\":\"styles_targetAmountBar__39mFS\",\"currentRaisedBar\":\"styles_currentRaisedBar__3nyvm\",\"contributionInfo\":\"styles_contributionInfo__2yMDv\",\"tooltipTable\":\"styles_tooltipTable__1Bew2\"};","module.exports = __webpack_public_path__ + \"static/media/404-error-image.f72ee016.png\";","export * from './api';\nexport * from './hooks';\n","import * as React from 'react';\nimport classnames from 'classnames';\nimport styles from './styles.module.scss';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { withStyles, Theme } from '@material-ui/core/styles';\n\ninterface Props {\n  amountRaised: number;\n  targetAmount: number;\n  progressBarColor: string;\n  numContributions: number;\n  numDonations: number;\n  numGiftCards: number;\n  donationAmount: number;\n  giftCardAmount: number;\n}\n\nconst SupporterTooltip = withStyles((theme: Theme) => ({\n  tooltip: {\n    backgroundColor: '#ffffff',\n    color: 'rgba(0, 0, 0, 0.87)',\n    width: 180,\n    fontSize: theme.typography.pxToRem(14),\n    border: '1px solid #dadde9',\n  },\n}))(Tooltip);\n\nconst ProgressBar = ({\n  amountRaised,\n  targetAmount,\n  progressBarColor,\n  numContributions,\n  numDonations,\n  numGiftCards,\n  donationAmount,\n  giftCardAmount,\n}: Props) => {\n  const progressWidth = (raised: number, target: number) => {\n    if (raised < target) return (raised / target) * 100;\n    return 100;\n  };\n\n  return (\n    <div className={styles.progressContainer}>\n      <div className={classnames(styles.targetAmountBar, 'progress-bar')}>\n        <div\n          className={styles.currentRaisedBar}\n          style={{\n            width: `${progressWidth(amountRaised, targetAmount)}%`,\n            backgroundColor: progressBarColor,\n            //defaults to default color if no color is passed in\n          }}\n        >\n          {' '}\n        </div>\n      </div>\n      <div className={styles.contributionInfo}>\n        <div>\n          ${(Math.floor(amountRaised) / 100).toLocaleString()} of $\n          {(Math.floor(targetAmount) / 100).toLocaleString()}\n        </div>\n        <div>\n          <SupporterTooltip\n            title={\n              <React.Fragment>\n                <table className={styles.tooltipTable}>\n                  <tbody>\n                    <tr>\n                      <td>\n                        <b>{numGiftCards}</b> vouchers\n                      </td>\n                      <td>\n                        <b>${Math.floor(giftCardAmount) / 100}</b>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td>\n                        <b>{numDonations}</b> donations\n                      </td>\n                      <td>\n                        <b>${Math.floor(donationAmount) / 100}</b>\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </React.Fragment>\n            }\n            enterTouchDelay={50}\n            placement=\"top\"\n          >\n            <div>\n              <b>{numContributions}</b> supporters\n            </div>\n          </SupporterTooltip>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProgressBar;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__1GePj\",\"paymentHeader\":\"styles_paymentHeader__OmQrO\",\"paymentContainer\":\"styles_paymentContainer__3PfAD\",\"row\":\"styles_row__3dGjH\",\"inputRow\":\"styles_inputRow__1h-gh\",\"termsAndConditions\":\"styles_termsAndConditions__1eI_p\",\"checkbox\":\"styles_checkbox__38N48\",\"btnRow\":\"styles_btnRow__m72Gz\",\"backBtn\":\"styles_backBtn__1r6gI\",\"label\":\"styles_label__3Gsvi\",\"icons\":\"styles_icons__LWRkK\",\"text\":\"styles_text__1yrcV\",\"squareCardRow\":\"styles_squareCardRow__1Sj4P\",\"squareCardRowItem\":\"styles_squareCardRowItem__k1hHU\"};","import React from 'react';\nimport styled from 'styled-components';\nimport ErrorImage from '../../images/404-error-image.png';\n\ninterface CompactProps {\n  menuOpen: boolean;\n}\n\nconst ErrorPage = (props: CompactProps) => {\n  return (\n    <Container>\n      <Text menuOpen={props.menuOpen}>\n        <Error src={ErrorImage} alt=\"error\" />\n        <MainHeader> Sorry Your Dumpling Was Not Found! </MainHeader>\n        <SubHeader>\n          {' '}\n          The page you are trying does not exist or has been moved.\n        </SubHeader>\n        <SubHeader>Please try going back to the homepage.</SubHeader>\n        <BackToHome>\n          <a href=\"https://sendchinatownlove.com/\">GO TO HOMEPAGE</a>\n        </BackToHome>\n      </Text>\n    </Container>\n  );\n};\n\nexport default ErrorPage;\n\nconst Container = styled.main`\n  font-family: futura;\n  background-color: #ffffff;\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n`;\n\nconst Error = styled.img`\n  width: 80%;\n  max-width: 480px;\n  margin: 0 auto;\n`;\n\nconst Text = styled.div`\n  margin: 0 auto;\n  width: 80%;\n  text-align: center;\n  display: ${(props: CompactProps) => (props.menuOpen ? 'none' : 'flex')};\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  flex: 1;\n`;\n\nconst MainHeader = styled.div`\n  font-weight: 600;\n`;\nconst SubHeader = styled.div`\n  font-weight: 400;\n  margin: 0.2rem auto;\n`;\nconst BackToHome = styled.div`\n  font-weight: 450;\n  font-size: 1rem;\n  a {\n    color: #a7182d;\n  }\n`;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__3Cpsn\",\"merchantIllustrationContainer\":\"styles_merchantIllustrationContainer__zMgd0\",\"merchantIllustration\":\"styles_merchantIllustration__-rjv5\",\"nationality\":\"styles_nationality__1LqAr\",\"address\":\"styles_address__TJ44x\",\"storeDetails\":\"styles_storeDetails__frA5Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navLinkContainer\":\"styles_navLinkContainer__2K1Dj\",\"navLink\":\"styles_navLink__248sq\",\"navLink--active\":\"styles_navLink--active__1j7FX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__VZ3u7\"};","module.exports = __webpack_public_path__ + \"static/media/misc-store.7e1a70b6.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"donationsContainer\":\"styles_donationsContainer__2I-52\",\"amountContainer\":\"styles_amountContainer__25lIo\",\"selectAmtContainer\":\"styles_selectAmtContainer__GP83r\",\"customAmt\":\"styles_customAmt__3IQuP\",\"nextBtn\":\"styles_nextBtn__1QIOk\",\"errorMessage\":\"styles_errorMessage__YVEH6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"amountContainer\":\"styles_amountContainer__5To4w\",\"selectAmtContainer\":\"styles_selectAmtContainer__3PJud\",\"customAmt\":\"styles_customAmt__2a-nw\",\"nextBtn\":\"styles_nextBtn__avAYg\",\"errorMessage\":\"styles_errorMessage__3-_LG\",\"donationsContainer\":\"styles_donationsContainer__3a9yb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__2viEp\",\"image\":\"styles_image__mrVUk\",\"finishBtn\":\"styles_finishBtn__2yINT\"};","module.exports = __webpack_public_path__ + \"static/media/chinatown-logo.f9e716ba.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__3Rmvf\",\"ownerName\":\"styles_ownerName__3FfLm\",\"ownerImage\":\"styles_ownerImage__1zndC\",\"ownerContainer\":\"styles_ownerContainer__2jGJO\",\"buttonContainer\":\"styles_buttonContainer__2bchx\",\"button\":\"styles_button__1x3xR\",\"summaryContainer\":\"styles_summaryContainer__2Z2qX\",\"socialContainer\":\"styles_socialContainer__3pjen\",\"socialIconContainer\":\"styles_socialIconContainer__1j4SA\",\"storeSummaryLabel\":\"styles_storeSummaryLabel__3wuYH\",\"fa\":\"styles_fa__33jUi\",\"extraInfoKey\":\"styles_extraInfoKey__2vRcY\",\"extraInfoValue\":\"styles_extraInfoValue__gWShN\",\"extraInfoContainer\":\"styles_extraInfoContainer__3U7v_\"};","module.exports = __webpack_public_path__ + \"static/media/female.46412c79.svg\";","import * as React from 'react';\nimport styles from './styles.module.scss';\n\ntype Props = {\n  story: string;\n};\n\nconst StoreStory: React.SFC<Props> = ({ story }) => (\n  <section className={styles.container}>{story}</section>\n);\n\nexport default StoreStory;\n","import * as React from 'react';\nimport styles from './styles.module.scss';\nimport { NavLink, Switch, Route } from 'react-router-dom';\nimport StoreStory from '../StoreStory';\n\ntype Props = {\n  className?: string;\n  story: string;\n};\n\nconst StoreDetails: React.SFC<Props> = ({ className, story }) => (\n  <section className={className} data-testid=\"Story Header\">\n    <nav className={styles.navLinkContainer}>\n      <NavLink\n        className={styles.navLink}\n        activeClassName={styles['navLink--active']}\n        to={`#`}\n      >\n        Story\n      </NavLink>\n      {/* <NavLink\n          className={styles.navLink}\n          activeClassName={styles['navLink--active']}\n          to={`/menu`}\n        >\n          Menu\n        </NavLink> */}\n      {/* <NavLink\n          className={styles.navLink}\n          activeClassName={styles['navLink--active']}\n          to={`/photos`}\n        >\n          Photos\n        </NavLink> */}\n    </nav>\n    <Switch>\n      <Route path={``}>\n        <StoreStory story={story} />\n      </Route>\n      {/* <Route path={`/menu`}>\n          <StoreMenu {...storeMenuProps} />\n        </Route> */}\n      {/* <Route path={`/photos`}>\n          <StoreMenu {...storePhotoProps}/>\n        </Route> */}\n    </Switch>\n  </section>\n);\n\nexport default StoreDetails;\n","import * as React from 'react';\nimport styles from './styles.module.scss';\nimport StoreDetails from '../StoreDetails';\nimport classnames from 'classnames';\nimport { Location, Seller } from '../../utilities';\nimport defaultStoreFront from './misc-store.png';\n\ntype Props = {\n  seller: Seller;\n};\n\nexport const StoreInfo: React.SFC<Props> = ({ seller }) => {\n  const { summary, story, cuisineName, locations } = seller;\n  return (\n    <section className={classnames(styles.container)} data-testid=\"Store Info\">\n      {\n        <img\n          src={\n            seller.hero_image_url\n              ? process.env.REACT_APP_BASE_URL + seller.hero_image_url\n              : defaultStoreFront\n          }\n          alt={`${seller.name} Illustration`}\n          className={styles.merchantIllustration}\n        />\n      }\n\n      <div className={styles.nationality}>{cuisineName}</div>\n      <div>\n        {locations &&\n          locations.map((location: Location) => (\n            <React.Fragment key={location.seller_id}>\n              <div className={styles.address}>{location.address1}</div>\n              <div className={styles.address}>{location.address2}</div>\n              <div className={styles.address}>\n                {location.city}, {location.state} {location.zip_code}\n              </div>\n              <div className={styles.address}>{location.phone_number}</div>\n            </React.Fragment>\n          ))}\n      </div>\n      <p>{summary}</p>\n      <StoreDetails story={story} />\n    </section>\n  );\n};\n","/**\n * Modal Payment STATE\n *\n * @typedef {Object} DefaultModalPaymentState\n * @property {number} amount - amount (in cents)\n * @property {boolean} customInput - if a user used the custom input\n * @property {boolean} close - modal for closing the payment modal\n * @property {number} modalView - expiration year\n *\n */\n\nexport type ModalPaymentState = {\n  amount: string;\n  customInput: boolean;\n  modalView: number;\n};\n\nexport const defaultState: ModalPaymentState = {\n  amount: '',\n  customInput: false,\n  modalView: -1,\n};\n","/**\n *\n * TYPE constants for Card Details Context\n *\n *\n */\nconst SET_MODAL_VIEW = 'SET_MODAL_VIEW';\nconst SET_AMOUNT = 'SET_AMOUNT';\nconst CLOSE_MODAL = 'CLOSE_MODAL';\nconst CLEAR_FORMS = 'CLEAR_FORMS';\n\nconst EMAIL_REGEX = /[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$/;\nexport { SET_MODAL_VIEW, SET_AMOUNT, CLOSE_MODAL, CLEAR_FORMS, EMAIL_REGEX };\n","import {\n  SET_MODAL_VIEW,\n  SET_AMOUNT,\n  CLOSE_MODAL,\n  CLEAR_FORMS,\n} from './constants';\nimport { defaultState, ModalPaymentState } from './types';\n\nexport interface Action {\n  type: string;\n  payload: any;\n}\n\nconst ModalPaymentReducer = (state: ModalPaymentState, action: Action) => {\n  const { type, payload } = action;\n\n  switch (type) {\n    case SET_MODAL_VIEW:\n      return { ...state, modalView: payload };\n    case SET_AMOUNT:\n      return { ...state, amount: payload };\n    case CLOSE_MODAL:\n      return defaultState;\n    case CLEAR_FORMS:\n      return defaultState;\n    default:\n      return state;\n  }\n};\nexport default ModalPaymentReducer;\n","/**\n *\n * Modal Payment Context\n *\n *\n */\n\nimport React from 'react';\nimport { defaultState } from './types';\nimport ModalPaymentReducer, { Action } from './reducers';\n\n// CONTEXT\nconst ModalPaymentStateContext = React.createContext(defaultState);\nconst ModalPaymentDispatchContext = React.createContext(\n  (() => null) as React.Dispatch<Action>\n);\n\n/**\n * Modal Payment Provider\n *\n * @param {node} children - return the react components that are the going to use the context\n * @return {node} The context that holds all state props/methods\n *\n */\n\nconst ModalPaymentProvider = (props: any) => {\n  const [state, dispatch] = React.useReducer(ModalPaymentReducer, defaultState);\n\n  return (\n    <ModalPaymentStateContext.Provider value={state}>\n      <ModalPaymentDispatchContext.Provider value={dispatch}>\n        {props.children}\n      </ModalPaymentDispatchContext.Provider>\n    </ModalPaymentStateContext.Provider>\n  );\n};\n\nfunction useModalPaymentState() {\n  const context = React.useContext(ModalPaymentStateContext);\n  if (context === undefined) {\n    throw new Error('useModalPaymentState must be used within a CountProvider');\n  }\n  return context;\n}\nfunction useModalPaymentDispatch() {\n  const context = React.useContext(ModalPaymentDispatchContext);\n  if (context === undefined) {\n    throw new Error(\n      'useModalPaymentDispatch must be used within a CountProvider'\n    );\n  }\n  return context;\n}\n\nexport { ModalPaymentProvider, useModalPaymentDispatch, useModalPaymentState };\n","import React, { useState } from 'react';\nimport classnames from 'classnames';\nimport styles from './styles.module.scss';\nimport {\n  useModalPaymentState,\n  useModalPaymentDispatch,\n} from '../../utilities/hooks/ModalPaymentContext/context';\nimport {\n  SET_MODAL_VIEW,\n  SET_AMOUNT,\n} from '../../utilities/hooks/ModalPaymentContext/constants';\nimport { useTranslation } from 'react-i18next';\n\nexport interface Props {\n  purchaseType: string;\n  sellerId: string;\n  sellerName: string;\n}\n\nexport const Modal = (props: Props) => {\n  const { t } = useTranslation();\n\n  const { amount } = useModalPaymentState();\n  const [isCustomAmount, setIsCustomAmount] = useState(false);\n  const [selected, setSelected] = useState('');\n  const dispatch = useModalPaymentDispatch();\n  const minAmount = 5;\n  const maxAmount = 10000;\n\n  const handleAmount = (value: string, customAmount: boolean, text: string) => {\n    setSelected(text);\n    setIsCustomAmount(customAmount);\n    dispatch({ type: SET_AMOUNT, payload: value });\n  };\n\n  const openModal = (e: any) => {\n    e.preventDefault();\n    dispatch({ type: SET_MODAL_VIEW, payload: 1 });\n  };\n\n  const buttonAmounts = [\n    { value: '10', text: '$10' },\n    { value: '25', text: '$25' },\n    { value: '50', text: '$50' },\n    { value: '100', text: '$100' },\n  ];\n\n  return (\n    <form\n      id=\"donation-form\"\n      className={classnames(styles.donationsContainer, 'modalForm--form')}\n      data-testid=\"Modal Amount\"\n    >\n      <div>\n        <h2>{props.sellerName}</h2>\n      </div>\n\n      <p>{t('paymentProcessing.amount.header')}</p>\n\n      <div className={styles.amountContainer}>\n        <label htmlFor=\"select-amount\">\n          {t('paymentProcessing.amount.label1')}\n        </label>\n        <br />\n        <div className={styles.selectAmtContainer}>\n          {buttonAmounts.map((amount) => (\n            <button\n              type=\"button\"\n              className={\n                selected === amount.text\n                  ? 'modalButton--selected'\n                  : 'modalButton--outlined'\n              }\n              onClick={(e) => {\n                handleAmount(amount.value, false, amount.text);\n              }}\n            >\n              {amount.text}\n            </button>\n          ))}\n        </div>\n        <label htmlFor=\"custom-amount\">\n          {t('paymentProcessing.amount.label2')}\n        </label>\n        <br />\n        <input\n          name=\"custom-amount\"\n          type=\"number\"\n          onFocus={(e) => handleAmount('', true, '')}\n          className={classnames(styles.customAmt, 'modalInput--input')}\n          onChange={(e) => {\n            handleAmount(e.target.value, true, '');\n          }}\n          value={isCustomAmount ? amount : ''}\n          placeholder=\"$\"\n          min=\"5\"\n          max=\"10000\"\n        />\n        {Number(amount) < minAmount && isCustomAmount && (\n          <div className={styles.errorMessage}>\n            {t('paymentProcessing.amount.minimum')}{' '}\n            {props.purchaseType === 'gift_card' ? 'voucher' : 'donation'}{' '}\n            {t('paymentProcessing.amount.amount')}: $5\n          </div>\n        )}\n        {Number(amount) > maxAmount && isCustomAmount && (\n          <div className={styles.errorMessage}>\n            {t('paymentProcessing.amount.maximum')}{' '}\n            {props.purchaseType === 'gift_card' ? 'voucher' : 'donation'}{' '}\n            {t('paymentProcessing.amount.amount')}: $10000\n          </div>\n        )}\n      </div>\n\n      <button\n        type=\"button\"\n        className={classnames(styles.nextBtn, 'modalButton--filled')}\n        onClick={openModal}\n        disabled={Number(amount) < minAmount || Number(amount) > maxAmount}\n      >\n        {t('paymentProcessing.amount.submit')}\n      </button>\n    </form>\n  );\n};\n\nexport default Modal;\n","import React from 'react';\nimport {\n  CreditCardNumberInput,\n  CreditCardExpirationDateInput,\n  CreditCardPostalCodeInput,\n  CreditCardCVVInput,\n} from 'react-square-payment-form';\nimport 'react-square-payment-form/lib/default.css';\nimport styles from './styles.module.scss';\n\ntype Props = {};\n\nconst SquareCardForm = (props: Props) => {\n  return (\n    <fieldset className=\"sq-fieldset\">\n      <CreditCardNumberInput />\n\n      <div className={styles.squareCardRow}>\n        <div className={styles.squareCardRowItem}>\n          <CreditCardExpirationDateInput />\n        </div>\n        <div className={styles.squareCardRowItem}>\n          <CreditCardCVVInput />\n        </div>\n        <div className={styles.squareCardRowItem}>\n          <CreditCardPostalCodeInput />\n        </div>\n      </div>\n    </fieldset>\n  );\n};\n\nexport default SquareCardForm;\n","import React, { useContext, useState } from 'react';\nimport { Context } from 'react-square-payment-form';\n\ntype Props = {\n  canSubmit: boolean;\n};\n\nconst SubmissionButton = ({ canSubmit }: Props) => {\n  const context = useContext(Context);\n  var [submittable] = useState(false);\n\n  const handleSubmit = (evt: { preventDefault: () => void }) => {\n    evt.preventDefault();\n    context.onCreateNonce();\n  };\n\n  submittable = canSubmit;\n\n  return (\n    <button\n      type=\"button\"\n      className={'modalButton--filled'}\n      onClick={handleSubmit}\n      disabled={!submittable}\n    >\n      Confirm\n    </button>\n  );\n};\n\nexport default SubmissionButton;\n","const SquareErrors = {\n  ADDRESS_VERIFICATION_FAILURE:\n    'The card issuer declined the request because the postal code is invalid.',\n  ALLOWABLE_PIN_TRIES_EXCEEDED:\n    'The card has exhausted its available pin entry retries set by the card issuer.',\n  BAD_EXPIRATION:\n    'The card expiration date is either missing or incorrectly formatted.',\n  CARDHOLDER_INSUFFICIENT_PERMISSIONS:\n    'The card issuer has declined the transaction due to restrictions on where the card can be used.',\n  CARD_EXPIRED:\n    'The card issuer declined the request because the card is expired.',\n  CARD_PROCESSING_NOT_ENABLED:\n    'The location provided in the API call is not enabled for credit card processing.',\n  CARD_NOT_SUPPORTED: 'The card is not supported in the geographic region.',\n  CARD_TOKEN_EXPIRED: 'The provided card token (nonce) has expired.',\n  CARD_TOKEN_USED:\n    'The provided card token (nonce) was already used to process payment.',\n  CHIP_INSERTION_REQUIRED:\n    'The card issuer requires reading the card using a chip reader.',\n  CVV_FAILURE:\n    'The card issuer declined the request because the CVV value is invalid.',\n  EXPIRATION_FAILURE:\n    'The card expiration date is either invalid or indicates that the card is expired.',\n  GENERIC_DECLINE: 'An unexpected error occurred.',\n  GIFT_CARD_AVAILABLE_AMOUNT:\n    'Voucher does not have sufficient balance for requested amount and tip.',\n  INSUFFICIENT_FUNDS:\n    'This payment source has insufficient funds to cover the payment.',\n  INSUFFICIENT_PERMISSIONS:\n    'This Square account does not have the permissions to accept this payment.',\n  INVALID_ACCOUNT: 'The card issuer was not able to locate account on record.',\n  INVALID_CARD_DATA: 'Generic error - the provided card data is invalid.',\n  INVALID_EMAIL_ADDRESS: 'The provided email address is invalid.',\n  INVALID_EXPIRATION:\n    'The expiration date for the payment card is invalid. For example, it indicates a date in the past.',\n  INVALID_FEES: 'The app_fee_money on a payment is too high.',\n  INVALID_LOCATION:\n    'This Square account cannot take payments in the specified region',\n  INVALID_PIN:\n    'The card issuer declined the request because the PIN is invalid.',\n  INVALID_POSTAL_CODE: 'The postal code is incorrectly formatted.',\n  MANUALLY_ENTERED_PAYMENT_NOT_SUPPORTED:\n    'The card must be swiped, tapped, or dipped.',\n  PAN_FAILURE: 'The specified card number is invalid.',\n  PAYMENT_LIMIT_EXCEEDED:\n    'Square declined the request because the payment amount exceeded the processing limit for this merchant.',\n  TEMPORARY_ERROR: 'A temporary internal error occurred.',\n  TRANSACTION_LIMIT:\n    'The card issuer has determined the payment amount is either too high or too low.',\n  VOICE_FAILURE:\n    'The card issuer declined the request because the issuer requires voice authorization from the cardholder.',\n  CARD_DECLINED_VERIFICATION_REQUIRED:\n    'This payment requires verification. For more information, see SCA Overview.',\n};\n\nfunction hasKey<O>(obj: O, key: keyof any): key is keyof O {\n  return key in obj;\n}\nexport { SquareErrors, hasKey };\n","import React, { useState } from 'react';\nimport classnames from 'classnames';\nimport { Checkbox } from '@material-ui/core';\n\nimport { SquarePaymentForm } from 'react-square-payment-form';\nimport 'react-square-payment-form/lib/default.css';\nimport styles from './styles.module.scss';\nimport SquareCardForm from './SquareCardForm';\nimport SubmissionButton from './SubmissionButton';\nimport { SquareErrors, hasKey } from '../../consts';\nimport {\n  makeSquarePayment,\n  SquarePaymentParams,\n  Buyer,\n} from '../../utilities/api';\n\nimport {\n  useModalPaymentState,\n  useModalPaymentDispatch,\n} from '../../utilities/hooks/ModalPaymentContext/context';\nimport {\n  EMAIL_REGEX,\n  SET_MODAL_VIEW,\n} from '../../utilities/hooks/ModalPaymentContext/constants';\n\ntype Props = {\n  purchaseType: string;\n  sellerId: string;\n  sellerName: string;\n  idempotencyKey: string;\n};\n\ntype ErrorMessage = {\n  code: string;\n  detail: string;\n};\n\nconst SquareModal = ({\n  purchaseType,\n  sellerId,\n  sellerName,\n  idempotencyKey,\n}: Props) => {\n  const { amount } = useModalPaymentState();\n  const dispatch = useModalPaymentDispatch();\n\n  const [isTermsChecked, setTermsChecked] = useState(false);\n  const [isSubscriptionChecked, setSubscriptionChecked] = useState(true);\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [errorMessages, setErrorsMessages] = useState<string[]>([]);\n\n  const checkTermsAgreement = () => setTermsChecked(!isTermsChecked);\n  const checkSubscriptionAgreement = () =>\n    setSubscriptionChecked(!isSubscriptionChecked);\n\n  const cardNonceResponseReceived = (errors: any[], nonce: string) => {\n    setErrorsMessages([]);\n\n    if (errors && errors.length > 0 && errors[0]) {\n      setErrorsMessages(errors.map((error) => error.message));\n      return;\n    }\n\n    const payment: SquarePaymentParams = {\n      amount: Number(amount) * 100,\n      currency: 'usd',\n      item_type: purchaseType,\n      quantity: 1,\n    };\n\n    const buyer: Buyer = {\n      name,\n      email,\n      nonce,\n      idempotency_key: idempotencyKey,\n      is_subscribed: isSubscriptionChecked,\n    };\n\n    return makeSquarePayment(nonce, sellerId, payment, buyer)\n      .then((res) => {\n        if (res.status === 200) {\n          dispatch({ type: SET_MODAL_VIEW, payload: 2 });\n        }\n      })\n      .catch((err) => {\n        if (err.response) {\n          let responseErrors: ErrorMessage[] = [];\n          if (err.response.data.errors)\n            responseErrors = err.response.data.errors;\n          else if (err.response.data.message)\n            responseErrors = [\n              { code: 'GENERIC_DECLINE', detail: err.response.data.message },\n            ];\n\n          const newErrors =\n            responseErrors.length > 0\n              ? responseErrors.map((error: ErrorMessage) => {\n                  if (hasKey(SquareErrors, error.code)) {\n                    return SquareErrors[error.code];\n                  } else {\n                    return error.detail;\n                  }\n                })\n              : [];\n          setErrorsMessages(newErrors);\n        }\n      });\n  };\n\n  const applicationId = process.env.REACT_APP_SQUARE_APPLICATION_ID\n    ? process.env.REACT_APP_SQUARE_APPLICATION_ID\n    : '';\n  const locationId = process.env.REACT_APP_SQUARE_LOCATION_ID\n    ? process.env.REACT_APP_SQUARE_LOCATION_ID\n    : '';\n  const purchaseTypePhrase =\n    purchaseType === 'donation' ? 'Donation' : 'Voucher purchase';\n\n  const canSubmit =\n    isTermsChecked && name.length > 0 && email.length > 0 && EMAIL_REGEX.test(email);\n  return (\n    <div className={styles.container}>\n      <h2 className={styles.paymentHeader}>\n        Complete your {purchaseTypePhrase.toLowerCase()}\n      </h2>\n      <p>Please add your payment information below</p>\n\n      <div className={styles.paymentContainer}>\n        <h3>Payment Information</h3>\n        <div className={styles.inputRow}>\n          <div className={styles.row}>\n            <span className={classnames('fa fa-user', styles.icons)} />\n            <input\n              name=\"name\"\n              type=\"text\"\n              className={classnames(styles.label, 'modalInput--input')}\n              onChange={(e) => setName(e.target.value)}\n              value={name}\n              placeholder=\"Name\"\n            />\n          </div>\n          <div className={styles.row}>\n            <span className={classnames('fa fa-envelope', styles.icons)} />\n            <input\n              name=\"email\"\n              type=\"email\"\n              className={classnames(\n                styles.email,\n                'modalInput--input',\n                styles.label\n              )}\n              onChange={(e) => setEmail(e.target.value)}\n              value={email}\n              placeholder=\"Email\"\n              pattern={EMAIL_REGEX.source}\n              required\n            />\n          </div>\n        </div>\n        <div className={styles.sqPaymentForm}>\n          <SquarePaymentForm\n            sandbox={\n              !process.env.NODE_ENV || process.env.NODE_ENV === 'development'\n            }\n            applicationId={applicationId}\n            locationId={locationId}\n            cardNonceResponseReceived={cardNonceResponseReceived}\n            formId=\"SPF\"\n            apiWrapper=\"\"\n          >\n            <SquareCardForm />\n            <div className=\"sq-error-message\">\n              {errorMessages.map((errorMessage) => (\n                <li key={`sq-error-${errorMessage}`}>{errorMessage}</li>\n              ))}\n            </div>\n\n            <br />\n            <h3 className={styles.text}>Checkout details</h3>\n            <span className={styles.text}>\n              {' '}\n              {purchaseTypePhrase} of <b>${amount}</b> to {sellerName}{' '}\n            </span>\n            <p />\n            <div>\n              <label className={styles.termsAndConditions}>\n                <Checkbox\n                  value=\"checkedA\"\n                  inputProps={{ 'aria-label': 'Checkbox A' }}\n                  onClick={checkTermsAgreement}\n                  checked={isTermsChecked}\n                />\n                <span>\n                  I agree with the <b>Terms & Conditions</b>\n                </span>\n              </label>\n            </div>\n            <div>\n              <label className={styles.termsAndConditions}>\n                <Checkbox\n                  value=\"checkedB\"\n                  inputProps={{ 'aria-label': 'Checkbox B' }}\n                  onClick={checkSubscriptionAgreement}\n                  checked={isSubscriptionChecked}\n                />\n                <span>\n                  I'd like to receive email updates from Send Chinatown Love,\n                  such as when the merchant receives my donation/purchase or\n                  when a new merchant is onboarded\n                </span>\n              </label>\n            </div>\n            {purchaseTypePhrase === 'Donation' ? (\n              <p>\n                By proceeding with your transaction, you understand that you are\n                making a donation to {sellerName}. No goods or services were\n                exchanged for this donation.\n              </p>\n            ) : (\n              <p>\n                By proceeding with your purchase, you understand that the\n                voucher card is not redeemable for cash and can only be used at{' '}\n                {sellerName}. All purchases are final. In the event that the\n                merchant is no longer open at the time of redemption, Send\n                Chinatown Love Inc. will not be able to refund your purchase.\n              </p>\n            )}\n            <div className={styles.btnRow}>\n              <button\n                type=\"button\"\n                className={classnames('modalButton--back', styles.backBtn)}\n                onClick={() => dispatch({ type: SET_MODAL_VIEW, payload: 0 })}\n              >\n                ᐸ Back\n              </button>\n              <SubmissionButton canSubmit={canSubmit} />\n            </div>\n          </SquarePaymentForm>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SquareModal;\n","import * as React from 'react';\nimport classnames from 'classnames';\nimport styles from './styles.module.scss';\nimport confirmationPic from './chinatown-logo.png';\n\nimport { useModalPaymentDispatch } from '../../utilities/hooks/ModalPaymentContext/context';\nimport { CLOSE_MODAL } from '../../utilities/hooks/ModalPaymentContext/constants';\n\nexport type Props = {\n  purchaseType: string;\n  sellerId: string;\n  sellerName: string;\n};\n\nconst ModalConfirmation = (props: Props) => {\n  const dispatch = useModalPaymentDispatch();\n\n  return (\n    <div className={styles.container} data-testid=\"Modal Confirmation\">\n      <h2>Thank you!</h2>\n      <p>\n        We appreciate your support. We'll{' '}\n        {props.purchaseType === 'gift_card'\n          ? `email you your voucher when ${props.sellerName} opens back up!`\n          : `let you know when ${props.sellerName} receives your donation!`}\n      </p>\n\n      <img className={styles.image} src={confirmationPic} alt=\"Logo\" />\n\n      <button\n        className={classnames(styles.finishBtn, 'modalButton--filled')}\n        onClick={() => dispatch({ type: CLOSE_MODAL, payload: undefined })}\n      >\n        Finish\n      </button>\n    </div>\n  );\n};\n\nexport default ModalConfirmation;\n","import React from 'react';\nimport classnames from 'classnames';\nimport { v4 as uuid } from 'uuid';\nimport styles from './styles.module.scss';\nimport ModalAmount from '../ModalAmount';\nimport { SquareModal } from '../ModalPayment';\nimport ModalConfirmation from '../ModalConfirmation';\nimport {\n  useModalPaymentState,\n  useModalPaymentDispatch,\n} from '../../utilities/hooks/ModalPaymentContext/context';\nimport { CLOSE_MODAL } from '../../utilities/hooks/ModalPaymentContext/constants';\n\nexport interface Props {\n  purchaseType: string;\n  sellerId: string;\n  sellerName: string;\n}\n\nconst idempotencyKey = uuid();\n\nexport const Modal = (props: Props) => {\n  const { modalView } = useModalPaymentState();\n  const dispatch = useModalPaymentDispatch();\n\n  const closeModal = (e: any) => {\n    e.preventDefault();\n    dispatch({ type: CLOSE_MODAL, payload: undefined });\n  };\n\n  return (\n    <div\n      id=\"donation-form\"\n      className={classnames(styles.donationsContainer, 'modalForm--form')}\n      style={{ display: modalView > -1 ? 'block' : 'none' }}\n    >\n      <button className={'closeButton--close'} onClick={closeModal}>\n        ×\n      </button>\n      {modalView === 0 && <ModalAmount {...props} />}\n      {modalView === 1 && (\n        <SquareModal {...props} idempotencyKey={idempotencyKey} />\n      )}\n      {modalView === 2 && <ModalConfirmation {...props} />}\n    </div>\n  );\n};\n\nexport default Modal;\n","import React, { useState } from 'react';\nimport classnames from 'classnames';\nimport { useModalPaymentDispatch } from '../../utilities/hooks/ModalPaymentContext/context';\nimport { SET_MODAL_VIEW } from '../../utilities/hooks/ModalPaymentContext/constants';\nimport Modal from '../Modal';\nimport ProgressBar from '../ProgressBar';\nimport styles from './styles.module.scss';\nimport defaultOwnerImage from './assets/female.svg';\nimport { SocialIcon } from 'react-social-icons';\nimport {\n  EmailShareButton,\n  FacebookShareButton,\n  TwitterShareButton,\n} from 'react-share';\nimport styled from 'styled-components';\n\ninterface Props {\n  imageSrc: string;\n  amountRaised: number;\n  targetAmount: number;\n  numContributions: number;\n  numDonations: number;\n  numGiftCards: number;\n  donationAmount: number;\n  giftCardAmount: number;\n  acceptDonations: boolean;\n  sellGiftCards: boolean;\n  ownerName: string;\n  sellerId: string;\n  sellerName: string;\n  progressBarColor: string;\n  extraInfo: { [prop: string]: any };\n}\n\ninterface State {\n  show: boolean;\n  purchaseType: string;\n}\n\nconst ModalBox: any = Modal;\n\nconst OwnerPanel = (props: Props) => {\n  const dispatch = useModalPaymentDispatch();\n  const [purchaseType, setPurchaseType] = useState('');\n\n  const showModal = (event: any) => {\n    dispatch({ type: SET_MODAL_VIEW, payload: 0 });\n    setPurchaseType(event.target.value);\n  };\n\n  const validExtraInfo = Object.keys(props.extraInfo).filter((current) => {\n    return props.extraInfo[current] != null;\n  });\n\n  const location = window.location.href;\n  const facebookQuote = 'Help raise money for ' + props.sellerName;\n  const socialIconBackgroundColor = '#a9182e';\n  const socialIconDimensions = { height: 50, width: 50 };\n\n  return (\n    <Container>\n      <figure className={styles.ownerContainer}>\n        <img\n          className={styles.ownerImage}\n          src={\n            props.imageSrc\n              ? process.env.REACT_APP_BASE_URL + props.imageSrc\n              : defaultOwnerImage\n          }\n          alt={props.ownerName}\n        />\n      </figure>\n\n      <h2 className={styles.ownerName}>{props.ownerName}</h2>\n      {props.targetAmount && (\n        <ProgressBar\n          amountRaised={props.amountRaised}\n          targetAmount={props.targetAmount}\n          progressBarColor={props.progressBarColor}\n          numContributions={props.numContributions}\n          numDonations={props.numDonations}\n          numGiftCards={props.numGiftCards}\n          donationAmount={props.donationAmount}\n          giftCardAmount={props.giftCardAmount}\n        />\n      )}\n\n      <div className={styles.buttonContainer}>\n        {props.acceptDonations && (\n          <button\n            value=\"donation\"\n            className={classnames(styles.button, 'button--filled')}\n            onClick={showModal}\n          >\n            Donation\n          </button>\n        )}\n        {props.sellGiftCards && (\n          <button\n            value=\"gift_card\"\n            className={classnames(styles.button, 'button--outlined')}\n            onClick={showModal}\n          >\n            Voucher\n          </button>\n        )}\n      </div>\n      {validExtraInfo !== [] ? (\n        <div className={styles.extraInfoContainer}>\n          {validExtraInfo.map((current) => {\n            if (current === 'Website' || current === 'Menu') {\n              return (\n                <React.Fragment key={current}>\n                  <p key={current} className={styles.extraInfoKey}>\n                    {`${current}: `}\n                    <a\n                      className={styles.extraInfoValue}\n                      href={`http://${props.extraInfo[current]}`}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                    >\n                      {current}\n                    </a>\n                  </p>\n                </React.Fragment>\n              );\n            } else\n              return (\n                <React.Fragment key={current}>\n                  <p key={current} className={styles.extraInfoKey}>\n                    {`${current}: `}\n                    <span className={styles.extraInfoValue}>\n                      {props.extraInfo[current]}\n                    </span>\n                  </p>\n                </React.Fragment>\n              );\n          })}\n        </div>\n      ) : (\n        ''\n      )}\n\n      <ModalBox\n        purchaseType={purchaseType}\n        sellerId={props.sellerId}\n        sellerName={props.sellerName}\n      />\n      {\n        <div className={styles.socialContainer}>\n          <div className={styles.socialIconContainer}>\n            <FacebookShareButton\n              url={location}\n              quote={facebookQuote}\n              className=\"share\"\n            >\n              <SocialIcon\n                network=\"facebook\"\n                bgColor={socialIconBackgroundColor}\n                style={socialIconDimensions}\n              />\n            </FacebookShareButton>\n          </div>\n\n          <div className={styles.socialIconContainer}>\n            <TwitterShareButton url={location} className=\"share\">\n              <SocialIcon\n                network=\"twitter\"\n                bgColor={socialIconBackgroundColor}\n                style={socialIconDimensions}\n              />\n            </TwitterShareButton>\n          </div>\n\n          <div className={styles.socialIconContainer}>\n            <EmailShareButton url={location} className=\"share\">\n              <SocialIcon\n                network=\"email\"\n                bgColor={socialIconBackgroundColor}\n                style={socialIconDimensions}\n              />\n            </EmailShareButton>\n          </div>\n        </div>\n      }\n\n      <div className={styles.mapsContainer}>\n        {/* need to put in google API */}\n        {/* might need to use a react lib since it uses script tags */}\n        {/* https://www.npmjs.com/package/google-map-react */}\n      </div>\n    </Container>\n  );\n};\n\nexport default OwnerPanel;\n\nconst Container = styled.section`\n  display: flex;\n  width: 100%;\n  box-shadow: 0px 0px 7px rgba(0, 0, 0, 0.2);\n  flex-direction: column;\n  align-items: center;\n  padding: 18px 32px;\n\n  order: 1;\n  grid-row: 1;\n  @media (min-width: 900px) {\n    position: sticky;\n    top: 20px;\n    order: 2;\n    grid-column: 2;\n  }\n  @media (max-width: 599px) {\n    font-size: 14px;\n    padding: 24px;\n  }\n`;\n","import * as React from 'react';\nimport { useEffect, useState } from 'react';\nimport { StoreInfo } from '../StoreInfo';\nimport OwnerPanel from '../OwnerPanel';\nimport ErrorPage from '../404Page';\nimport { ModalPaymentProvider } from '../../utilities/hooks/ModalPaymentContext/context';\nimport { getSeller } from '../../utilities';\nimport { useParams } from 'react-router-dom';\nimport Loader from '../Loader';\nimport styled from 'styled-components';\n\ninterface Props {\n  menuOpen: boolean;\n}\n\nconst SellerPage = (props: Props) => {\n  // fix typing\n  const [seller, setSeller] = useState<any | null>();\n  const [loading, setLoading] = useState<boolean>(false);\n  const { id } = useParams();\n\n  const fetchData = async () => {\n    setLoading(true);\n    const result = id && (await getSeller(id));\n    setSeller(result.data);\n    setLoading(false);\n  };\n  useEffect(() => {\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  // TODO(ArtyEmsee): handle actual null states and loading\n  return seller ? (\n    <Container menuOpen={props.menuOpen}>\n      <SellerName>{seller.name}</SellerName>\n      <ContentContainer>\n        {/* TODO(ArtyEmsee): Fix object mapping */}\n        <StoreInfo\n          seller={{\n            name: seller.name,\n            locations: seller.locations,\n            cuisineName: seller.cuisine_name,\n            story: seller.story,\n            summary: seller.summary,\n            hero_image_url: seller.hero_image_url,\n          }}\n        />\n        <ModalPaymentProvider>\n          <OwnerPanel\n            acceptDonations={seller.accept_donations}\n            sellGiftCards={seller.sell_gift_cards}\n            amountRaised={seller.amount_raised}\n            targetAmount={seller.target_amount}\n            numContributions={seller.num_contributions}\n            numDonations={seller.num_donations}\n            numGiftCards={seller.num_gift_cards}\n            donationAmount={seller.donation_amount}\n            giftCardAmount={seller.gift_card_amount}\n            ownerName={seller.owner_name}\n            imageSrc={seller.owner_image_url}\n            sellerName={seller.name}\n            progressBarColor={seller.progress_bar_color}\n            extraInfo={{\n              Type: seller.business_type,\n              Employees: seller.num_employees,\n              Founded: seller.founded_year,\n              Website: seller.website_url,\n              Menu: seller.menu_url,\n            }}\n            // TODO(jtmckibb): Should not crash here\n            sellerId={id!}\n          />\n        </ModalPaymentProvider>\n      </ContentContainer>\n    </Container>\n  ) : (\n    <>\n      {loading ? (\n        <Loader isPage={true} />\n      ) : (\n        <ErrorPage menuOpen={props.menuOpen} />\n      )}\n    </>\n  );\n};\n\nexport default SellerPage;\n\nconst Container = styled.div`\n  background: white;\n  min-height: 1500px;\n  max-width: 1440px;\n  margin: 0 auto;\n  width: 90%;\n  ${(props: Props) => props.menuOpen && 'display: none;'}\n`;\n\nconst SellerName = styled.div`\n  font-weight: 600;\n  font-size: 32px;\n  max-width: 1200px;\n  margin: 12px auto;\n  margin-top: 24px;\n  width: 100%;\n  @media (min-width: 900px) {\n    width: 90%;\n    margin-top: 32px;\n  }\n`;\n\nconst ContentContainer = styled.div`\n  align-items: start;\n  display: flex;\n  flex-direction: column-reverse;\n  margin: 0 auto;\n  max-width: 1200px;\n  min-height: 1200px;\n  @media (min-width: 900px) {\n    grid-template-columns: 2fr minmax(250px, 1fr);\n    display: grid;\n    grid-column-gap: 69px;\n  }\n  @media (max-width: 599px) {\n    font-size: 14px;\n    margin: 32px 0px;\n    margin-top: 0;\n  }\n`;\n","export * from './types';\nexport * from './interactionManager';\n"],"sourceRoot":""}
{"version":3,"sources":["utilities/api/endpoints.ts","utilities/api/interactionManager.ts","images/misc-store.png","components/Logos/image/LogoTextDown.png","components/Logos/image/PureLogo.png","../node_modules/@material-ui/icons/ArrowBackIos.js","images/nyc-background.png","pages/VoucherRedemption/MoreInfo.tsx","pages/VoucherRedemption/StoreBanner.tsx","pages/VoucherRedemption/style.tsx","pages/VoucherRedemption/Landing.tsx","pages/VoucherRedemption/Amount.tsx","utilities/hooks/helpers.ts","pages/VoucherRedemption/Confirm.tsx","pages/VoucherRedemption/Complete.tsx","pages/VoucherRedemption/VoucherRedemption.tsx"],"names":["baseUrl","process","sellers","charges","vouchers","passportVouchers","getSellers","lang","a","axios","get","params","locale","localeFromLanguage","getSeller","id","makeSquarePayment","nonce","sellerId","payment","buyer","isDistribution","campaignId","email","name","idempotencyKey","idempotency_key","isSubscribed","is_subscribed","post","is_square","line_items","seller_id","is_distribution","campaign_id","headers","then","res","catch","err","getVoucher","updateVoucher","amount","put","getMerchantGiftCards","secret","language","getCampaigns","getDistributor","getParticipatingMerchant","getParticipatingMerchantTickets","tickets_secret","module","exports","_interopRequireDefault","require","Object","defineProperty","value","default","_react","_default","createElement","d","LandingCard","props","voucher","useVoucherState","useState","showInfo","setShowInfo","VoucherContent","showShadow","marginLeft","SubText","onClick","e","stopPropagation","storeName","MoreInfoButton","inverted","getColor","foreground","red","styled","div","span","StoreBanner","view","isOnLandingPage","Container","OwnerImage","src","storeImage","DefaultStoreImage","Logo","Header","img","ViewContainer","SubViewContainer","MainView","Footer","BackButtonStyle","BackButton","fontSize","children","StoreFrontImage","Text","FooterLabelStyle","FooterLabel","SubmitButton","button","dispatch","useVoucherDispatch","MainViewContainer","CardContainer","single_use","type","VoucherConstants","SET_AMOUNT","payload","SET_VIEW","SupportingText","MoreInfo","Balance","toFixed","CardFooter","VoucherCode","seller_gift_card_id","Button","location","line1","line2","Image","Divider","Amount","error","setError","setView","AmountContainer","setAmount","defaultStoreFront","alt","BalanceContainer","CurrentBalanceContainer","InputContainer","InputWrapper","AmountInput","onChange","target","placeholder","MessagesContainer","ErrorMessage","RemainingMessage","disabled","input","getLocationInfo","merchantData","emptyLocationInfo","locations","data","length","address1","address2","city","state","zip_code","loading","setLoading","confirm","gift_card_id","gift_card_detail","newVoucher","ownerName","owner_name","ownerImage","owner_image_url","hero_image_url","sellerID","SET_VOUCHER_INFO","console","log","HeaderText","BalanceRow","Disclaimer","VoucherContainer","DisclaimerText","Loader","size","BoldText","VoucherRedemption","useHistory","fetchData","pathname","replace","JSON","stringify","push","useEffect","isPage","Confirm","Complete","Landing","showView","NYCBackdrop"],"mappings":"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","file":"static/js/11.4e54cc07.chunk.js","sourcesContent":["const baseUrl = process.env.REACT_APP_API_ENDPOINT!;\n\nexport const sellers = baseUrl + 'sellers/';\nexport const charges = baseUrl + 'charges';\nexport const vouchers = baseUrl + 'gift_cards/';\nexport const campaigns = baseUrl + 'campaigns/';\nexport const distributors = baseUrl + 'distributors/';\nexport const passportVouchers = baseUrl + 'participating_sellers/';","import axios from 'axios';\nimport { CardElement } from '@stripe/react-stripe-js';\nimport { Buyer, PaymentParams, SquareLineItems } from './types';\nimport { charges, sellers, vouchers, campaigns, distributors, passportVouchers } from './endpoints';\n\n// Fix return typing\nexport const getSellers = async (lang?: string): Promise<any> => {\n  return await axios.get(sellers, {\n    params: { locale: localeFromLanguage(lang) },\n  });\n};\n\n// Fix return typing\nexport const getSeller = async (id: string, lang?: string): Promise<any> => {\n  return await axios.get(sellers + id, {\n    params: { locale: localeFromLanguage(lang) },\n  });\n};\n\n// TODO(ArtyEmsee): add typing for stripe elements\nexport const makePayment = async (\n  stripe: any,\n  elements: any,\n  payment: PaymentParams,\n  buyer: Buyer\n) => {\n  const { email, name } = buyer;\n\n  // TODO(ArtyEmsee): abstract api call, create global object for headers\n  await axios\n    .post(\n      charges,\n      {\n        is_square: false,\n        line_items: [payment],\n        email: email,\n      },\n      { headers: { 'Access-Control-Allow-Origin': '*' } }\n    )\n    .then(async (res) => {\n      // TODO(ArtyEmsee): fix response to success\n      if (!stripe || !elements) return;\n      else {\n        const cardElement = elements!.getElement(CardElement);\n        const result = await stripe!.confirmCardPayment(\n          `${res.data.client_secret}`,\n          {\n            payment_method: {\n              card: cardElement!,\n              billing_details: {\n                name: name,\n                email: email,\n              },\n            },\n          }\n        );\n\n        if (result.error) {\n          console.log(result.error.message);\n        } else {\n          if (result.paymentIntent?.status === 'succeeded') {\n            console.log(\n              result.paymentIntent?.status,\n              'The payment has been processed!'\n            );\n          }\n        }\n      }\n    });\n\n  // TODO(ArtyEmsee): fix response to error\n};\n\nexport const makeSquarePayment = async (\n  nonce: string,\n  sellerId: string,\n  payment: SquareLineItems,\n  buyer: Buyer,\n  isDistribution: boolean,\n  campaignId?: string\n) => {\n  const { email, name } = buyer;\n  const idempotencyKey = buyer.idempotency_key;\n  const isSubscribed = buyer.is_subscribed;\n\n  return await axios\n    .post(\n      charges,\n      {\n        is_square: true,\n        nonce,\n        line_items: payment,\n        email,\n        name,\n        seller_id: sellerId,\n        idempotency_key: idempotencyKey,\n        is_subscribed: isSubscribed,\n        is_distribution: isDistribution, // TODO: deprecate this in favor of campaignId\n        campaign_id: campaignId\n      },\n      { headers: { 'Access-Control-Allow-Origin': '*' } }\n    )\n    .then(async (res) => {\n      return res;\n    })\n    .catch((err) => {\n      throw err;\n    });\n};\n\nexport const getVoucher = async (id: string) =>\n  axios\n    .get(vouchers + id)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const updateVoucher = async (id: string, amount: number) =>\n  axios\n    .put(vouchers + id, { amount })\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getMerchantGiftCards = async (seller_id: string, secret: string) =>\n  axios.get(sellers + seller_id + '/gift_cards/' + secret).then((res) => res); // don't catch error, throw it up the stack\n\nfunction localeFromLanguage(language?: string) {\n  switch (language) {\n    case 'cn':\n      return 'zh-CN';\n    case 'en':\n    default:\n      return 'en';\n  }\n}\n\nexport const getCampaigns = async (): Promise<any> => {\n  return await axios.get(campaigns);\n};\n\nexport const getDistributor = async (id: string): Promise<any> => {\n  return await axios.get(distributors + id)\n    .then((res) => res)\n    .catch((err) => err);\n}\n\n// for passport crawl voucher print outs\nexport const getParticipatingMerchant = async (id: string) =>\n  axios\n    .get(passportVouchers + id)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getParticipatingMerchantTickets = async (\n  id: string,\n  tickets_secret: string\n) =>\n  axios\n    .get(passportVouchers + id + '/tickets/' + tickets_secret)\n    .then((res) => res)\n    .catch((err) => err);\n","module.exports = __webpack_public_path__ + \"static/media/misc-store.7e1a70b6.png\";","module.exports = __webpack_public_path__ + \"static/media/LogoTextDown.f2f024ba.png\";","module.exports = \"data:image/png;base64,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\"","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M11.67 3.87L9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z\"\n}), 'ArrowBackIos');\n\nexports.default = _default;","module.exports = __webpack_public_path__ + \"static/media/nyc-background.631d2c4c.png\";","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { useVoucherState } from '../../utilities/hooks/VoucherContext';\n\ninterface Props {\n  showShadow?: boolean;\n  marginLeft?: string;\n  inverted?: boolean;\n}\ninterface VoucherInfoProps {\n  showInfo?: boolean;\n  showShadow?: boolean;\n  marginLeft?: string;\n  inverted?: boolean;\n}\nconst LandingCard = (props: Props) => {\n  const { voucher } = useVoucherState(null);\n  const [showInfo, setShowInfo] = useState(false);\n\n  return (\n    <VoucherContent\n      showInfo={showInfo}\n      showShadow={props.showShadow}\n      marginLeft={props.marginLeft}\n    >\n      {showInfo && (\n        <SubText\n          showInfo={showInfo}\n          onClick={(e) => {\n            e.stopPropagation();\n            setShowInfo(!showInfo);\n          }}\n        >\n          By proceeding with your purchase, you understand that the voucher card\n          is not redeemable for cash and can only be used at {voucher.storeName}\n          . All purchases are final. In the event that the merchant is no longer\n          open at the time of redemption, Send Chinatown Love Inc. will not be\n          able to refund your purchase. Balance displayed in the voucher may or\n          may not represent the final balance. Final balance information is\n          subject to {voucher.storeName}'s most recent records.\n        </SubText>\n      )}\n      <MoreInfoButton\n        showInfo={showInfo}\n        inverted={props.inverted}\n        onClick={(e) => {\n          e.stopPropagation();\n          setShowInfo(!showInfo);\n        }}\n      >\n        ?\n      </MoreInfoButton>\n    </VoucherContent>\n  );\n};\n\nexport default LandingCard;\n\n/**\n * Get the appropriate color of an element on the MoreInfo tooltip\n *\n * @param foreground whether the item is in the foreground or background of the icon\n * @param showInfo whether the full help text is popped open\n * @param inverted whether to invert the icon as red-on-white, instead of the usual white-on-red\n *\n * @remarks The logic in this function is left intentionally verbose for clarity\n */\nconst getColor = (\n  foreground: boolean,\n  showInfo?: boolean,\n  inverted?: boolean\n): string => {\n  const white = 'white';\n  const red = '#ab192e';\n\n  if (!inverted) {\n    if (foreground) {\n      return !showInfo ? red : white;\n    } else {\n      return !showInfo ? white : red;\n    }\n  } else {\n    if (foreground) {\n      return white;\n    } else {\n      return red;\n    }\n  }\n};\n\nconst VoucherContent = styled.div`\n  z-index: 150 !important;\n  width: 285px;\n  min-height: 270px;\n  position: absolute;\n  margin: 0 auto;\n  border: 1px solid transparent;\n  border-radius: 12px;\n  margin-top: -7.5px;\n  padding-top: 5px;\n  height: ${(props: VoucherInfoProps) => (props.showInfo ? '270px' : '25px')};\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  background-color: ${(props: VoucherInfoProps) =>\n    props.showInfo ? `white` : `transparent`};\n  ${(props: VoucherInfoProps) =>\n    props.showInfo &&\n    props.showShadow &&\n    'box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.25);'};\n  ${(props: VoucherInfoProps) =>\n    props.marginLeft && `margin-left: ${props.marginLeft}`};\n`;\nconst SubText = styled.span`\n  display: flex;\n  flex-direction: row;\n  position: relative;\n  justify-content: ${(props: VoucherInfoProps) =>\n    !props.showInfo ? `center` : `space-between`};\n  color: ${(props: VoucherInfoProps) => (!props.showInfo ? `white` : `black`)};\n  font-size: 11px;\n  text-align: left;\n  line-height: 20px;\n  width: 228px;\n  padding-left: 10px;\n`;\nconst MoreInfoButton = styled.div`\n  position: absolute;\n  right: 10px;\n  border: 1px solid transparent;\n  color: ${(props: VoucherInfoProps) =>\n    getColor(true, props.showInfo, props.inverted)};\n  background-color: ${(props: VoucherInfoProps) =>\n    getColor(false, props.showInfo, props.inverted)};\n  border-radius: 50%;\n  width: 25px;\n  text-align: center;\n`;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { useVoucherState } from '../../utilities/hooks/VoucherContext';\nimport Logo from '../../components/Logos/image/PureLogo.png';\nimport DefaultStoreImage from '../../images/misc-store.png';\n\ninterface Props {}\ninterface ContainerProps {\n  isOnLandingPage: boolean;\n}\n\nconst StoreBanner = (props: Props) => {\n  const { view, voucher } = useVoucherState(null);\n\n  const isOnLandingPage = view === 0;\n\n  return (\n    <Container isOnLandingPage={isOnLandingPage}>\n      <OwnerImage\n        isOnLandingPage={isOnLandingPage}\n        src={\n          isOnLandingPage\n            ? voucher?.storeImage\n              ? process.env.REACT_APP_BASE_URL + voucher?.storeImage\n              : DefaultStoreImage\n            : Logo\n        }\n      />\n      <Header isOnLandingPage={isOnLandingPage}>\n        {isOnLandingPage && 'Welcome to '}\n        {voucher.storeName}\n      </Header>\n    </Container>\n  );\n};\n\nexport default StoreBanner;\n\nconst Container = styled.div`\n  width: 100%;\n  display: flex;\n  align-items: center;\n  min-height: ${(props: ContainerProps) =>\n    props.isOnLandingPage ? '200px' : '100px'};\n  flex-direction: ${(props: ContainerProps) =>\n    props.isOnLandingPage ? 'column' : 'row'};\n  margin: ${(props: ContainerProps) => (props.isOnLandingPage ? '24px' : '0')}\n    auto;\n  ${(props: ContainerProps) =>\n    !props.isOnLandingPage && 'border-bottom: 1px solid #f7f7f7;'}\n  ${(props: ContainerProps) =>\n    !props.isOnLandingPage && 'padding: 10px 2.5%;'}\n  color: black;\n  text-align: center;\n`;\nconst Header = styled.div`\n  ${(props: ContainerProps) =>\n    !props.isOnLandingPage &&\n    `\n    margin-left: 15px;\n    max-width: 307px;\n  `};\n  font-style: normal;\n  font-weight: bold;\n  font-size: 22px;\n  line-height: 30px;\n`;\nconst OwnerImage = styled.img`\n  width: ${(props: ContainerProps) =>\n    props.isOnLandingPage ? '150px' : '55px'};\n  height: ${(props: ContainerProps) =>\n    props.isOnLandingPage ? '150px' : '55px'};\n  ${(props: ContainerProps) =>\n    props.isOnLandingPage && 'border: 5px solid white;'}\n  ${(props: ContainerProps) => props.isOnLandingPage && 'border-radius: 100%;'}\n  ${(props: ContainerProps) => props.isOnLandingPage && 'background: white;'}\n`;\n","import React from 'react';\nimport styled from 'styled-components';\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\n\n// CONTAINERS\nconst ViewContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  width: 100%;\n  height: 100%;\n`;\nconst SubViewContainer = styled.div`\n  position: relative;\n  display: flex;\n  flex-direction: column;\n`;\nconst MainView = styled(SubViewContainer)`\n  margin: 0 auto;\n  width: 90%;\n`;\nconst Footer = styled.div`\n  width: 100%;\n  height: 100%;\n  background: #f7f7f7;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n`;\nconst BackButtonStyle = styled.span`\n  text-align: left;\n  font-weight: bold;\n  font-size: 15px;\n  line-height: 20px;\n  min-height: 20px;\n  margin: 12px 0;\n  display: flex;\n  align-items: center;\n`;\nconst BackButton = (props) => (\n  <BackButtonStyle {...props}>\n    <ArrowBackIosIcon fontSize=\"small\" /> {props.children}\n  </BackButtonStyle>\n);\nconst StoreFrontImage = styled.img`\n  width: 100%;\n  max-width: 600px;\n  min-height: 150px;\n  margin: 0 auto;\n  border: 1px solid #d3d3d3;\n  box-sizing: border-box;\n  border-radius: 10px;\n`;\nconst Text = styled.span`\n  text-align: center;\n`;\nconst FooterLabelStyle = styled.div`\n  text-align: center;\n  display: inline;\n  margin: 15px auto;\n  min-height: 30px;\n  width: 75%;\n  word-break: break-all;\n`;\nconst FooterLabel = (props) => (\n  <FooterLabelStyle {...props}>\n    Voucher Code: <b>{props.children}</b>\n  </FooterLabelStyle>\n);\nconst SubmitButton = styled.button`\n  color: white;\n  width: 90%;\n  margin: 15px auto;\n  padding: 18px 0;\n  max-width: 350px;\n  font-weight: bold;\n  font-size: 16px;\n  line-height: 22px;\n  background: #121212;\n  border-radius: 50px;\n`;\nconst Divider = styled.div``;\n\nexport {\n  ViewContainer,\n  SubViewContainer,\n  MainView,\n  BackButton,\n  StoreFrontImage,\n  Text,\n  Footer,\n  FooterLabel,\n  SubmitButton,\n  Divider,\n};\n","import React from 'react';\nimport styled from 'styled-components';\nimport Logo from '../../components/Logos/image/LogoTextDown.png';\nimport MoreInfo from './MoreInfo';\nimport StoreBanner from './StoreBanner';\nimport {\n  useVoucherState,\n  useVoucherDispatch,\n  VoucherConstants,\n} from '../../utilities/hooks/VoucherContext';\nimport { ViewContainer, SubViewContainer, Text } from './style';\n\ninterface Props {}\n\nconst LandingCard = (props: Props) => {\n  const { voucher } = useVoucherState(null);\n  const dispatch = useVoucherDispatch(null);\n  const setView = () => {\n    if (voucher.single_use) {\n      dispatch({\n        type: VoucherConstants.SET_AMOUNT,\n        payload: voucher.amount / 100,\n      });\n      dispatch({ type: VoucherConstants.SET_VIEW, payload: 2 });\n    } else {\n      dispatch({ type: VoucherConstants.SET_VIEW, payload: 1 });\n    }\n  };\n\n  return (\n    <MainViewContainer>\n      <StoreBanner />\n      <CardContainer onClick={setView}>\n        <VoucherContent>\n          <SubText>\n            <SupportingText>\n              {voucher.single_use\n                ? 'Single-use voucher balance'\n                : 'Your available balance'}\n            </SupportingText>\n            <MoreInfo />\n          </SubText>\n          <Balance>${(voucher.amount / 100).toFixed(2)}</Balance>\n        </VoucherContent>\n        <CardFooter>\n          <VoucherCode>Voucher Code: {voucher.seller_gift_card_id}</VoucherCode>\n          <Divider />\n          <Button>Click to begin redeeming your voucher</Button>\n          <br />\n        </CardFooter>\n      </CardContainer>\n      <br />\n      <Button>\n        {voucher.location.line1}\n        <br></br>\n        {voucher.location.line2}\n      </Button>\n      <Footer>\n        <Image src={Logo} />\n      </Footer>\n    </MainViewContainer>\n  );\n};\n\nexport default LandingCard;\n\nconst MainViewContainer = styled(ViewContainer)`\n  height: 100vh;\n`;\nconst CardContainer = styled(SubViewContainer)`\n  padding-top: 5px;\n  width: 307px;\n  margin: 0 auto;\n  min-height: 342px;\n  background-color: #ab192e;\n  color: white;\n  border-radius: 15px;\n  justify-content: space-between;\n`;\nconst VoucherContent = styled(SubViewContainer)`\n  width: 90%;\n  padding-top: 5px;\n  margin: 0 auto;\n  justify-content: space-between;\n  min-height: 150px;\n`;\nconst CardFooter = styled(SubViewContainer)`\n  width: 90%;\n  margin: 0 auto;\n  justify-content: space-between;\n  min-height: 130px;\n`;\nconst Footer = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  min-height: 175px;\n  text-align: center;\n  margin: 16px auto;\n`;\nconst SubText = styled.div`\n  display: flex;\n  margin: 0 auto;\n  justify-content: center;\n`;\nconst SupportingText = styled.span`\n  z-index: 100 !important;\n`;\nconst Divider = styled.div`\n  width: 90%;\n  margin: 10px auto;\n  border-top: white 2px solid;\n`;\nconst Button = styled.div`\n  cursor: pointer;\n  font-size: 13px;\n  line-height: 18px;\n  text-align: center;\n  min-height: 75px;\n  align-items: center;\n`;\nconst Balance = styled.div`\n  z-index: 0 !important;\n  font-weight: 600;\n  font-size: 50px;\n  line-height: 68px;\n  display: flex;\n  justify-content: center;\n  text-align: center;\n  width: 100%;\n`;\nconst Image = styled.img`\n  width: 75px;\n`;\nconst VoucherCode = styled(Text)`\n  word-break: break-all;\n`;\n","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport {\n  useVoucherState,\n  useVoucherDispatch,\n  VoucherConstants,\n} from '../../utilities/hooks/VoucherContext';\nimport defaultStoreFront from '../../images/misc-store.png';\nimport MoreInfo from './MoreInfo';\nimport StoreBanner from './StoreBanner';\nimport {\n  ViewContainer,\n  MainView,\n  SubViewContainer,\n  BackButton,\n  StoreFrontImage,\n  Text,\n  Footer,\n  FooterLabel,\n  SubmitButton,\n} from './style';\n\ninterface Props {}\n\ninterface InputProps {\n  error?: boolean;\n}\n\nconst Amount = (props: Props) => {\n  const { amount, voucher } = useVoucherState(null);\n  const dispatch = useVoucherDispatch(null);\n\n  const [error, setError] = useState('');\n\n  const handleAmount = (e) => {\n    setError('');\n    if (e.target.value * 100 > voucher.amount || e.target.value < 0)\n      return setError('Please enter a valid amount');\n    dispatch({ type: VoucherConstants.SET_AMOUNT, payload: e.target.value });\n  };\n\n  const setView = (view) => {\n    dispatch({ type: VoucherConstants.SET_VIEW, payload: view });\n  };\n\n  const setAmount = (amount) => {\n    dispatch({ type: VoucherConstants.SET_AMOUNT, payload: amount });\n  };\n\n  const backToLanding = (e) => {\n    setAmount(0);\n    setView(0);\n  };\n\n  return (\n    <Container>\n      <StoreBanner />\n      <AmountContainer>\n        <BackButton onClick={backToLanding}>CANCEL</BackButton>\n        <StoreFrontImage\n          src={\n            voucher.storeImage\n              ? process.env.REACT_APP_BASE_URL + voucher.storeImage\n              : defaultStoreFront\n          }\n          alt={`${voucher.storeName} Illustration`}\n        />\n        <BalanceContainer>\n          <Text>\n            ${voucher.amount === 0 ? '0.00' : (voucher.amount / 100).toFixed(2)}\n          </Text>\n          <CurrentBalanceContainer>\n            Current balance <MoreInfo showShadow inverted />\n          </CurrentBalanceContainer>\n        </BalanceContainer>\n        <InputContainer>\n          <SubViewContainer>\n            <Text>How much are you spending today?</Text>\n            <InputWrapper>\n              <AmountInput\n                value={amount === 0 ? '' : amount}\n                onChange={handleAmount}\n                placeholder={'0.00'}\n                type=\"number\"\n                error={!!error}\n              />\n            </InputWrapper>\n          </SubViewContainer>\n          <MessagesContainer>\n            <ErrorMessage>{error} </ErrorMessage>\n            <RemainingMessage>\n              <Text>$ {(voucher.amount / 100 - amount).toFixed(2)}</Text>\n              <Text> Remaining</Text>\n            </RemainingMessage>\n          </MessagesContainer>\n        </InputContainer>\n      </AmountContainer>\n      <Footer>\n        <FooterLabel>{voucher.seller_gift_card_id}</FooterLabel>\n        <SubmitButton\n          onClick={(e) => setView(2)}\n          disabled={!!error || amount <= 0}\n        >\n          Next\n        </SubmitButton>\n      </Footer>\n    </Container>\n  );\n};\n\nexport default Amount;\n\n// CONTAINERS\nconst Container = styled(ViewContainer)`\n  border-top: 3px solid #f7f7f7;\n`;\nconst AmountContainer = styled(MainView)`\n  min-height: 480px;\n`;\nconst BalanceContainer = styled(SubViewContainer)`\n  width: 160px;\n  min-height: 92px;\n  margin: 0 auto;\n  padding: 24px 0;\n`;\nconst CurrentBalanceContainer = styled(SubViewContainer)`\n  flex-direction: row;\n  justify-content: center;\n  div {\n    margin-left: -40px;\n  }\n`;\nconst InputContainer = styled(SubViewContainer)`\n  margin: 0 auto;\n  width: 100%;\n  min-height: 160px;\n  margin-bottom: 24px;\n`;\nconst MessagesContainer = styled(SubViewContainer)`\n  flex-direction: row;\n  width: 100%;\n  min-height: 24px;\n`;\nconst InputWrapper = styled.div`\n  position: relative;\n  &:before {\n    position: absolute;\n    padding: 32px 0px 0px 16px;\n    content: '$';\n  }\n`;\n\n// COMPONENTS\nconst AmountInput = styled.input`\n  padding: 12px 12px 12px 32px;\n  min-height: 64px;\n  font-size: 16px;\n  width: 100%;\n  margin: 12px auto;\n  border: 1px solid\n    ${(props: InputProps) => (props.error ? '#DD678A' : 'black')};\n  border-radius: 5px;\n`;\nconst ErrorMessage = styled(Text)`\n  color: #dd678a;\n  width: 50%;\n`;\nconst RemainingMessage = styled.div`\n  width: 50%;\n  text-align: right;\n`;\n","import { LocationInfo } from '../../utilities/hooks/VoucherContext/types';\n\nexport const getLocationInfo = (merchantData): LocationInfo => {\n  const emptyLocationInfo = {\n    line1: '',\n    line2: '',\n  };\n  const locations = merchantData?.data?.locations;\n  if (!locations || !(locations.length > 0)) {\n    return emptyLocationInfo;\n  }\n  const location = locations[0];\n  if (!location) {\n    return emptyLocationInfo;\n  }\n  const locationInfo = {\n    line1: `${location.address1 ?? ''} ${location.address2 ?? ''}`,\n    line2: `${location.city ?? ''} ${location.state ?? ''}, ${\n      location.zip_code ?? ''\n    }`,\n  };\n  return locationInfo;\n};\n","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport {\n  useVoucherState,\n  useVoucherDispatch,\n  VoucherConstants,\n} from '../../utilities/hooks/VoucherContext';\nimport StoreBanner from './StoreBanner';\nimport {\n  updateVoucher,\n  getSeller,\n} from '../../utilities/api/interactionManager';\nimport MoreInfo from './MoreInfo';\nimport Loader from '../../components/Loader';\nimport {\n  ViewContainer,\n  SubViewContainer,\n  MainView,\n  BackButton,\n  Text,\n  Footer,\n  SubmitButton,\n} from './style';\nimport { getLocationInfo } from '../../utilities/hooks/helpers';\n\ninterface Props {}\n\nconst Amount = (props: Props) => {\n  const { amount, voucher } = useVoucherState(null);\n  const dispatch = useVoucherDispatch(null);\n  const [loading, setLoading] = useState(false);\n\n  const setView = async (view) =>\n    dispatch({ type: VoucherConstants.SET_VIEW, payload: view });\n\n  const confirm = async (e) => {\n    setLoading(true);\n\n    try {\n      const {\n        data: { gift_card_detail, seller_id },\n      } = await updateVoucher(\n        voucher.gift_card_id,\n        voucher.amount - amount * 100\n      );\n      const merchantData = await getSeller(seller_id);\n\n      const newVoucher = {\n        ...gift_card_detail,\n        ownerName: merchantData.data.owner_name,\n        ownerImage: merchantData.data.owner_image_url,\n        storeImage: merchantData.data.hero_image_url,\n        storeName: merchantData.data.name,\n        sellerID: seller_id,\n        location: getLocationInfo(merchantData),\n      };\n\n      dispatch({\n        type: VoucherConstants.SET_VOUCHER_INFO,\n        payload: newVoucher,\n      });\n      dispatch({\n        type: VoucherConstants.SET_AMOUNT,\n        payload: gift_card_detail.amount,\n      });\n      setLoading(false);\n      setView(3);\n    } catch (err) {\n      console.log('error: ', err);\n      setLoading(false);\n    }\n  };\n\n  const backToAmount = (e) => setView(voucher.single_use ? 0 : 1);\n\n  return (\n    <Container>\n      <MainView>\n        <StoreBanner />\n        <BackButton onClick={backToAmount}>BACK</BackButton>\n        <Header>\n          <HeaderText>\n            {voucher.single_use\n              ? 'Are you ready to redeem your voucher?'\n              : 'Complete Your Purchase'}\n          </HeaderText>\n          <MoreInfo showShadow={true} inverted={true} marginLeft=\"45px\" />\n        </Header>\n        <BalanceContainer>\n          {!voucher.single_use ? (\n            <BalanceRow>\n              <Text>Voucher balance</Text>\n              <Text>${(voucher.amount / 100).toFixed(2)}</Text>\n            </BalanceRow>\n          ) : (\n            ''\n          )}\n          <BalanceRow>\n            <Text>\n              {voucher.single_use\n                ? 'Single-use voucher balance'\n                : 'Redemption Amount'}\n            </Text>\n            <Text>${(amount / 1).toFixed(2)}</Text>\n          </BalanceRow>\n          <Divider />\n          {!voucher.single_use ? (\n            <BalanceRow>\n              <Text>Remaining balance</Text>\n              <Text>${(voucher.amount / 100 - amount).toFixed(2)}</Text>\n            </BalanceRow>\n          ) : (\n            <Disclaimer>\n              <strong>Note:</strong> Any remaining balance will not be\n              redeemable after this purchase\n            </Disclaimer>\n          )}\n          <VoucherContainer>\n            <Text>\n              {' '}\n              Voucher Code: &nbsp; <b>{voucher.seller_gift_card_id}</b>{' '}\n            </Text>\n          </VoucherContainer>\n        </BalanceContainer>\n      </MainView>\n      <Footer>\n        <DisclaimerText>\n          Please show your phone to the merchant cashier to confirm the\n          purchase.\n        </DisclaimerText>\n        <SubmitButton onClick={confirm}>\n          {loading ? <Loader size=\"22px\" /> : 'Next'}\n        </SubmitButton>\n      </Footer>\n    </Container>\n  );\n};\n\nexport default Amount;\n\nconst Container = styled(ViewContainer)`\n  min-height: 500px;\n`;\nconst Header = styled(SubViewContainer)`\n  flex-direction: row;\n  font-weight: 600;\n  font-size: 22px;\n  min-height: 22px;\n  line-height: 22px;\n  justify-content: center;\n`;\nconst HeaderText = styled(Text)`\n  width: 50%;\n`;\nconst BalanceContainer = styled(SubViewContainer)`\n  min-height: 300px;\n  justify-content: space-around;\n  margin: 16px auto;\n  margin-bottom: 24px;\n  width: 100%;\n`;\nconst BalanceRow = styled(SubViewContainer)`\n  font-size: 18px;\n  min-height: 25px;\n  line-height: 25px;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n`;\nconst VoucherContainer = styled.div`\n  display: inline-flex;\n  min-height: 30px;\n  border: 1px solid #d9d9d9;\n  box-sizing: border-box;\n  border-radius: 8px;\n  word-break: break-all;\n  justify-content: center;\n  margin: 16px auto;\n  align-items: center;\n  padding: 8px 16px;\n  max-width: 80%;\n`;\nconst Divider = styled.div`\n  border-bottom: 2px solid #f7f7f7;\n`;\nconst Disclaimer = styled(SubViewContainer)`\n  width: 160px;\n  min-height: 60px;\n  margin: 0 auto;\n  padding: 24px 0;\n`;\nconst DisclaimerText = styled(SubViewContainer)`\n  width: 75%;\n  text-align: center;\n  margin: 16px auto;\n  color: #ab192e;\n  font-weight: 600;\n  font-size: 20px;\n`;\n","import React from 'react';\nimport {\n  useVoucherState,\n  useVoucherDispatch,\n} from '../../utilities/hooks/VoucherContext';\nimport {\n  SET_AMOUNT,\n  SET_VIEW,\n} from '../../utilities/hooks/VoucherContext/constants';\nimport styled from 'styled-components';\nimport {\n  ViewContainer,\n  SubViewContainer,\n  Text,\n  Footer,\n  SubmitButton,\n} from './style';\nimport StoreBanner from './StoreBanner';\n\nconst Amount = () => {\n  const { amount, voucher } = useVoucherState(null);\n  const dispatch = useVoucherDispatch(null);\n\n  const setView = (e) => {\n    dispatch({ type: SET_AMOUNT, payload: 0 });\n    dispatch({ type: SET_VIEW, payload: 0 });\n  };\n\n  return (\n    <ViewContainer>\n      <StoreBanner />\n      <MainView>\n        <BoldText>Redemption Complete</BoldText>\n        {!voucher.single_use ? (\n          <SubViewContainer>\n            <Text>$ {(amount / 100).toFixed(2)}</Text>\n            <Text>Remaining voucher balance</Text>\n          </SubViewContainer>\n        ) : (\n          ''\n        )}\n        <BoldText> Thank you for dining at {voucher.storeName}! </BoldText>\n        <SubmitButton onClick={(e) => setView(0)}>Finish</SubmitButton>\n      </MainView>\n    </ViewContainer>\n  );\n};\n\nexport default Amount;\n\nconst MainView = styled(Footer)`\n  min-height: 100vh;\n  padding: 0 5%;\n  justify-content: space-around;\n`;\n\nconst BoldText = styled(Text)`\n  font-weight: 600;\n  font-size: 22px;\n  line-height: 31px;\n`;\n","import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { useHistory } from 'react-router-dom';\n\nimport Landing from './Landing';\nimport Amount from './Amount';\nimport Confirm from './Confirm';\nimport Complete from './Complete';\nimport {\n  useVoucherState,\n  useVoucherDispatch,\n  VoucherConstants,\n} from '../../utilities/hooks/VoucherContext';\nimport Loader from '../../components/Loader';\nimport NYCBackdrop from '../../images/nyc-background.png';\nimport { getVoucher, getSeller } from '../../utilities/api/interactionManager';\nimport { getLocationInfo } from '../../utilities/hooks/helpers';\n\ninterface Props {}\ninterface ContainerProps {\n  view: Number;\n}\n\nconst VoucherRedemption = (props: Props) => {\n  const { view } = useVoucherState(null);\n  const dispatch = useVoucherDispatch(null);\n  const params = useHistory();\n  const [loading, setLoading] = useState(false);\n\n  const fetchData = async () => {\n    try {\n      const {\n        data: { gift_card_detail, seller_id },\n      } = await getVoucher(params.location.pathname.replace('/voucher/', ''));\n      const merchantData = await getSeller(seller_id);\n\n      const voucher = {\n        ...gift_card_detail,\n        storeImage: merchantData.data.hero_image_url,\n        storeName: merchantData.data.name,\n        sellerID: seller_id,\n        location: getLocationInfo(merchantData),\n      };\n      dispatch({ type: VoucherConstants.SET_VOUCHER_INFO, payload: voucher });\n      setLoading(false);\n    } catch (e) {\n      console.log('error: ' + JSON.stringify(e));\n      params.push('/');\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    setLoading(true);\n    fetchData();\n    // eslint-disable-next-line\n  }, []);\n\n  const showView = () => {\n    switch (view) {\n      case 1:\n        return <Amount />;\n      case 2:\n        return <Confirm />;\n      case 3:\n        return <Complete />;\n      default:\n        return <Landing />;\n    }\n  };\n  return (\n    <Container view={view}>\n      {loading ? (\n        <Loader isPage={true} />\n      ) : (\n        <>\n          {showView()}\n          {/* {view === 0 && <Backdrop src={NYCBackdrop}/>} */}\n        </>\n      )}\n    </Container>\n  );\n};\n\nexport default VoucherRedemption;\n\nconst Container = styled.div`\n  width: 100%;\n  margin: 0 auto;\n  ${(props: ContainerProps) =>\n    props.view === 0 &&\n    `\n    background-image: url(${NYCBackdrop});\n    background-size: 1780.75px 905px;\n  `}\n  background-color: transparent;\n  display: flex;\n  flex-direction: column;\n  overflow-x: hidden;\n`;\n"],"sourceRoot":""}
(this.webpackJsonpsendchinatownlove=this.webpackJsonpsendchinatownlove||[]).push([[6],{100:function(e,t){},102:function(e,t,n){"use strict";n(26),n(0)},103:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return d}));var r=n(104),a=n.n(r),o=n(105),l=n(120),c=n.n(l),u=(n(129),"https://api.sendchinatownlove.com/"),i=u+"sellers/",s=u+"charges",m=function(){var e=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.a.get(i).then((function(e){return e})).catch((function(e){return e})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(o.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.a.get(i+t).then((function(e){return e})).catch((function(e){return e})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(o.a)(a.a.mark((function e(t,n,r,l){var u,i,m;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=l.email,i=l.name,m=l.idempotency_key,e.next=4,c.a.post(s,{is_square:!0,nonce:t,line_items:[r],email:u,name:i,seller_id:n,idempotency_key:m},{headers:{"Access-Control-Allow-Origin":"*"}}).then(function(){var e=Object(o.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){throw e}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},109:function(e,t,n){e.exports={progressContainer:"styles_progressContainer__3QTH2",targetAmountBar:"styles_targetAmountBar__39mFS",currentRaisedBar:"styles_currentRaisedBar__3nyvm",contributionInfo:"styles_contributionInfo__2yMDv"}},113:function(e,t,n){"use strict";var r=n(99);n.o(r,"getSeller")&&n.d(t,"getSeller",(function(){return r.getSeller})),n.o(r,"getSellers")&&n.d(t,"getSellers",(function(){return r.getSellers}));n(102)},114:function(e,t,n){e.exports={container:"styles_container__2WJAK",storeInfoContainer:"styles_storeInfoContainer__2EkUd",merchantsContainer:"styles_merchantsContainer__13vzx",merchantCard:"styles_merchantCard__1vFxm",merchantCardLogo:"styles_merchantCardLogo__25Qep",overlayContainer:"styles_overlayContainer__3upFs",nycMap:"styles_nycMap__qHmku",contentContainer:"styles_contentContainer__1Wz03",textArea:"styles_textArea__3id8d",ownerPanel:"styles_ownerPanel__3Sxji",storeInfo:"styles_storeInfo__1g3Wp"}},115:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(0),a=n(98),o=n.n(a),l=n(109),c=n.n(l),u=n(202),i=n(27),s=Object(i.a)((function(e){return{tooltip:{backgroundColor:"#ffffff",color:"rgba(0, 0, 0, 0.87)",width:180,fontSize:e.typography.pxToRem(14),border:"1px solid #dadde9"}}}))(u.a),m=function(e){var t,n,a=e.amountRaised,l=e.targetAmount,u=e.progressBarColor,i=e.numContributions,m=e.numDonations,f=e.numGiftCards,d=e.donationAmount,p=e.giftCardAmount;return r.createElement("div",{className:c.a.progressContainer},r.createElement("div",{className:o()(c.a.targetAmountBar,"progress-bar")},r.createElement("div",{className:c.a.currentRaisedBar,style:{width:"".concat((t=a,n=l,t<n?t/n*100:100),"%"),backgroundColor:u}}," ")),r.createElement("div",{className:c.a.contributionInfo},r.createElement("div",null,"$",(Math.floor(a)/100).toLocaleString()," of $",(Math.floor(l)/100).toLocaleString()),r.createElement("div",null,r.createElement(s,{title:r.createElement(r.Fragment,null,r.createElement("table",null,r.createElement("tbody",null,r.createElement("tr",null,r.createElement("td",null,r.createElement("b",null,f)," vouchers"),r.createElement("td",null,r.createElement("b",null,"$",Math.floor(p)/100))),r.createElement("tr",null,r.createElement("td",null,r.createElement("b",null,m)," donations"),r.createElement("td",null,r.createElement("b",null,"$",Math.floor(d)/100)))))),enterTouchDelay:50,placement:"top"},r.createElement("div",null,r.createElement("b",null,i)," supporters")))))}},185:function(e,t,n){e.exports=n.p+"static/media/merchantIcon.2c7f1dbe.png"},186:function(e,t,n){e.exports=n.p+"static/media/nyc_3.d3931cea.png"},203:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return J}));var r=n(104),a=n.n(r),o=n(105),l=n(26),c=n(0),u=n(113),i=n(3),s=n(4);function m(){var e=Object(i.a)(["\n  display: flex;\n  justify-content: space-between;\n  max-width: 500px;\n  margin-bottom: 50px;\n\n  @media (max-width: 450px) {\n    display: none;\n  }\n"]);return m=function(){return e},e}var f=function(e){var t=e.filterStoreType,n=Object(c.useState)("all"),r=Object(l.a)(n,2),a=r[0],o=r[1];return c.createElement(c.Fragment,null,c.createElement(d,null,[{value:"all",text:"All"},{value:"Bakery",text:"Bakery"},{value:"Chinese",text:"Restaurant"}].map((function(e){return c.createElement("div",{key:e.value},c.createElement("button",{className:a===e.value?"modalButton--filled":"modalButton--back",onClick:function(n){return function(e,n){n.preventDefault(),o(e),t(e)}(e.value,n)}},e.text.toUpperCase()))}))))},d=s.a.div(m()),p=n(34),v=n(115),g=n(114),h=n.n(g);function b(){var e=Object(i.a)(["\n  display: -webkit-box;\n  -webkit-line-clamp: 3;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  height: 75px;\n"]);return b=function(){return e},e}function E(){var e=Object(i.a)(["\n  font-weight: bolder;\n  color: #46accc;\n"]);return E=function(){return e},e}var y=function(e){var t=e.storeInfo,n="",r="";return t.locations&&t.locations[0]&&(n=t.locations[0].city,r=t.locations[0].state),c.createElement(c.Fragment,null,c.createElement(p.a,{to:"/".concat(t.seller_id),style:{textDecoration:"none",color:"black"}},c.createElement("div",{className:h.a.merchantCard},c.createElement("img",{className:h.a.merchantCardLogo,src:t.hero_image_url,alt:"Logo"}),c.createElement(_,null,n,", ",r),c.createElement("h3",null,t.name),c.createElement(x,null,t.summary||t.story),c.createElement("br",null),c.createElement(v.a,{amountRaised:t.amount_raised,targetAmount:t.target_amount,progressBarColor:t.progress_bar_color,numContributions:t.num_contributions,numDonations:t.num_donations,numGiftCards:t.num_gift_cards,donationAmount:t.donation_amount,giftCardAmount:t.gift_card_amount}))))},_=s.a.div(E()),x=s.a.p(b()),C=n(185),w=n.n(C);function O(){var e=Object(i.a)(["\n  text-align: left;\n  padding: 5px 0;\n"]);return O=function(){return e},e}function S(){var e=Object(i.a)(["\n  padding: 0 5px 0 20px;\n"]);return S=function(){return e},e}function j(){var e=Object(i.a)(["\n  width: 45%;\n"]);return j=function(){return e},e}function k(){var e=Object(i.a)(["\n  text-align: center;\n"]);return k=function(){return e},e}var N=function(){return c.createElement(A,{className:h.a.merchantCard},c.createElement(B,{src:w.a,alt:"target-merchant-img"}),c.createElement("h3",null,"Meet our Target Merchant"),c.createElement(I,null,c.createElement(M,null,"Asian immigrant-owned small businesses"),c.createElement(M,null,"Not fluent in English, run cash-only establishments, and not tech-savvy"),c.createElement(M,null,"Currently struggling to pay rent, utility bill and employee wages"),c.createElement(M,null,"Do not have websites, online delivery service, or vouchers available"),c.createElement(M,null,"Located in NYC Manhattan Chinatown, Flushing, or Bensonhurst")))},A=s.a.div(k()),B=s.a.img(j()),I=s.a.ul(S()),M=s.a.li(O());function D(){var e=Object(i.a)(["\n  font-size: 17px;\n  font-weight: bold;\n  margin: 15px 0;\n"]);return D=function(){return e},e}function F(){var e=Object(i.a)(["\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n"]);return F=function(){return e},e}function L(){var e=Object(i.a)(["\n  border-radius: 25px;\n  height: 25px;\n  z-index: 5;\n  width: 100%;\n  margin-bottom: 15px;\n"]);return L=function(){return e},e}function R(){var e=Object(i.a)(["\n  font-size: 13px;\n"]);return R=function(){return e},e}var P=function(e){var t,n,r=e.totalDonations,a=e.totalGiftCards;return c.createElement(T,null,c.createElement($,null,"Total Raised"),c.createElement(q,{style:{background:"linear-gradient(-45deg, #dd678a ".concat((t=r,n=r+a,t<n?t/n*100:100),"%, #F6B917 0%)")}}),c.createElement(z,null,c.createElement("span",null,"VOUCHERS:"," ",c.createElement("b",null,"$",(Math.floor(a)/100).toLocaleString())),c.createElement("span",null,"DONATIONS:"," ",c.createElement("b",null,"$",(Math.floor(r)/100).toLocaleString()))),c.createElement("p",null,"100% of all proceeds go to the businesses, and we cover the credit card processing fees."))},T=s.a.div(R()),q=s.a.div(L()),z=s.a.div(F()),$=s.a.div(D()),W=n(186),G=n.n(W),H=n(42),J=function(e){var t=Object(c.useState)(),n=Object(l.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)(),m=Object(l.a)(s,2),d=m[0],p=m[1],v=Object(c.useState)(0),g=Object(l.a)(v,2),b=g[0],E=g[1],_=Object(c.useState)(0),x=Object(l.a)(_,2),C=x[0],w=x[1],O=function(){var e=Object(o.a)(a.a.mark((function e(){var t,n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.getSellers)();case 2:t=e.sent,n=t.data,r=n.reduce((function(e,t){return[e[0]+t.donation_amount,e[1]+t.gift_card_amount]}),[0,0]),i(n),p(n),E(r[0]),w(r[1]);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){O()}),[]);return c.createElement("div",{className:h.a.container,style:{display:e.menuOpen?"none":"inherit"}},d?c.createElement(c.Fragment,null,c.createElement("div",{className:h.a.overlayContainer},c.createElement("img",{src:G.a,className:h.a.nycMap,alt:"NYC MAP"}),c.createElement("div",{className:h.a.contentContainer},c.createElement("div",{className:h.a.textArea},c.createElement("h2",{style:{fontWeight:"bolder"}},"Our Chinatown"),c.createElement("br",null),c.createElement("p",null,"We are providing an online platform to low-tech, cash-only, Asian-owned small businesses that have been disproportionately impacted by COVID-19."),c.createElement("p",null,"Support local merchants by making a donation or purchasing a voucher from them.")),c.createElement("div",{className:h.a.storeInfo},c.createElement(P,{totalDonations:b,totalGiftCards:C})),c.createElement("div",{className:h.a.ownerPanel},c.createElement(N,null)))),c.createElement("div",{className:h.a.storeInfoContainer},c.createElement(f,{filterStoreType:function(e){if("all"===e)p(r);else{var t=r.filter((function(t){return t.cuisine_name===e}));p(t)}}}),c.createElement("div",{className:h.a.merchantsContainer},d.map((function(e){return c.createElement(y,{key:e.seller_id,storeInfo:e})}))))):c.createElement(H.a,null))}},99:function(e,t,n){"use strict";var r=n(100);n.o(r,"getSeller")&&n.d(t,"getSeller",(function(){return r.getSeller})),n.o(r,"getSellers")&&n.d(t,"getSellers",(function(){return r.getSellers})),n.o(r,"makeSquarePayment")&&n.d(t,"makeSquarePayment",(function(){return r.makeSquarePayment}));var a=n(103);n.d(t,"getSeller",(function(){return a.a})),n.d(t,"getSellers",(function(){return a.b})),n.d(t,"makeSquarePayment",(function(){return a.c}))}}]);
//# sourceMappingURL=6.bc13f959.chunk.js.map
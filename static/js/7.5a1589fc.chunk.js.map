{"version":3,"sources":["utilities/api/endpoints.ts","utilities/api/interactionManager.ts","utilities/api/index.ts","utilities/index.ts","utilities/general/responsive.tsx","components/MerchantsPage/gam/styles.module.scss","components/MerchantsPage/gam/CampaignInstructions.tsx","components/MerchantsPage/images/gam_icon_step1.svg","components/MerchantsPage/images/gam_icon_step2.svg","components/MerchantsPage/images/gam_icon_step3.svg","components/MerchantsPage/images/gam_icon_step4.svg","components/MerchantsPage/images/illustrated_flatlay_hero.png","components/MerchantsPage/images/campaign_default.png","components/MerchantsPage/gam/NoCampignsBox.tsx","components/MerchantsPage/gam/CampaignProgressBar.tsx","components/MerchantsPage/gam/CampaignListItem.tsx","components/MerchantsPage/gam/VideoComponent.tsx","components/MerchantsPage/gam/GiftAMealPage.tsx"],"names":["baseUrl","process","sellers","charges","vouchers","getSellers","lang","a","axios","get","params","locale","localeFromLanguage","getSeller","id","makeSquarePayment","nonce","sellerId","payment","buyer","isDistribution","email","name","idempotencyKey","idempotency_key","isSubscribed","is_subscribed","post","is_square","line_items","seller_id","is_distribution","headers","then","res","catch","err","getVoucher","updateVoucher","amount","put","getMerchantGiftCards","secret","language","getCampaigns","getDistributor","smallScreens","tabletScreens","module","exports","CampaignInstructions","props","t","useTranslation","className","isModal","styles","modalBackground","background","modalInstructionsGrid","instructionsGrid","gam_icon_step1","gam_icon_step2","gam_icon_step3","gam_icon_step4","map","idx","step","text","icon","generateStep","modalStepGrid","stepGrid","key","src","alt","modalStepText","stepText","uppercase","bold","NoActiveCampaignsBox","NoCampaignBox","TextContainer","Heading","SubHeading","Button","styled","div","p","button","CampaignProgressBar","raised","target","isActive","numContributions","targetAmount","progressBarColor","lastContributionTime","endDate","progressPercent","Math","floor","timeUntilEnd","getTime","Date","now","daysUntilEnd","timeSinceLastContribution","ProgressBarContainer","TimeStamp","minutesSinceLastConstribution","hoursSinceLastContribution","daysSinceLastContribution","lastContributionTimeAsPresentable","TargetAmountBar","CurrentProgressBar","style","width","backgroundColor","ProgressTextContainer","color","ceil","span","CampaignListItem","useState","distributor","setDistributor","merchant","setMerchant","campaign","fetchData","distributor_id","distributorData","merchantData","data","useEffect","mealsRaised","amount_raised","price_per_meal","targetMeals","target_amount","campaignImageUrls","gallery_image_urls","Container","ColumnContainer","length","CampaignImage","campaignDefaultImage","locations","Location","city","Name","Description","description","href","website_url","active","last_contribution","end_date","ImagesContainer","DistributorImage","image_url","MerchantImage","logo_image_url","onClick","e","preventDefault","window","location","img","VideoComponent","videoId","size","height","windowSize","setWindowSize","handleResize","innerWidth","innerHeight","addEventListener","removeEventListener","useWindowSize","min","opts","toString","playerVars","autoplay","GiftAMealPage","activeCampaigns","setActiveCampaigns","pastCampaigns","setPastCampaigns","campaignData","filter","valid","past","container","display","menuOpen","header","illustrated_flatlay_hero","hero","headerText","fontWeight","backButton","campaignHeader","videoContainer","videoDescription"],"mappings":"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","file":"static/js/7.5a1589fc.chunk.js","sourcesContent":["const baseUrl = process.env.REACT_APP_API_ENDPOINT!;\n\nexport const sellers = baseUrl + 'sellers/';\nexport const charges = baseUrl + 'charges';\nexport const vouchers = baseUrl + 'gift_cards/';\nexport const campaigns = baseUrl + 'campaigns/';\nexport const distributors = baseUrl + 'distributors/';\n","import axios from 'axios';\nimport { CardElement } from '@stripe/react-stripe-js';\nimport { Buyer, PaymentParams, SquareLineItems } from './types';\nimport { charges, sellers, vouchers, campaigns, distributors } from './endpoints';\n\n// Fix return typing\nexport const getSellers = async (lang?: string): Promise<any> => {\n  return await axios.get(sellers, {\n    params: { locale: localeFromLanguage(lang) },\n  });\n};\n\n// Fix return typing\nexport const getSeller = async (id: string, lang?: string): Promise<any> => {\n  return await axios.get(sellers + id, {\n    params: { locale: localeFromLanguage(lang) },\n  });\n};\n\n// TODO(ArtyEmsee): add typing for stripe elements\nexport const makePayment = async (\n  stripe: any,\n  elements: any,\n  payment: PaymentParams,\n  buyer: Buyer\n) => {\n  const { email, name } = buyer;\n\n  // TODO(ArtyEmsee): abstract api call, create global object for headers\n  await axios\n    .post(\n      charges,\n      {\n        is_square: false,\n        line_items: [payment],\n        email: email,\n      },\n      { headers: { 'Access-Control-Allow-Origin': '*' } }\n    )\n    .then(async (res) => {\n      // TODO(ArtyEmsee): fix response to success\n      if (!stripe || !elements) return;\n      else {\n        const cardElement = elements!.getElement(CardElement);\n        const result = await stripe!.confirmCardPayment(\n          `${res.data.client_secret}`,\n          {\n            payment_method: {\n              card: cardElement!,\n              billing_details: {\n                name: name,\n                email: email,\n              },\n            },\n          }\n        );\n\n        if (result.error) {\n          console.log(result.error.message);\n        } else {\n          if (result.paymentIntent?.status === 'succeeded') {\n            console.log(\n              result.paymentIntent?.status,\n              'The payment has been processed!'\n            );\n          }\n        }\n      }\n    });\n\n  // TODO(ArtyEmsee): fix response to error\n};\n\nexport const makeSquarePayment = async (\n  nonce: string,\n  sellerId: string,\n  payment: SquareLineItems,\n  buyer: Buyer,\n  isDistribution: boolean\n) => {\n  const { email, name } = buyer;\n  const idempotencyKey = buyer.idempotency_key;\n  const isSubscribed = buyer.is_subscribed;\n\n  return await axios\n    .post(\n      charges,\n      {\n        is_square: true,\n        nonce,\n        line_items: payment,\n        email,\n        name,\n        seller_id: sellerId,\n        idempotency_key: idempotencyKey,\n        is_subscribed: isSubscribed,\n        is_distribution: isDistribution,\n      },\n      { headers: { 'Access-Control-Allow-Origin': '*' } }\n    )\n    .then(async (res) => {\n      return res;\n    })\n    .catch((err) => {\n      throw err;\n    });\n};\n\nexport const getVoucher = async (id: string) =>\n  axios\n    .get(vouchers + id)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const updateVoucher = async (id: string, amount: number) =>\n  axios\n    .put(vouchers + id, { amount })\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getMerchantGiftCards = async (seller_id: string, secret: string) =>\n  axios.get(sellers + seller_id + '/gift_cards/' + secret).then((res) => res); // don't catch error, throw it up the stack\n\nfunction localeFromLanguage(language?: string) {\n  switch (language) {\n    case 'cn':\n      return 'zh-CN';\n    case 'en':\n    default:\n      return 'en';\n  }\n}\n\nexport const getCampaigns = async (): Promise<any> => {\n  return await axios.get(campaigns);\n};\n\nexport const getDistributor = async (id: string): Promise<any> => {\n  return await axios.get(distributors + id)\n    .then((res) => res)\n    .catch((err) => err);\n}\n","export * from './types';\nexport * from './interactionManager';\n","export * from './api';\nexport * from './hooks';\n","/*\n * Responsive screen sizes\n */\nconst phoneScreens = 'max-width: 450px';\nconst smallScreens = 'max-width: 599px';\nconst tabletScreens = 'max-width: 899px';\nconst desktopScreens = 'max-width: 1299px';\nconst bigDesktopScreens = 'min-width: 1300px';\n\nexport {\n  phoneScreens,\n  smallScreens,\n  tabletScreens,\n  desktopScreens,\n  bigDesktopScreens,\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button--filled\":\"styles_button--filled__1Q_a1\",\"button--red-filled\":\"styles_button--red-filled__30C9L\",\"button--outlined\":\"styles_button--outlined__T1S4e\",\"button--redfilled\":\"styles_button--redfilled__1aPRb\",\"modalButton--back\":\"styles_modalButton--back__SqQbc\",\"modalButton--outlined\":\"styles_modalButton--outlined__2rGur\",\"modalButton--filled\":\"styles_modalButton--filled__1u791\",\"modalButton--nonfunctional\":\"styles_modalButton--nonfunctional__3b7y_\",\"modalButton--selected\":\"styles_modalButton--selected__120By\",\"modalButton--outline\":\"styles_modalButton--outline__1nxQS\",\"closeButton--close\":\"styles_closeButton--close__2-Gq4\",\"modalForm--form\":\"styles_modalForm--form__1r_3v\",\"modalInput--input\":\"styles_modalInput--input__1yGue\",\"filterable-table-container\":\"styles_filterable-table-container__3yuTM\",\"header-row\":\"styles_header-row__13pcb\",\"filter-container\":\"styles_filter-container__3R7V3\",\"filter-input\":\"styles_filter-input__2pKZl\",\"clear-filter\":\"styles_clear-filter__2DOt6\",\"record-count\":\"styles_record-count__3tJgl\",\"fa\":\"styles_fa__1dVUs\",\"active\":\"styles_active__ZQhyR\",\"disabled\":\"styles_disabled__yy9aR\",\"bold\":\"styles_bold__2INhr\",\"uppercase\":\"styles_uppercase__HZ5Zd\",\"container\":\"styles_container__3QdrG\",\"header\":\"styles_header__2e_gf\",\"headerText\":\"styles_headerText__2GMED\",\"hero\":\"styles_hero__30ZVS\",\"backButton\":\"styles_backButton__1XAdF\",\"campaignHeader\":\"styles_campaignHeader__trEYV\",\"videoContainer\":\"styles_videoContainer__2lfjR\",\"videoDescription\":\"styles_videoDescription__4o5jP\",\"background\":\"styles_background__2nP1I\",\"instructionsGrid\":\"styles_instructionsGrid__13657\",\"stepGrid\":\"styles_stepGrid__3ygF3\",\"stepText\":\"styles_stepText__sSzBp\",\"modalBackground\":\"styles_modalBackground__3ypio\",\"modalInstructionsGrid\":\"styles_modalInstructionsGrid__2C4x6\",\"modalStepGrid\":\"styles_modalStepGrid__1ezhA\",\"modalStepText\":\"styles_modalStepText__KwkiA\"};","import React from 'react';\nimport styles from './styles.module.scss';\nimport { useTranslation } from 'react-i18next';\n\nimport gam_icon_step1 from '../images/gam_icon_step1.svg';\nimport gam_icon_step2 from '../images/gam_icon_step2.svg';\nimport gam_icon_step3 from '../images/gam_icon_step3.svg';\nimport gam_icon_step4 from '../images/gam_icon_step4.svg';\n\ninterface Props {\n  isModal: boolean;\n}\n\nconst CampaignInstructions = (props: Props) => {\n  const { t } = useTranslation();\n  return (\n    <div className={props.isModal ? styles.modalBackground : styles.background}>\n      <div\n        className={\n          props.isModal ? styles.modalInstructionsGrid : styles.instructionsGrid\n        }\n      >\n        {[\n          [\n            `${t('gamHome.subheading.step1')}`,\n            `${t('gamHome.subheading.step1Text')}`,\n            gam_icon_step1,\n          ],\n          [\n            `${t('gamHome.subheading.step2')}`,\n            `${t('gamHome.subheading.step2Text')}`,\n            gam_icon_step2,\n          ],\n          [\n            `${t('gamHome.subheading.step3')}`,\n            `${t('gamHome.subheading.step3Text')}`,\n            gam_icon_step3,\n          ],\n          [\n            `${t('gamHome.subheading.step4')}`,\n            `${t('gamHome.subheading.step4Text')}`,\n            gam_icon_step4,\n          ],\n        ].map(([step, text, icon], idx) =>\n          generateStep(step, text, icon, props.isModal, idx)\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default CampaignInstructions;\n\nconst generateStep = (step, text, icon, isModal, idx) => {\n  return (\n    <div className={isModal ? styles.modalStepGrid : styles.stepGrid} key={idx}>\n      <img src={icon} alt=\"icon\" />\n      <div className={isModal ? styles.modalStepText : styles.stepText}>\n        <p className={styles.uppercase}>{step}</p>\n        <p className={styles.bold}>{text}</p>\n      </div>\n    </div>\n  );\n};\n","module.exports = __webpack_public_path__ + \"static/media/gam_icon_step1.c58f05a4.svg\";","module.exports = __webpack_public_path__ + \"static/media/gam_icon_step2.9a0ca5e8.svg\";","module.exports = __webpack_public_path__ + \"static/media/gam_icon_step3.ad0c5291.svg\";","module.exports = __webpack_public_path__ + \"static/media/gam_icon_step4.b9832c02.svg\";","module.exports = __webpack_public_path__ + \"static/media/illustrated_flatlay_hero.050015e1.png\";","module.exports = __webpack_public_path__ + \"static/media/campaign_default.9ad02a20.png\";","import React from 'react';\nimport {\n  smallScreens,\n  tabletScreens,\n} from '../../../utilities/general/responsive';\nimport styled from 'styled-components';\nimport { useTranslation } from 'react-i18next';\n\nconst NoActiveCampaignsBox = () => {\n  const { t } = useTranslation();\n\n  return (\n    <NoCampaignBox>\n      <TextContainer>\n        <Heading>{t('gamHome.noCampaignsBox.CTA')}</Heading>\n        <SubHeading>{t('gamHome.noCampaignsBox.description')}</SubHeading>\n      </TextContainer>\n      <Button className=\"button--filled\">\n        {t('gamHome.giftButton')}\n      </Button>\n    </NoCampaignBox>\n  );\n};\n\nexport default NoActiveCampaignsBox;\n\nconst NoCampaignBox = styled.div`\n  align-items: center;\n  border: 1px solid #e5e5e5;\n  display: grid;\n  grid-template-columns: 2fr 1fr;\n  padding: 30px;\n  margin-bottom: 25px;\n\n  @media (${tabletScreens}) {\n    grid-template-columns: 1fr;\n    margin-bottom: 15px;\n  }\n`;\n\nconst TextContainer = styled.div`\n  @media (${tabletScreens}) {\n    margin-bottom: 20px;\n  }\n`;\n\nconst Heading = styled.p`\n  font-style: normal;\n  font-weight: 600;\n  font-size: 24px;\n\n  @media (${smallScreens}) {\n    font-size: 14px;\n  }\n`;\n\nconst SubHeading = styled.p`\n  font-size: 15px;\n\n  @media (${smallScreens}) {\n    font-size: 12px;\n  }\n`;\n\nconst Button = styled.button`\n  text-align: center;\n  letter-spacing: 0.15em;\n  cursor: pointer;\n  margin-bottom: 18px;\n  font-family: 'Open Sans', 'Helvetica Neue', sans-serif;\n  font-weight: 700;\n  font-size: 16px;\n  letter-spacing: 0.05em;\n\n  @media (${smallScreens}) {\n    font-size: 14px;\n    padding-right: 0;\n  }\n`;\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport { useTranslation } from 'react-i18next';\n\ninterface Props {\n  isActive: boolean;\n  numContributions: number;\n  targetAmount: number;\n  progressBarColor: string;\n  lastContributionTime: Date;\n  endDate: Date;\n}\n\nconst CampaignProgressBar = ({\n  isActive,\n  numContributions,\n  targetAmount,\n  progressBarColor,\n  lastContributionTime,\n  endDate,\n}: Props) => {\n  const { t } = useTranslation();\n\n  // \"73% to target (73 out of 100 meals)\"\n  const progressWidth = (raised: number, target: number) => {\n    if (raised < target) return (raised / target) * 100;\n    return 100;\n  };\n  const progressPercent = Math.floor((numContributions / targetAmount) * 100);\n\n  // \"Ends in 2 days\"\n  const timeUntilEnd = endDate.getTime() - Date.now();\n  const daysUntilEnd = timeUntilEnd > 0 ? timeUntilEnd / (1000 * 3600 * 24) : 0;\n\n  // \"Last contribution made 2h ago\"\n  const timeSinceLastContribution = Date.now() - lastContributionTime.getTime();\n  const lastContributionTimeAsPresentable = (\n    timeSinceLastContribution: number\n  ) => {\n    const minutesSinceLastConstribution =\n      timeSinceLastContribution / (1000 * 60);\n    if (minutesSinceLastConstribution < 60) {\n      return `${t('buyMeal.lastContributionMade')} ${Math.floor(\n        minutesSinceLastConstribution\n      )}m ${t('buyMeal.ago')}`;\n    }\n    const hoursSinceLastContribution = minutesSinceLastConstribution / 60;\n    if (hoursSinceLastContribution < 24) {\n      return `${t('buyMeal.lastContributionMade')} ${Math.floor(\n        hoursSinceLastContribution\n      )}h ${t('buyMeal.ago')}`;\n    }\n    const daysSinceLastContribution = hoursSinceLastContribution / 24;\n    return `${t('buyMeal.lastContributionMade')} ${Math.floor(\n      daysSinceLastContribution\n    )}d ${t('buyMeal.ago')}`;\n  };\n\n  return (\n    <ProgressBarContainer>\n      <TimeStamp>\n        {lastContributionTimeAsPresentable(timeSinceLastContribution)}\n      </TimeStamp>\n      <TargetAmountBar className=\"progress-bar\">\n        <CurrentProgressBar\n          style={{\n            width: `${progressWidth(numContributions, targetAmount)}%`,\n            backgroundColor: progressBarColor,\n          }}\n        ></CurrentProgressBar>\n      </TargetAmountBar>\n      <div>\n        <ProgressTextContainer color={progressBarColor}>\n          {progressPercent}% {t('buyMeal.toTarget')}\n        </ProgressTextContainer>{' '}\n          ({numContributions} {t('buyMeal.outOf')} {targetAmount}{' '}\n        {t('buyMeal.meals')})\n        </div>\n      {isActive && (\n        <div>\n          {t('buyMeal.endsIn')}{' '}\n          <ProgressTextContainer color={progressBarColor}>\n            {Math.ceil(daysUntilEnd)}\n          </ProgressTextContainer>{' '}\n          {t('buyMeal.days')}\n        </div>\n      )}\n    </ProgressBarContainer>\n  );\n};\n\nexport default CampaignProgressBar;\n\nconst ProgressBarContainer = styled.div`\n  width: 100%;\n  padding: 15px 0;\n`;\n\nconst ProgressTextContainer = styled.span`\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 22px;\n  color: ${(props) => props.color};\n`;\n\nconst TargetAmountBar = styled.div`\n  background-color: #dedede;\n  height: 12px;\n  margin-bottom: 15px;\n`;\n\nconst CurrentProgressBar = styled.div`\n  background-color: #dd678a;\n  height: 12px;\n`;\n\nconst TimeStamp = styled.div`\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 13px;\n  line-height: 18px;\n  letter-spacing: 0.02em;\n  color: #9e9e9e;\n  margin-bottom: 10px;\n`;\n","import React from 'react';\nimport CampaignProgressBar from './CampaignProgressBar';\nimport styled from 'styled-components';\nimport {\n  tabletScreens\n} from '../../../utilities/general/responsive';\nimport { useTranslation } from 'react-i18next';\nimport campaignDefaultImage from '../images/campaign_default.png';\nimport { Campaign } from '../../../utilities/api/types';\nimport { getDistributor, getSeller } from '../../../utilities';\nimport { useEffect, useState } from 'react';\n\ninterface Props {\n  campaign: Campaign;\n}\n\nconst CampaignListItem = (props: Props) => {\n  const { t } = useTranslation();\n\n  const [distributor, setDistributor] = useState<any | null>();\n  const [merchant, setMerchant] = useState<any | null>();\n  const campaign = props.campaign;\n\n  const fetchData = async () => {\n    const distributorData = await getDistributor(campaign.distributor_id);\n    const merchantData = await getSeller(campaign.seller_id);\n    setDistributor(distributorData.data);\n    setMerchant(merchantData.data);\n  };\n\n  useEffect(() => {\n    fetchData();\n    // eslint-disable-next-line\n  }, []);\n\n  const mealsRaised = Math.floor(campaign.amount_raised / campaign.price_per_meal);\n  const targetMeals = Math.floor(campaign.target_amount / campaign.price_per_meal);\n  const campaignImageUrls = campaign.gallery_image_urls;\n\n  return (\n    <Container>\n      <ColumnContainer>\n        {campaignImageUrls && campaignImageUrls.length && (\n          <CampaignImage src={campaignImageUrls[0] ?? campaignDefaultImage} alt=\"campaign_image\" />\n        )}\n      </ColumnContainer>\n      <ColumnContainer>\n        {merchant && merchant.locations && merchant.locations.length && (\n          <Location>{merchant.locations[0].city}</Location>\n        )}\n        {distributor && merchant && (\n          <Name>{merchant.name} x {distributor.name}</Name>\n        )}\n        <Description>\n          {campaign.description}\n          <br></br>\n          {distributor &&\n            (<a href={distributor.website_url}>{distributor.name}</a>)\n          }\n        </Description>\n        <CampaignProgressBar\n          isActive={campaign.active}\n          numContributions={mealsRaised}\n          targetAmount={targetMeals}\n          progressBarColor={'#CF6E8A'}\n          lastContributionTime={new Date(campaign.last_contribution)}\n          endDate={new Date(campaign.end_date)}\n        />\n      </ColumnContainer>\n      <ColumnContainer>\n        <ImagesContainer>\n          {distributor &&\n            (<a href={distributor.website_url}>\n              <DistributorImage src={distributor.image_url} alt=\"distributor_logo\" />\n            </a>\n            )\n          }\n          {merchant &&\n            (<MerchantImage src={merchant.logo_image_url} alt=\"merchant_logo\" />)\n          }\n        </ImagesContainer>\n        {merchant && (\n          <Button className=\"button--filled\" onClick={(e) => {\n            e.preventDefault();\n            window.location.href = '/' + merchant.seller_id;\n          }}>{t('gamHome.listItem.viewButton')}</Button>\n        )}\n        {campaign.active && (\n          <Button className={'button--outlined'}>{t('gamHome.listItem.giftButton')}</Button>\n        )}\n      </ColumnContainer>\n    </Container >\n  );\n};\n\nexport default CampaignListItem;\n\nconst Container = styled.div`\n  border-bottom: 1px solid #e5e5e5;\n  display: flex;\n  max-height: 350px;\n  margin: 35px 0 55px;\n  justify-content: space-between;\n\n  @media (${tabletScreens}) {\n    max-height: 600px;\n    flex-direction: column;\n    margin: 0 17px;\n    position: relative;\n    padding-top: 15px;\n  }\n`;\n\nconst ColumnContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding: 1rem 2rem 1.5rem;\n\n  @media (${tabletScreens}) {\n    padding: 0.5rem 1rem 0.75rem;\n\n    > span {\n      margin: 2.5px 0;\n    }\n\n    > button {\n      width: 100%;\n    }\n\n    > img {\n      height: 103px;\n      object-fit: cover;\n      object-position: 0 25%;\n    }\n  }\n`;\n\nconst Location = styled.div`\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 15px;\n  line-height: 20px;\n  letter-spacing: 0.02em;\n  color: #1e7c9a;\n  margin-bottom: 15px;\n\n  @media (${tabletScreens}) {\n    font-size: 14px;\n    margin-bottom: 10px;\n  }\n`;\n\nconst Name = styled.div`\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: bold;\n  font-size: 16px;\n  line-height: 22px;\n  letter-spacing: 0.02em;\n  color: #000000;\n  margin-bottom: 18px;\n\n  @media (${tabletScreens}) {\n    margin-bottom: 10px;\n    width: 70%;\n  }\n`;\n\nconst Description = styled.div`\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 15px;\n  line-height: 20px;\n  letter-spacing: 0.02em;\n  color: #1e1e1e;\n  margin-bottom: 20px;\n\n  @media (${tabletScreens}) {\n    font-size: 14px;\n    margin-bottom: 10px;\n  }\n`;\n\nconst Button = styled.div`\n  text-align: center;\n  width: 240px;\n  letter-spacing: 0.15em;\n  cursor: pointer;\n  margin-bottom: 18px;\n  font-family: 'Open Sans', 'Helvetica Neue', sans-serif;\n  font-weight: 700;\n  font-size: 16px;\n  letter-spacing: 0.05em;\n\n  @media (max-width: 550px) {\n    font-size: 14px;\n    width: 100%;\n    margin-bottom: 10px;\n  }\n`;\n\nconst ImagesContainer = styled.span`\n  align-self: right;\n  margin-bottom: 60px;\n  align-self: flex-end;\n\n  @media (${tabletScreens}) {\n    position: absolute;\n    top: 132px;\n    margin-bottom: 30px;\n\n    img {\n      height: 25px;\n    }\n  }\n`;\n\nconst CampaignImage = styled.img`\n  height: 240px;\n  width: 240px;\n\n  @media (${tabletScreens}) {\n    max-height: 100px;\n    width: 100%;\n  }\n`;\n\nconst DistributorImage = styled.img`\n  max-height: 70px;\n  max-width: 120px;\n  margin-right: 15px;\n  vertical-align: middle;\n`;\n\nconst MerchantImage = styled.img`\n  max-height: 70px;\n  max-width: 70px;\n  vertical-align: middle;\n`;\n","import React from 'react';\nimport { useState, useEffect } from 'react';\nimport YouTube from 'react-youtube';\nimport { Options } from 'react-youtube';\n\ninterface Props {\n  videoId: string;\n}\n\nconst VideoComponent = ({ videoId }: Props) => {\n  // https://usehooks.com/useWindowSize/\n  const useWindowSize = () => {\n    const [windowSize, setWindowSize] = useState({\n      width: 0,\n      height: 0,\n    });\n\n    useEffect(() => {\n      function handleResize() {\n        setWindowSize({\n          width: window.innerWidth,\n          height: window.innerHeight,\n        });\n      }\n\n      window.addEventListener('resize', handleResize);\n      handleResize();\n\n      return () => window.removeEventListener('resize', handleResize);\n    }, []);\n\n    return windowSize;\n  };\n\n  const size = useWindowSize();\n  const width = Math.min(size.width * 0.8, 1200);\n  const height = width / 2;\n  const opts: Options = {\n    height: height.toString(),\n    width: width.toString(),\n    playerVars: {\n      autoplay: 0,\n    },\n  };\n\n  return <YouTube videoId={videoId} opts={opts} />;\n};\n\nexport default VideoComponent;\n","import React, { useEffect, useState } from 'react';\nimport styles from './styles.module.scss';\nimport { getCampaigns } from '../../../utilities';\nimport illustrated_flatlay_hero from '../images/illustrated_flatlay_hero.png';\nimport CampaginInstructions from './CampaignInstructions';\nimport NoActiveCampaignsBox from './NoCampignsBox';\nimport CampaignListItem from './CampaignListItem';\nimport VideoComponent from './VideoComponent';\nimport { useTranslation } from 'react-i18next';\n\ninterface Props {\n  menuOpen: boolean;\n}\n\nconst GiftAMealPage = (props: Props) => {\n  const { t } = useTranslation();\n\n  const [activeCampaigns, setActiveCampaigns] = useState([]);\n  const [pastCampaigns, setPastCampaigns] = useState([]);\n\n  const fetchData = async () => {\n    const campaignData = await getCampaigns();\n    const active = campaignData.data.filter(\n      (campaign: any) => campaign.active && campaign.valid\n    );\n    setActiveCampaigns(active);\n    const past = campaignData.data.filter((campaign: any) => !campaign.active);\n    setPastCampaigns(past);\n  };\n\n  useEffect(() => {\n    fetchData();\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <div\n      className={styles.container}\n      style={{ display: props.menuOpen ? 'none' : 'inherit' }}\n    >\n      <div className={styles.header}>\n        <img\n          src={illustrated_flatlay_hero}\n          className={styles.hero}\n          alt=\"meal overlay illustration\"\n        />\n        <div className={styles.headerText}>\n          <h3 style={{ fontWeight: 'bolder' }}>{t('gamHome.header')}</h3>\n          <p>{t('gamHome.description')}</p>\n        </div>\n        <CampaginInstructions isModal={false} />\n      </div>\n      <br />\n      <button\n        className={styles.backButton}\n        onClick={(e) => {\n          e.preventDefault();\n          window.location.href = '/all';\n        }}\n      >\n        {t('gamHome.backButton')}\n      </button>\n      {activeCampaigns.length\n        ? <>\n          <h5 className={styles.campaignHeader}>{t('gamHome.activeSection')}</h5>\n          {activeCampaigns.map((campaign: any) => (\n            <CampaignListItem campaign={campaign} key={campaign.id} />\n          ))}\n        </>\n        : <NoActiveCampaignsBox />\n      }\n\n      <div className={styles.videoContainer}>\n        <VideoComponent videoId=\"3zbqvouILto\"></VideoComponent>\n        <h5 className={styles.videoDescription}>{t('gamHome.videoBox.caption')}</h5>\n      </div>\n\n      <h5 className={styles.campaignHeader}>{t('gamHome.pastSection')}</h5>\n      {pastCampaigns.map((campaign: any) => (\n        <CampaignListItem campaign={campaign} key={campaign.id} />\n      ))}\n    </div >\n  );\n};\n\nexport default GiftAMealPage;\n"],"sourceRoot":""}
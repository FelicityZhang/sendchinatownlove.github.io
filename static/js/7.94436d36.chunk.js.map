{"version":3,"sources":["utilities/api/endpoints.ts","utilities/api/interactionManager.ts","utilities/index.ts","utilities/api/index.ts","components/ModalBuyMealNew/styles.module.scss","images/404-error-image.png","components/MerchantsPage/images/gam_icon_step1.svg","components/MerchantsPage/images/gam_icon_step2.svg","components/MerchantsPage/images/gam_icon_step3.svg","components/MerchantsPage/images/gam_icon_step4.svg","components/ModalAmount/ModalAmount.tsx","components/ModalBuyMealNew/CamapignInstructions.tsx","components/ModalBuyMealNew/ModalBuyMealPool.tsx","components/ModalPayment/SquareCardForm.tsx","components/ModalPayment/SubmissionButton.tsx","consts.ts","components/ModalPayment/SquareModal.tsx","components/ModalConfirmation/ModalConfirmation.tsx","components/Modal/Modal.tsx","components/404Page/ErrorPage.tsx","components/ModalConfirmation/chinatown-logo.png","components/ProgressBar/ProgressBar.tsx","components/StoreStory/styles.module.scss","components/StoreInfo/styles.module.scss","components/StoreInfo/misc-store.png","components/OwnerPanel/assets/female.svg","components/OwnerPanel/styles.module.scss","components/StoreStory/StoreStory.tsx","components/StoreInfo/StoreMenuTab.tsx","components/StoreInfo/StoreGalleryTab.tsx","components/StoreInfo/StoreMerchTab.tsx","components/StoreInfo/StoreSocialTab.tsx","components/StoreInfo/StoreInfoContainer.tsx","components/OwnerPanel/OwnerPanel.tsx","components/SellerPage/SellerPage.tsx"],"names":["baseUrl","process","sellers","charges","vouchers","passportVouchers","getSellers","lang","a","axios","get","params","locale","localeFromLanguage","getSeller","id","makeSquarePayment","nonce","sellerId","payment","buyer","isDistribution","campaignId","email","name","idempotencyKey","idempotency_key","isSubscribed","is_subscribed","post","is_square","line_items","seller_id","is_distribution","campaign_id","headers","then","res","catch","err","getVoucher","updateVoucher","amount","put","getMerchantGiftCards","secret","language","getCampaigns","getCampaignsForMerchant","getDistributor","getParticipatingMerchant","getParticipatingMerchantTickets","tickets_secret","module","exports","Modal","props","value","t","useTranslation","useModalPaymentState","useState","isCustomAmount","setIsCustomAmount","selected","setSelected","dispatch","useModalPaymentDispatch","handleAmount","customAmount","text","type","SET_AMOUNT","payload","headerText","purchaseType","ContentContainer","data-testid","Header","sellerName","AmountContainer","htmlFor","SelectAmtContainer","map","key","className","onClick","e","CustomAmountContainer","CustomAmountInput","onFocus","onChange","target","onKeyDown","evt","preventDefault","min","max","Number","ErrorMessage","NextButton","ReactPixel","trackCustom","SET_MODAL_VIEW","disabled","test","styled","form","div","input","button","CampaignInstructions","styles","modalBackground","modalInstructionsGrid","gam_icon_step1","gam_icon_step2","gam_icon_step3","gam_icon_step4","idx","step","icon","generateStep","modalStepGrid","src","alt","modalStepText","uppercase","bold","numberOfMeals","setNumberOfMeals","valueInt","parseInt","isNaN","totalMealPrice","costPerMeal","String","totalAmount","useEffect","description","href","rel","link","amountContainer","selectAmtContainer","selectAmt","classnames","customAmt","placeholder","separator","total","nextBtn","SquareCardForm","SquareCardRow","SquareCardItem","SubmissionButton","canSubmit","context","useContext","Context","submittable","onCreateNonce","SquareErrors","ADDRESS_VERIFICATION_FAILURE","ALLOWABLE_PIN_TRIES_EXCEEDED","BAD_EXPIRATION","CARDHOLDER_INSUFFICIENT_PERMISSIONS","CARD_EXPIRED","CARD_PROCESSING_NOT_ENABLED","CARD_NOT_SUPPORTED","CARD_TOKEN_EXPIRED","CARD_TOKEN_USED","CHIP_INSERTION_REQUIRED","CVV_FAILURE","EXPIRATION_FAILURE","GENERIC_DECLINE","GIFT_CARD_AVAILABLE_AMOUNT","INSUFFICIENT_FUNDS","INSUFFICIENT_PERMISSIONS","INVALID_ACCOUNT","INVALID_CARD_DATA","INVALID_EMAIL_ADDRESS","INVALID_EXPIRATION","INVALID_FEES","INVALID_LOCATION","INVALID_PIN","INVALID_POSTAL_CODE","MANUALLY_ENTERED_PAYMENT_NOT_SUPPORTED","PAN_FAILURE","PAYMENT_LIMIT_EXCEEDED","TEMPORARY_ERROR","TRANSACTION_LIMIT","VOICE_FAILURE","CARD_DECLINED_VERIFICATION_REQUIRED","SquareModal","applicationId","locationId","nonProfitLocationId","isTermsChecked","setTermsChecked","isSubscriptionChecked","setSubscriptionChecked","setName","setEmail","errorMessages","setErrorsMessages","setCanSubmit","mealText","numberOfMealsText","purchaseTypePhrase","shouldLowerCase","length","EMAIL_REGEX","PaymentContainer","Subheader","RowFormat","LabelText","InputText","pattern","source","required","SquareFormContainer","sandbox","cardNonceResponseReceived","errors","times","currency","item_type","quantity","status","response","responseErrors","data","message","code","detail","newErrors","error","obj","formId","apiWrapper","errorMessage","CheckboxContainer","Checkbox","inputProps","checked","Disclaimer","setDisclaimerLanguage","ButtonRow","BackButton","label","ModalConfirmation","Container","confirmationText","ThankYouImage","confirmationPic","FinishButton","closeModal","img","uuid","modalView","UPDATE_SELLER_DATA","amount_raised","CLOSE_MODAL","undefined","ModalContainer","CloseButtonContainer","CloseButton","ViewContainer","ModalAmount","ErrorPage","Text","menuOpen","Error","ErrorImage","MainHeader","SubHeader","BackToHome","main","SupporterTooltip","withStyles","theme","tooltip","backgroundColor","color","width","fontSize","typography","pxToRem","border","Tooltip","ProgressBar","raised","amountRaised","targetAmount","progressBarColor","numContributions","numDonations","numGiftCards","donationAmount","giftCardAmount","ProgressBarContainer","title","ToolTipTable","Math","floor","toLocaleString","enterTouchDelay","placement","TargetAmountBar","CurrentProgressBar","style","ContributionInfoContainer","table","StoreStory","story","container","StoreMenu","seller","expandImage","MenuImg","menu_url","StoreGallery","gallery","gallery_image_urls","GalleryContainer","image","StoreMerch","MerchContainer","Button","HeaderText","SocialTextLabel","SocialContainer","ClipboardContainer","StoreSocial","show","setShow","useRef","location","window","facebookQuote","socialIconDimensions","height","FacebookShareButton","url","quote","network","fgColor","bgColor","TwitterShareButton","EmailShareButton","ref","onCopy","size","fill","display","verticalAlign","margin","Overlay","current","padding","borderRadius","StoreInfo","summary","cuisine_name","locations","viewImage","setViewImage","showModal","setShowModal","storeNavItems","currentMerchantView","setMerchantView","hero_image_url","defaultStoreFront","merchantIllustration","nationality","address","address1","address2","city","state","zip_code","phone_number","StoreNavContainer","NavButton","switchMerchantView","ImageModal","ModalBox","OwnerPanel","setPurchaseType","activeCampaign","setActiveCampaign","fetchData","campaigns","active","find","campaign","event","extraInfo","Type","business_type","Employees","num_employees","Founded","founded_year","Website","website_url","Menu","validExtraInfo","Object","keys","filter","ownerContainer","ownerImage","owner_image_url","logo_image_url","defaultOwnerImage","owner_name","ownerName","target_amount","progress_bar_color","num_contributions","num_donations","num_gift_cards","donation_amount","gift_card_amount","buttonContainer","accept_donations","cost_per_meal","moreThanTwoButtons","sell_gift_cards","extraInfoContainer","Fragment","extraInfoKey","extraInfoValue","price_per_meal","non_profit_location_id","mapsContainer","section","SellerPage","i18n","loading","setLoading","useParams","sellerData","result","SET_SELLER_DATA","SellerName","Loader","isPage"],"mappings":"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","file":"static/js/7.94436d36.chunk.js","sourcesContent":["const baseUrl = process.env.REACT_APP_API_ENDPOINT!;\n\nexport const sellers = baseUrl + 'sellers/';\nexport const charges = baseUrl + 'charges';\nexport const vouchers = baseUrl + 'gift_cards/';\nexport const campaigns = baseUrl + 'campaigns/';\nexport const distributors = baseUrl + 'distributors/';\nexport const passportVouchers = baseUrl + 'participating_sellers/';","import axios from 'axios';\nimport { CardElement } from '@stripe/react-stripe-js';\nimport { Buyer, PaymentParams, SquareLineItems } from './types';\nimport { charges, sellers, vouchers, campaigns, distributors, passportVouchers } from './endpoints';\n\n// Fix return typing\nexport const getSellers = async (lang?: string): Promise<any> => {\n  return await axios.get(sellers, {\n    params: { locale: localeFromLanguage(lang) },\n  });\n};\n\n// Fix return typing\nexport const getSeller = async (id: string, lang?: string): Promise<any> => {\n  return await axios.get(sellers + id, {\n    params: { locale: localeFromLanguage(lang) },\n  });\n};\n\n// TODO(ArtyEmsee): add typing for stripe elements\nexport const makePayment = async (\n  stripe: any,\n  elements: any,\n  payment: PaymentParams,\n  buyer: Buyer\n) => {\n  const { email, name } = buyer;\n\n  // TODO(ArtyEmsee): abstract api call, create global object for headers\n  await axios\n    .post(\n      charges,\n      {\n        is_square: false,\n        line_items: [payment],\n        email: email,\n      },\n      { headers: { 'Access-Control-Allow-Origin': '*' } }\n    )\n    .then(async (res) => {\n      // TODO(ArtyEmsee): fix response to success\n      if (!stripe || !elements) return;\n      else {\n        const cardElement = elements!.getElement(CardElement);\n        const result = await stripe!.confirmCardPayment(\n          `${res.data.client_secret}`,\n          {\n            payment_method: {\n              card: cardElement!,\n              billing_details: {\n                name: name,\n                email: email,\n              },\n            },\n          }\n        );\n\n        if (result.error) {\n          console.log(result.error.message);\n        } else {\n          if (result.paymentIntent?.status === 'succeeded') {\n            console.log(\n              result.paymentIntent?.status,\n              'The payment has been processed!'\n            );\n          }\n        }\n      }\n    });\n\n  // TODO(ArtyEmsee): fix response to error\n};\n\nexport const makeSquarePayment = async (\n  nonce: string,\n  sellerId: string,\n  payment: SquareLineItems,\n  buyer: Buyer,\n  isDistribution: boolean,\n  campaignId?: string\n) => {\n  const { email, name } = buyer;\n  const idempotencyKey = buyer.idempotency_key;\n  const isSubscribed = buyer.is_subscribed;\n\n  return await axios\n    .post(\n      charges,\n      {\n        is_square: true,\n        nonce,\n        line_items: payment,\n        email,\n        name,\n        seller_id: sellerId,\n        idempotency_key: idempotencyKey,\n        is_subscribed: isSubscribed,\n        is_distribution: isDistribution, // TODO: deprecate this in favor of campaignId\n        campaign_id: campaignId\n      },\n      { headers: { 'Access-Control-Allow-Origin': '*' } }\n    )\n    .then(async (res) => {\n      return res;\n    })\n    .catch((err) => {\n      throw err;\n    });\n};\n\nexport const getVoucher = async (id: string) =>\n  axios\n    .get(vouchers + id)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const updateVoucher = async (id: string, amount: number) =>\n  axios\n    .put(vouchers + id, { amount })\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getMerchantGiftCards = async (seller_id: string, secret: string) =>\n  axios.get(sellers + seller_id + '/gift_cards/' + secret).then((res) => res); // don't catch error, throw it up the stack\n\nfunction localeFromLanguage(language?: string) {\n  switch (language) {\n    case 'cn':\n      return 'zh-CN';\n    case 'en':\n    default:\n      return 'en';\n  }\n}\n\nexport const getCampaigns = async (): Promise<any> => {\n  return await axios.get(campaigns)\n    .then((res) => res)\n    .catch((err) => err);\n};\n\nexport const getCampaignsForMerchant = async (seller_id: string): Promise<any> => {\n  return await axios.get(sellers + seller_id + '/campaigns')\n    .then((res) => res)\n    .catch((err) => err);\n}\n\nexport const getDistributor = async (id: string): Promise<any> => {\n  return await axios.get(distributors + id)\n    .then((res) => res)\n    .catch((err) => err);\n}\n\n// for passport crawl voucher print outs\nexport const getParticipatingMerchant = async (id: string) =>\n  axios\n    .get(passportVouchers + id)\n    .then((res) => res)\n    .catch((err) => err);\n\nexport const getParticipatingMerchantTickets = async (\n  id: string,\n  tickets_secret: string\n) =>\n  axios\n    .get(passportVouchers + id + '/tickets/' + tickets_secret)\n    .then((res) => res)\n    .catch((err) => err);\n","export * from './api';\nexport * from './hooks';\n","export * from './types';\nexport * from './interactionManager';\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button--filled\":\"styles_button--filled__WxP1d\",\"button--red-filled\":\"styles_button--red-filled__16Aab\",\"button--outlined\":\"styles_button--outlined__3j0Xk\",\"button--redfilled\":\"styles_button--redfilled__2VqFG\",\"modalButton--back\":\"styles_modalButton--back__2Eg0M\",\"modalButton--outlined\":\"styles_modalButton--outlined__1_EnJ\",\"modalButton--filled\":\"styles_modalButton--filled__3Rb0W\",\"modalButton--nonfunctional\":\"styles_modalButton--nonfunctional__2Njrx\",\"modalButton--selected\":\"styles_modalButton--selected__7SUUW\",\"modalButton--outline\":\"styles_modalButton--outline__1OnDM\",\"closeButton--close\":\"styles_closeButton--close__thSx0\",\"modalForm--form\":\"styles_modalForm--form__2aHxH\",\"modalInput--input\":\"styles_modalInput--input__7T1lZ\",\"filterable-table-container\":\"styles_filterable-table-container__2hexw\",\"header-row\":\"styles_header-row__3OSF9\",\"filter-container\":\"styles_filter-container__27XLt\",\"filter-input\":\"styles_filter-input__2qkxu\",\"clear-filter\":\"styles_clear-filter__2h8SJ\",\"record-count\":\"styles_record-count__1bHO0\",\"fa\":\"styles_fa__3j6hl\",\"active\":\"styles_active__3G6q6\",\"disabled\":\"styles_disabled__31b70\",\"amountContainer\":\"styles_amountContainer__3WST_\",\"selectAmtContainer\":\"styles_selectAmtContainer__2MM7j\",\"selectAmt\":\"styles_selectAmt__3faov\",\"separator\":\"styles_separator__1DAdK\",\"customAmt\":\"styles_customAmt__5bjih\",\"costPerMeal\":\"styles_costPerMeal__2mVM9\",\"nextBtn\":\"styles_nextBtn__2felb\",\"total\":\"styles_total__3Vbzd\",\"illustrationsContainer\":\"styles_illustrationsContainer__1Ied5\",\"illustrationLeading\":\"styles_illustrationLeading__hFCKP\",\"illustrationTrailing\":\"styles_illustrationTrailing__1K7HA\",\"explantionContainer\":\"styles_explantionContainer__2rCgX\",\"explanation\":\"styles_explanation__2yP6R\",\"donationsContainer\":\"styles_donationsContainer__3fFDi\",\"bold\":\"styles_bold__1hwij\",\"uppercase\":\"styles_uppercase__1lbqw\",\"link\":\"styles_link__aYO5H\",\"description\":\"styles_description__1ouq5\",\"modalBackground\":\"styles_modalBackground__iojBx\",\"modalInstructionsGrid\":\"styles_modalInstructionsGrid__2bPZT\",\"modalStepGrid\":\"styles_modalStepGrid__32dHO\",\"modalStepText\":\"styles_modalStepText__2pQc_\"};","module.exports = __webpack_public_path__ + \"static/media/404-error-image.f72ee016.png\";","module.exports = __webpack_public_path__ + \"static/media/gam_icon_step1.c58f05a4.svg\";","module.exports = __webpack_public_path__ + \"static/media/gam_icon_step2.9a0ca5e8.svg\";","module.exports = __webpack_public_path__ + \"static/media/gam_icon_step3.ad0c5291.svg\";","module.exports = __webpack_public_path__ + \"static/media/gam_icon_step4.b9832c02.svg\";","import React, { useState } from 'react';\nimport {\n  useModalPaymentState,\n  useModalPaymentDispatch,\n} from '../../utilities/hooks/ModalPaymentContext/context';\nimport {\n  SET_MODAL_VIEW,\n  SET_AMOUNT,\n} from '../../utilities/hooks/ModalPaymentContext/constants';\nimport { useTranslation } from 'react-i18next';\nimport styled from 'styled-components';\nimport ReactPixel from 'react-facebook-pixel';\n\nexport interface Props {\n  purchaseType: string;\n  sellerId: string;\n  sellerName: string;\n}\n\nexport const Modal = (props: Props) => {\n  const { t } = useTranslation();\n\n  const { amount } = useModalPaymentState();\n  const [isCustomAmount, setIsCustomAmount] = useState(true);\n  const [selected, setSelected] = useState('');\n  const dispatch = useModalPaymentDispatch();\n  const minAmount = 5;\n  const maxAmount = 10000;\n\n  const handleAmount = (value: string, customAmount: boolean, text: string) => {\n    setSelected(text);\n    setIsCustomAmount(customAmount);\n    dispatch({ type: SET_AMOUNT, payload: value });\n  };\n\n  const openModal = (e: any) => {\n    ReactPixel.trackCustom('PaymentNextButtonClick', { amount: amount });\n    e.preventDefault();\n    dispatch({ type: SET_MODAL_VIEW, payload: 1 });\n  };\n\n  const validAmount = (value: string) => {\n    const r = /^[0-9]+$/;\n    return r.test(value);\n  };\n\n  const buttonAmounts = [\n    { value: '10', text: '$10' },\n    { value: '25', text: '$25' },\n    { value: '50', text: '$50' },\n    { value: '100', text: '$100' },\n  ];\n\n  const headerText =\n    props.purchaseType === 'donation'\n      ? t('purchase.donation')\n      : t('purchase.voucher');\n\n  return (\n    <ContentContainer id=\"donation-form\" data-testid=\"Modal Amount\">\n      <Header>\n        {headerText} {props.sellerName}\n      </Header>\n\n      {props.sellerId === 'send-chinatown-love' && (\n        <p>{t('donationPool.description2')}</p>\n      )}\n      <p>{t('paymentProcessing.amount.header')}</p>\n\n      <AmountContainer>\n        <label htmlFor=\"select-amount\">\n          {t('paymentProcessing.amount.label1')}\n        </label>\n        <br />\n        <SelectAmtContainer>\n          {buttonAmounts.map((amount) => (\n            <button\n              key={amount.text}\n              type=\"button\"\n              className={\n                selected === amount.text\n                  ? 'modalButton--selected'\n                  : 'modalButton--outlined'\n              }\n              onClick={(e) => {\n                handleAmount(amount.value, false, amount.text);\n              }}\n            >\n              {amount.text}\n            </button>\n          ))}\n        </SelectAmtContainer>\n        <label htmlFor=\"custom-amount\">\n          {t('paymentProcessing.amount.label2')}\n        </label>\n        <br />\n        <CustomAmountContainer>\n          <CustomAmountInput\n            name=\"custom-amount\"\n            type=\"number\"\n            onFocus={(e) => handleAmount('', true, '')}\n            className={'modalInput--input'}\n            onChange={(e) => {\n              handleAmount(e.target.value, true, '');\n            }}\n            onKeyDown={(evt) =>\n              (evt.key === 'e' ||\n                evt.key === '+' ||\n                evt.key === '-' ||\n                evt.key === '.') &&\n              evt.preventDefault()\n            }\n            value={isCustomAmount ? amount : ''}\n            min=\"5\"\n            max=\"10000\"\n          />\n        </CustomAmountContainer>\n        {Number(amount) < minAmount && isCustomAmount && (\n          <ErrorMessage>\n            {t('paymentProcessing.amount.minimum')}{' '}\n            {props.purchaseType === 'gift_card' ? 'voucher' : 'donation'}{' '}\n            {t('paymentProcessing.amount.amount')}: $5\n          </ErrorMessage>\n        )}\n        {Number(amount) > maxAmount && isCustomAmount && (\n          <ErrorMessage>\n            {t('paymentProcessing.amount.maximum')}{' '}\n            {props.purchaseType === 'gift_card' ? 'voucher' : 'donation'}{' '}\n            {t('paymentProcessing.amount.amount')}: $10000\n          </ErrorMessage>\n        )}\n      </AmountContainer>\n\n      <NextButton\n        type=\"button\"\n        className={'modalButton--filled'}\n        onClick={openModal}\n        disabled={\n          Number(amount) < minAmount ||\n          Number(amount) > maxAmount ||\n          !validAmount(amount)\n        }\n      >\n        {t('paymentProcessing.amount.submit')}\n      </NextButton>\n    </ContentContainer>\n  );\n};\n\nexport default Modal;\n\nconst ContentContainer = styled.form`\n  height: 360px;\n`;\n\nconst AmountContainer = styled.div`\n  background-color: #f7f7f7;\n  padding: 25px 35px;\n  margin-top: 30px;\n`;\n\nconst SelectAmtContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-evenly;\n  flex-wrap: wrap;\n  margin: 15px 0px;\n`;\n\nconst CustomAmountContainer = styled.div`\n  position: relative;\n  display: inline;\n\n  :before {\n    content: '$';\n    position: absolute;\n    top: 0;\n    left: 8px;\n    z-index: 1;\n  }\n`;\n\nconst CustomAmountInput = styled.input`\n  width: 250px;\n  border: 1px solid #121212;\n  margin-top: 8px;\n  padding-left: 2em;\n\n  :invalid {\n    border: 1px solid red;\n  }\n\n  @media (max-width: 450px) {\n    width: 100%;\n  }\n`;\n\nconst ErrorMessage = styled.div`\n  color: red;\n  font-size: 13px;\n`;\n\nconst NextButton = styled.button`\n  position: relative;\n  float: right;\n  right: 0px;\n  bottom: -25px;\n`;\n\nconst Header = styled.div`\n  font-family: 'Open Sans', sans-serif;\n  font-size: 30px;\n  font-weight: 600;\n`;\n","import React from 'react';\nimport styles from './styles.module.scss';\nimport { useTranslation } from 'react-i18next';\n\nimport gam_icon_step1 from '../MerchantsPage/images/gam_icon_step1.svg';\nimport gam_icon_step2 from '../MerchantsPage/images/gam_icon_step2.svg';\nimport gam_icon_step3 from '../MerchantsPage/images/gam_icon_step3.svg';\nimport gam_icon_step4 from '../MerchantsPage/images/gam_icon_step4.svg';\n\nconst CampaignInstructions = () => {\n  const { t } = useTranslation();\n  return (\n    <div className={styles.modalBackground}>\n      <div className={styles.modalInstructionsGrid}>\n        {[\n          [\n            `${t('gamHome.subheading.step1')}`,\n            `${t('gamHome.subheading.step1Text')}`,\n            gam_icon_step1,\n          ],\n          [\n            `${t('gamHome.subheading.step2')}`,\n            `${t('gamHome.subheading.step2Text')}`,\n            gam_icon_step2,\n          ],\n          [\n            `${t('gamHome.subheading.step3')}`,\n            `${t('gamHome.subheading.step3Text')}`,\n            gam_icon_step3,\n          ],\n          [\n            `${t('gamHome.subheading.step4')}`,\n            `${t('gamHome.subheading.step4Text')}`,\n            gam_icon_step4,\n          ],\n        ].map(([step, text, icon], idx) =>\n          generateStep(step, text, icon, idx)\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default CampaignInstructions;\n\nconst generateStep = (step, text, icon, idx) => {\n  return (\n    <div className={styles.modalStepGrid} key={idx}>\n      <img src={icon} alt=\"icon\" />\n      <div className={styles.modalStepText}>\n        <p className={styles.uppercase}>{step}</p>\n        <p className={styles.bold}>{text}</p>\n      </div>\n    </div>\n  );\n};","import React, { useEffect, useState } from 'react';\nimport classnames from 'classnames';\nimport styles from './styles.module.scss';\nimport { useModalPaymentDispatch } from '../../utilities/hooks/ModalPaymentContext/context';\nimport {\n  SET_MODAL_VIEW,\n  SET_AMOUNT,\n} from '../../utilities/hooks/ModalPaymentContext/constants';\nimport { useTranslation } from 'react-i18next';\nimport CampaignInstructions from './CamapignInstructions';\nimport ReactPixel from 'react-facebook-pixel';\n\nexport interface Props {\n  purchaseType: string;\n  sellerId: string;\n  sellerName: string;\n  costPerMeal: number;\n}\n\nexport const Modal = (props: Props) => {\n  const { t } = useTranslation();\n  const dispatch = useModalPaymentDispatch();\n\n  // set initial number of meals to 1\n  const [numberOfMeals, setNumberOfMeals] = useState(1);\n\n  const handleAmount = (value: string, customAmount: boolean, text: string) => {\n    const valueInt = parseInt(value, 10);\n    setNumberOfMeals(isNaN(valueInt) ? 0 : valueInt);\n    const totalMealPrice = valueInt * props.costPerMeal;\n    dispatch({ type: SET_AMOUNT, payload: String(totalMealPrice) });\n  };\n\n  const openModal = (e: any) => {\n    ReactPixel.trackCustom('GiftMealPaymentNextButtonClick', {\n      numberOfMeals: numberOfMeals,\n    });\n    e.preventDefault();\n    dispatch({ type: SET_MODAL_VIEW, payload: 1 });\n  };\n\n  const totalMealPrice = numberOfMeals * props.costPerMeal;\n  const totalAmount = { value: totalMealPrice, text: '$' + totalMealPrice };\n  const COST_LIMIT = 10000;\n\n  useEffect(() => {\n    dispatch({ type: SET_AMOUNT, payload: String(totalMealPrice) });\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <form data-testid=\"ModalBuyMeal\">\n      <div>\n          <h1>\n            {props.sellerId\n              ? t('buyMeal.header') + props.sellerName\n              : t('buyMealPool.header')\n            }\n          </h1>\n      </div>\n      <p className={styles.description}>\n          {t('buyMealPool.description.weAre')}\n          <a\n            href=\"https://www.apexforyouth.org/\"\n            target=\"_blank\" rel=\"noopener noreferrer\"\n            className={styles.link}\n          > APEX for Youth</a>,\n          <a\n            href=\"http://www.lajornadany.org/\"\n            target=\"_blank\" rel=\"noopener noreferrer\"\n            className={styles.link}\n          > La Jornada Food Pantry</a>,\n          <a\n            href=\"https://www.cpc-nyc.org/\"\n            target=\"_blank\" rel=\"noopener noreferrer\"\n            className={styles.link}\n          > the Chinese-American Planning Council </a>\n          {t('buyMealPool.description.andRestaurants')}\n          <span className={styles.bold}> {t('buyMealPool.description.allItTakes')} ${props.costPerMeal}</span>\n      </p>\n\n      <CampaignInstructions />\n\n      <div className={styles.amountContainer}>\n        <label htmlFor=\"select-amount\">{t('buyMeal.prompt')}</label>\n        <br />\n        <div className={styles.selectAmtContainer}>\n          <div className={styles.selectAmt}>\n            <input\n              name=\"custom-amount\"\n              type=\"number\"\n              onFocus={(e) => handleAmount('', true, '')}\n              className={classnames(styles.customAmt, 'modalInput--input')}\n              onChange={(e) => {\n                handleAmount(e.target.value, true, '');\n              }}\n              value={numberOfMeals === 0 ? '' : String(numberOfMeals)}\n              placeholder=\"# of meals\"\n              min=\"1\"\n            />\n            <span className={styles.separator}>✕</span>\n            <button\n              type=\"button\"\n              className={classnames(\n                styles.costPerMeal,\n                'modalButton--nonfunctional'\n              )}\n              disabled={true}\n            >\n              {'$' + props.costPerMeal}\n            </button>\n          </div>\n          <label className={styles.total}>\n            {t('buyMeal.totalLabel')} <b>{totalAmount.text}</b>\n          </label>\n        </div>\n        <br />\n      </div>\n\n      <button\n        type=\"button\"\n        className={classnames(styles.nextBtn, 'modalButton--filled')}\n        onClick={openModal}\n        disabled={\n          numberOfMeals < 1 || numberOfMeals > COST_LIMIT / props.costPerMeal\n        }\n      >\n        {t('paymentProcessing.amount.submit')}\n      </button>\n    </form>\n  );\n};\n\nexport default Modal;\n","import React from 'react';\nimport {\n  CreditCardNumberInput,\n  CreditCardExpirationDateInput,\n  CreditCardPostalCodeInput,\n  CreditCardCVVInput,\n} from 'react-square-payment-form';\nimport 'react-square-payment-form/lib/default.css';\nimport styled from 'styled-components';\n\ntype Props = {};\n\nconst SquareCardForm = (props: Props) => {\n  return (\n    <fieldset className=\"sq-fieldset\">\n      <CreditCardNumberInput />\n\n      <SquareCardRow>\n        <SquareCardItem>\n          <CreditCardExpirationDateInput />\n        </SquareCardItem>\n        <SquareCardItem>\n          <CreditCardCVVInput />\n        </SquareCardItem>\n        <SquareCardItem>\n          <CreditCardPostalCodeInput />\n        </SquareCardItem>\n      </SquareCardRow>\n    </fieldset>\n  );\n};\n\nexport default SquareCardForm;\n\nconst SquareCardRow = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  width: 100% !important;\n`;\n\nconst SquareCardItem = styled.div`\n  width: 30% !important;\n`;\n","import React, { useContext, useState } from 'react';\nimport { Context } from 'react-square-payment-form';\nimport ReactPixel from 'react-facebook-pixel';\n\ntype Props = {\n  canSubmit: boolean;\n};\n\nconst SubmissionButton = ({ canSubmit }: Props) => {\n  const context = useContext(Context);\n  var [submittable] = useState(false);\n\n  const handleSubmit = (evt: { preventDefault: () => void }) => {\n    ReactPixel.trackCustom('PaymentConfirmButtonClick', {});\n    evt.preventDefault();\n    context.onCreateNonce();\n  };\n\n  submittable = canSubmit;\n\n  return (\n    <button\n      type=\"button\"\n      className={'modalButton--filled'}\n      onClick={handleSubmit}\n      disabled={!submittable}\n    >\n      Confirm\n    </button>\n  );\n};\n\nexport default SubmissionButton;\n","const SquareErrors = {\n  ADDRESS_VERIFICATION_FAILURE:\n    'The card issuer declined the request because the postal code is invalid.',\n  ALLOWABLE_PIN_TRIES_EXCEEDED:\n    'The card has exhausted its available pin entry retries set by the card issuer.',\n  BAD_EXPIRATION:\n    'The card expiration date is either missing or incorrectly formatted.',\n  CARDHOLDER_INSUFFICIENT_PERMISSIONS:\n    'The card issuer has declined the transaction due to restrictions on where the card can be used.',\n  CARD_EXPIRED:\n    'The card issuer declined the request because the card is expired.',\n  CARD_PROCESSING_NOT_ENABLED:\n    'The location provided in the API call is not enabled for credit card processing.',\n  CARD_NOT_SUPPORTED: 'The card is not supported in the geographic region.',\n  CARD_TOKEN_EXPIRED: 'The provided card token (nonce) has expired.',\n  CARD_TOKEN_USED:\n    'The provided card token (nonce) was already used to process payment.',\n  CHIP_INSERTION_REQUIRED:\n    'The card issuer requires reading the card using a chip reader.',\n  CVV_FAILURE:\n    'The card issuer declined the request because the CVV value is invalid.',\n  EXPIRATION_FAILURE:\n    'The card expiration date is either invalid or indicates that the card is expired.',\n  GENERIC_DECLINE: 'An unexpected error occurred.',\n  GIFT_CARD_AVAILABLE_AMOUNT:\n    'Voucher does not have sufficient balance for requested amount and tip.',\n  INSUFFICIENT_FUNDS:\n    'This payment source has insufficient funds to cover the payment.',\n  INSUFFICIENT_PERMISSIONS:\n    'This Square account does not have the permissions to accept this payment.',\n  INVALID_ACCOUNT: 'The card issuer was not able to locate account on record.',\n  INVALID_CARD_DATA: 'Generic error - the provided card data is invalid.',\n  INVALID_EMAIL_ADDRESS: 'The provided email address is invalid.',\n  INVALID_EXPIRATION:\n    'The expiration date for the payment card is invalid. For example, it indicates a date in the past.',\n  INVALID_FEES: 'The app_fee_money on a payment is too high.',\n  INVALID_LOCATION:\n    'This Square account cannot take payments in the specified region',\n  INVALID_PIN:\n    'The card issuer declined the request because the PIN is invalid.',\n  INVALID_POSTAL_CODE: 'The postal code is incorrectly formatted.',\n  MANUALLY_ENTERED_PAYMENT_NOT_SUPPORTED:\n    'The card must be swiped, tapped, or dipped.',\n  PAN_FAILURE: 'The specified card number is invalid.',\n  PAYMENT_LIMIT_EXCEEDED:\n    'Square declined the request because the payment amount exceeded the processing limit for this merchant.',\n  TEMPORARY_ERROR: 'A temporary internal error occurred.',\n  TRANSACTION_LIMIT:\n    'The card issuer has determined the payment amount is either too high or too low.',\n  VOICE_FAILURE:\n    'The card issuer declined the request because the issuer requires voice authorization from the cardholder.',\n  CARD_DECLINED_VERIFICATION_REQUIRED:\n    'This payment requires verification. For more information, see SCA Overview.',\n};\n\nfunction hasKey<O>(obj: O, key: keyof any): key is keyof O {\n  return key in obj;\n}\nexport { SquareErrors, hasKey };\n","import React, { useState, useEffect } from 'react';\nimport { times } from 'lodash/fp';\nimport { Checkbox } from '@material-ui/core';\nimport { SquarePaymentForm } from 'react-square-payment-form';\nimport 'react-square-payment-form/lib/default.css';\nimport { useTranslation } from 'react-i18next';\nimport SquareCardForm from './SquareCardForm';\nimport SubmissionButton from './SubmissionButton';\nimport { SquareErrors, hasKey } from '../../consts';\nimport { makeSquarePayment, SquareLineItems, Buyer } from '../../utilities/api';\nimport {\n  useModalPaymentState,\n  useModalPaymentDispatch,\n} from '../../utilities/hooks/ModalPaymentContext/context';\nimport {\n  EMAIL_REGEX,\n  SET_MODAL_VIEW,\n} from '../../utilities/hooks/ModalPaymentContext/constants';\nimport styled from 'styled-components';\n\ntype Props = {\n  purchaseType: string;\n  sellerId: string;\n  sellerName: string;\n  idempotencyKey: string;\n  costPerMeal: number;\n  nonProfitLocationId?: string;\n  campaignId?: string;\n};\n\ntype ErrorMessage = {\n  code: string;\n  detail: string;\n};\n\nconst SquareModal = ({\n  purchaseType,\n  sellerId,\n  sellerName,\n  idempotencyKey,\n  costPerMeal,\n  nonProfitLocationId,\n  campaignId,\n}: Props) => {\n  const { t } = useTranslation();\n  const { amount } = useModalPaymentState();\n  const dispatch = useModalPaymentDispatch();\n\n  const [isTermsChecked, setTermsChecked] = useState(false);\n  const [isSubscriptionChecked, setSubscriptionChecked] = useState(true);\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [errorMessages, setErrorsMessages] = useState<string[]>([]);\n  const [canSubmit, setCanSubmit] = useState(false);\n\n  const checkTermsAgreement = () => setTermsChecked(!isTermsChecked);\n  const checkSubscriptionAgreement = () =>\n    setSubscriptionChecked(!isSubscriptionChecked);\n\n  const numberOfMeals = Number(amount) / costPerMeal;\n  const mealText = numberOfMeals > 1 ? 'meals' : 'meal';\n  const numberOfMealsText =\n    purchaseType === 'buy_meal' ? `(${numberOfMeals} ${mealText})` : '';\n\n  const cardNonceResponseReceived = (errors: any[], nonce: string) => {\n    setErrorsMessages([]);\n\n    if (errors && errors.length > 0 && errors[0]) {\n      setErrorsMessages(errors.map((error) => error.message));\n      return;\n    }\n\n    // 'buy_meal' is still represented as a gift card when calling the API\n    const payment: SquareLineItems =\n      purchaseType === 'buy_meal'\n        ? times(\n            () => ({\n              amount: Number(costPerMeal) * 100,\n              currency: 'usd',\n              item_type: 'gift_card',\n              quantity: 1,\n            }),\n            numberOfMeals\n          )\n        : [\n            {\n              amount: Number(amount) * 100,\n              currency: 'usd',\n              item_type: purchaseType,\n              quantity: 1,\n            },\n          ];\n\n    const is_distribution = purchaseType === 'buy_meal';\n    const buyer: Buyer = {\n      name,\n      email,\n      nonce,\n      idempotency_key: idempotencyKey,\n      is_subscribed: isSubscriptionChecked,\n    };\n\n    setCanSubmit(false);\n    return makeSquarePayment(nonce, sellerId, payment, buyer, is_distribution, campaignId)\n      .then((res) => {\n        if (res.status === 200) {\n          dispatch({ type: SET_MODAL_VIEW, payload: 2 });\n        }\n      })\n      .catch((err) => {\n        if (err.response) {\n          let responseErrors: ErrorMessage[] = [];\n          if (err.response.data.errors)\n            responseErrors = err.response.data.errors;\n          else if (err.response.data.message)\n            responseErrors = [\n              { code: 'GENERIC_DECLINE', detail: err.response.data.message },\n            ];\n\n          const newErrors =\n            responseErrors.length > 0\n              ? responseErrors.map((error: ErrorMessage) => {\n                  if (hasKey(SquareErrors, error.code)) {\n                    return SquareErrors[error.code];\n                  } else {\n                    return error.detail;\n                  }\n                })\n              : [];\n          setErrorsMessages(newErrors);\n        }\n      });\n  };\n\n  let applicationId, locationId;\n  if (\n    purchaseType === 'buy_meal' &&\n    nonProfitLocationId === process.env.REACT_APP_THINK_CHINATOWN_LOCATION_ID\n  ) {\n    applicationId = process.env.REACT_APP_THINK_CHINATOWN_APPLICATION_ID ?? '';\n    locationId = process.env.REACT_APP_THINK_CHINATOWN_LOCATION_ID ?? '';\n  } else {\n    applicationId = process.env.REACT_APP_SQUARE_APPLICATION_ID ?? '';\n    locationId = process.env.REACT_APP_SQUARE_LOCATION_ID ?? '';\n  }\n\n  const purchaseTypePhrase = (shouldLowerCase) => {\n    switch (purchaseType) {\n      case 'donation':\n        return shouldLowerCase ? 'donation' : 'Donation';\n      case 'gift_card':\n        return shouldLowerCase ? 'voucher purchase' : 'Voucher purchase';\n      case 'buy_meal':\n        return 'Gift a Meal purchase';\n      default:\n        return 'Donation';\n    }\n  };\n\n  useEffect(() => {\n    setCanSubmit(\n      isTermsChecked &&\n        name.length > 0 &&\n        email.length > 0 &&\n        EMAIL_REGEX.test(email)\n    );\n  }, [isTermsChecked, name, email]);\n\n  const setDisclaimerLanguage = (type: string) => {\n    if (sellerId === 'send-chinatown-love') type = 'donation-pool';\n\n    switch (type) {\n      case 'donation':\n        return t(`By proceeding with your transaction, you understand that you are\n          making a donation to ${sellerName}. No goods or services were\n          exchanged for this donation.`);\n      case 'donation-pool':\n        return t(`By proceeding with your transaction, you understand that\n          you are making a donation to all merchants partnered with Send Chinatown Love\n          Inc. The full donation pool will be split among these merchants. No goods or\n          services were exchanged for this donation.`);\n      case 'gift_card':\n        return t(`By proceeding with your purchase, you understand that the voucher card\n          is not redeemable for cash and can only be used at ${sellerName}. All\n          purchases are final. In the event that the merchant is no longer open\n          at the time of redemption, Send Chinatown Love Inc. will not be able\n          to refund your purchase. Balance displayed in the voucher may or may not\n          represent the final balance. Final balance information is subject to\n          ${sellerName}'s most recent records.`);\n      default:\n        break;\n    }\n  };\n\n  return (\n    <div>\n      <Header>Complete your {purchaseTypePhrase(true)}</Header>\n      <p>Please add your payment information below</p>\n\n      <PaymentContainer>\n        <Subheader>Payment Information</Subheader>\n        <RowFormat>\n          <LabelText htmlFor=\"name\">Full Name</LabelText>\n          <InputText\n            name=\"name\"\n            type=\"text\"\n            className=\"modalInput--input\"\n            onChange={(e) => setName(e.target.value)}\n            value={name}\n            placeholder=\"Name\"\n          />\n          <LabelText htmlFor=\"email\">Email</LabelText>\n          <InputText\n            name=\"email\"\n            type=\"email\"\n            className=\"modalInput--input\"\n            onChange={(e) => setEmail(e.target.value)}\n            value={email}\n            placeholder=\"Email\"\n            pattern={EMAIL_REGEX.source}\n            required\n          />\n        </RowFormat>\n        <SquareFormContainer>\n          <SquarePaymentForm\n            sandbox={\n              !process.env.NODE_ENV || process.env.NODE_ENV === 'development'\n            }\n            applicationId={applicationId}\n            locationId={locationId}\n            cardNonceResponseReceived={cardNonceResponseReceived}\n            formId=\"SPF\"\n            apiWrapper=\"\"\n          >\n            <SquareCardForm />\n            <div className=\"sq-error-message\">\n              {errorMessages.map((errorMessage) => (\n                <li key={`sq-error-${errorMessage}`}>{errorMessage}</li>\n              ))}\n            </div>\n            <br />\n            <Subheader>Checkout details</Subheader>\n            <span>\n              {' '}\n              {purchaseTypePhrase(false)} of{' '}\n              <b>\n                ${amount} {numberOfMealsText}\n              </b>{' '}\n              to {sellerName}{' '}\n            </span>\n            <p />\n            <CheckboxContainer>\n              <Checkbox\n                value=\"checkedA\"\n                inputProps={{ 'aria-label': 'Checkbox A' }}\n                onClick={checkTermsAgreement}\n                checked={isTermsChecked}\n              />\n              <span>\n                I agree with the <b>Terms & Conditions</b>\n              </span>\n            </CheckboxContainer>\n            <CheckboxContainer>\n              <Checkbox\n                value=\"checkedB\"\n                inputProps={{ 'aria-label': 'Checkbox B' }}\n                onClick={checkSubscriptionAgreement}\n                checked={isSubscriptionChecked}\n              />\n              <span>\n                I'd like to receive email updates from Send Chinatown Love, such\n                as when the merchant receives my donation/purchase or when a new\n                merchant is onboarded\n              </span>\n            </CheckboxContainer>\n            <Disclaimer>{setDisclaimerLanguage(purchaseType)}</Disclaimer>\n            <ButtonRow>\n              <BackButton\n                type=\"button\"\n                className={'modalButton--back'}\n                onClick={() => dispatch({ type: SET_MODAL_VIEW, payload: 0 })}\n              >\n                ᐸ Back\n              </BackButton>\n              <SubmissionButton canSubmit={canSubmit} />\n            </ButtonRow>\n          </SquarePaymentForm>\n        </SquareFormContainer>\n      </PaymentContainer>\n    </div>\n  );\n};\n\nexport default SquareModal;\n\nconst PaymentContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-top: 30px;\n\n  div {\n    width: 100%;\n  }\n`;\n\nconst RowFormat = styled.div`\n  margin: 0 auto;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n  font-size: 14px;\n  text-transform: uppercase;\n`;\n\nconst LabelText = styled.label`\n  color: #373f4a;\n`;\n\nconst InputText = styled.input`\n  font-size: 14px;\n  color: #373f4a;\n  border: 1px solid #dedede;\n  margin: 5px 0 15px;\n  padding: 27px 15px;\n  width: 100%;\n  border-radius: 5px;\n\n  ::placeholder {\n    color: #cdcdcd;\n  }\n\n  :invalid {\n    color: #fa755a;\n  }\n`;\n\nconst CheckboxContainer = styled.label`\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  align-items: center;\n  margin-bottom: 10px;\n\n  :hover {\n    text-decoration: underline;\n  }\n\n  > span {\n    padding: 9px 9px 9px 0px;\n  }\n`;\n\nconst ButtonRow = styled.div`\n  display: flex;\n  flex-direction: row;\n  position: relative;\n  justify-content: space-between;\n  margin-bottom: 25px;\n`;\n\nconst BackButton = styled.button`\n  width: 75px;\n  font-size: 13px;\n  background-color: white;\n`;\n\nconst SquareFormContainer = styled.div`\n  h3,\n  span,\n  p {\n    font-family: 'Open Sans', 'Helvetica Neue', sans-serif;\n    font-size: 15px;\n  }\n\n  h3 {\n    font-size: 24px;\n  }\n`;\n\nconst Header = styled.div`\n  font-family: 'Open Sans', sans-serif;\n  font-size: 32px;\n  font-weight: 600;\n`;\n\nconst Subheader = styled.div`\n  font-family: 'Open Sans', sans-serif;\n  font-size: 18px;\n  font-weight: 700;\n  margin-bottom: 18px;\n`;\n\nconst Disclaimer = styled.div`\n  font-family: 'Open Sans', sans-serif;\n  font-size: 12px;\n  font-weight: 300;\n  padding: 0px 0px 0px 0px;\n  margin: 30px 0px 30px 0px;\n  opacity: 0.7;\n`;\n","import * as React from 'react';\nimport confirmationPic from './chinatown-logo.png';\nimport styled from 'styled-components';\n\nexport type Props = {\n  purchaseType: string;\n  sellerId: string;\n  sellerName: string;\n  closeModal: Function;\n};\n\nconst ModalConfirmation = (props: Props) => {\n  const confirmationText = () => {\n    switch (props.purchaseType) {\n      case 'donation':\n        return `We appreciate your support. We'll let you know when ${props.sellerName} receives your donation!`;\n      case 'gift_card':\n        return `We appreciate your support. We'll email you your voucher when ${props.sellerName} opens back up!`;\n      case 'buy_meal':\n        return `We appreciate your support for ${props.sellerName} and for those in need! Please check your email for your receipt.`;\n      default:\n        return `Unexpected occurrence.`;\n    }\n  };\n\n  return (\n    <Container data-testid=\"Modal Confirmation\">\n      <h2>Thank you!</h2>\n      <p>{confirmationText()}</p>\n\n      <ThankYouImage src={confirmationPic} alt=\"Logo\" />\n\n      <FinishButton\n        className=\"modalButton--filled\"\n        onClick={(e) => props.closeModal(e)}\n      >\n        Finish\n      </FinishButton>\n    </Container>\n  );\n};\n\nexport default ModalConfirmation;\n\nconst Container = styled.div`\n  max-height: 80%;\n  margin-bottom: 25px;\n`;\n\nconst ThankYouImage = styled.img`\n  position: relative;\n  width: 100%;\n`;\n\nconst FinishButton = styled.button`\n  position: relative;\n  margin-top: 35px;\n  float: right;\n  right: 0px;\n`;\n","import React from 'react';\nimport { v4 as uuid } from 'uuid';\nimport ModalAmount from '../ModalAmount';\nimport ModalBuyMealNew from '../ModalBuyMealNew';\nimport { SquareModal } from '../ModalPayment';\nimport ModalConfirmation from '../ModalConfirmation';\nimport {\n  useModalPaymentState,\n  useModalPaymentDispatch,\n} from '../../utilities/hooks/ModalPaymentContext/context';\nimport {\n  CLOSE_MODAL,\n  UPDATE_SELLER_DATA,\n} from '../../utilities/hooks/ModalPaymentContext/constants';\nimport { getSeller } from '../../utilities';\nimport styled from 'styled-components';\nimport ReactPixel from 'react-facebook-pixel';\n\nexport interface Props {\n  purchaseType: string;\n  sellerId: string;\n  sellerName: string;\n  costPerMeal: number;\n  nonProfitLocationId?: string;\n  campaignId?: string;\n}\n\nexport interface ModalProps {\n  modalView: number;\n}\n\nexport const Modal = (props: Props) => {\n  const idempotencyKey = uuid();\n  const { modalView } = useModalPaymentState();\n  const dispatch = useModalPaymentDispatch();\n\n  const closeModal = async (e: any) => {\n    ReactPixel.trackCustom('ModalCloseButtonClick', {});\n    e.preventDefault();\n    if (modalView === 2) {\n      const { data } = props.sellerId && (await getSeller(props.sellerId));\n      dispatch({ type: UPDATE_SELLER_DATA, payload: data.amount_raised });\n    }\n    dispatch({ type: CLOSE_MODAL, payload: undefined });\n  };\n\n  return (\n    <ModalContainer modalView={modalView}>\n      <CloseButtonContainer>\n        <CloseButton onClick={closeModal}>×</CloseButton>\n      </CloseButtonContainer>\n      <ViewContainer>\n        {modalView === 0 && props.purchaseType !== 'buy_meal' && (\n          <ModalAmount {...props} />\n        )}\n        {modalView === 0 && props.purchaseType === 'buy_meal' && (\n          <ModalBuyMealNew {...props} />\n        )}\n        {modalView === 1 && (\n          <SquareModal {...props} idempotencyKey={idempotencyKey} />\n        )}\n        {modalView === 2 && (\n          <ModalConfirmation {...props} closeModal={closeModal} />\n        )}\n      </ViewContainer>\n    </ModalContainer>\n  );\n};\n\nexport default Modal;\n\nconst ModalContainer = styled.div`\n  display: ${(props: ModalProps) => (props.modalView > -1 ? 'flex' : 'none')};\n  flex-direction: column;\n  margin: 0 auto;\n\n  background-color: white;\n  position: fixed;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 5;\n  padding-bottom: 40px;\n\n  max-height: 85vh;\n  width: 725px;\n  box-shadow: 0 0 0 9999px rgba(0, 0, 0, 0.5);\n  height: 65%;\n\n  @media only screen and (max-width: 799px) {\n    width: 85%;\n  }\n\n  @media only screen and (max-width: 450px) {\n    width: 100%;\n    height: 100%;\n    max-height: 100%;\n  }\n`;\nconst ViewContainer = styled.div`\n  overflow-y: scroll;\n  margin: 0 auto;\n  height: 100%;\n  width: 100%;\n  padding: 0 50px;\n\n  @media only screen and (max-width: 450px) {\n    width: 100%;\n    height: 100%;\n    overflow-x: hidden;\n  }\n`;\nconst CloseButtonContainer = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  width: 100%;\n`;\nconst CloseButton = styled.button`\n  width: 40px;\n  font-weight: bold;\n  font-size: 30px;\n  border: none;\n  outline: none;\n  cursor: pointer;\n  background-color: transparent;\n`;\n","import React from 'react';\nimport styled from 'styled-components';\nimport ErrorImage from '../../images/404-error-image.png';\n\ninterface CompactProps {\n  menuOpen: boolean;\n}\n\nconst ErrorPage = (props: CompactProps) => {\n  return (\n    <Container>\n      <Text menuOpen={props.menuOpen}>\n        <Error src={ErrorImage} alt=\"error\" />\n        <MainHeader> Sorry Your Dumpling Was Not Found! </MainHeader>\n        <SubHeader>\n          {' '}\n          The page you are trying does not exist or has been moved.\n        </SubHeader>\n        <SubHeader>Please try going back to the homepage.</SubHeader>\n        <BackToHome>\n          <a href=\"https://sendchinatownlove.com/\">GO TO HOMEPAGE</a>\n        </BackToHome>\n      </Text>\n    </Container>\n  );\n};\n\nexport default ErrorPage;\n\nconst Container = styled.main`\n  font-family: futura;\n  background-color: #ffffff;\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n`;\n\nconst Error = styled.img`\n  width: 80%;\n  max-width: 480px;\n  margin: 0 auto;\n`;\n\nconst Text = styled.div`\n  margin: 0 auto;\n  width: 80%;\n  text-align: center;\n  display: ${(props: CompactProps) => (props.menuOpen ? 'none' : 'flex')};\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  flex: 1;\n`;\n\nconst MainHeader = styled.div`\n  font-weight: 600;\n`;\nconst SubHeader = styled.div`\n  font-weight: 400;\n  margin: 0.2rem auto;\n`;\nconst BackToHome = styled.div`\n  font-weight: 450;\n  font-size: 1rem;\n  a {\n    color: #a7182d;\n  }\n`;\n","module.exports = __webpack_public_path__ + \"static/media/chinatown-logo.f9e716ba.png\";","import * as React from 'react';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { withStyles, Theme } from '@material-ui/core/styles';\nimport styled from 'styled-components';\n\ninterface Props {\n  amountRaised: number;\n  targetAmount: number;\n  progressBarColor: string;\n  numContributions: number;\n  numDonations: number;\n  numGiftCards: number;\n  donationAmount: number;\n  giftCardAmount: number;\n}\n\nconst SupporterTooltip = withStyles((theme: Theme) => ({\n  tooltip: {\n    backgroundColor: '#ffffff',\n    color: 'rgba(0, 0, 0, 0.87)',\n    width: 180,\n    fontSize: theme.typography.pxToRem(14),\n    border: '1px solid #dadde9',\n  },\n}))(Tooltip);\n\nconst ProgressBar = ({\n  amountRaised,\n  targetAmount,\n  progressBarColor,\n  numContributions,\n  numDonations,\n  numGiftCards,\n  donationAmount,\n  giftCardAmount,\n}: Props) => {\n  const progressWidth = (raised: number, target: number) => {\n    if (raised < target) return (raised / target) * 100;\n    return 100;\n  };\n\n  return (\n    <ProgressBarContainer>\n      <SupporterTooltip\n            title={\n              <React.Fragment>\n                <ToolTipTable>\n                  <tbody>\n                    <tr>\n                      <td>\n                        <b>{numGiftCards}</b> vouchers\n                      </td>\n                      <td>\n                        <b>${Math.floor(giftCardAmount / 100).toLocaleString()}</b>\n                      </td>\n                    </tr>\n                    <tr>\n                      <td>\n                        <b>{numDonations}</b> donations\n                      </td>\n                      <td>\n                        <b>${Math.floor(donationAmount / 100).toLocaleString()}</b>\n                      </td>\n                    </tr>\n                  </tbody>\n                </ToolTipTable>\n              </React.Fragment>\n            }\n            enterTouchDelay={50}\n            placement=\"top\"\n          >\n      <TargetAmountBar className=\"progress-bar\">\n        <CurrentProgressBar\n          style={{\n            width: `${progressWidth(amountRaised, targetAmount)}%`,\n            backgroundColor: progressBarColor,\n            //defaults to default color if no color is passed in\n          }}\n        >\n          {' '}\n        </CurrentProgressBar>\n      </TargetAmountBar>\n      </SupporterTooltip>\n      <ContributionInfoContainer>\n        <div>\n          ${Math.floor(amountRaised / 100).toLocaleString()} of $\n          {Math.floor(targetAmount / 100).toLocaleString()}\n        </div>\n        <div>\n            <div>\n              <b>{numContributions}</b> supporters\n            </div>\n        </div>\n      </ContributionInfoContainer>\n    </ProgressBarContainer>\n  );\n};\n\nexport default ProgressBar;\n\nconst ProgressBarContainer = styled.div`\n  width: 100%;\n  padding: 15px 0;\n`;\n\nconst TargetAmountBar = styled.div`\n  background-color: #dedede;\n  height: 12px;\n  margin-bottom: 15px;\n`;\n\nconst CurrentProgressBar = styled.div`\n  background-color: #dd678a;\n  z-index: 5;\n  height: 12px;\n`;\n\nconst ContributionInfoContainer = styled.div`\n  display: flex;\n  justify-content: space-between;\n`;\n\nconst ToolTipTable = styled.table`\n  width: 100%;\n`;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__VZ3u7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__3Cpsn\",\"merchantIllustrationContainer\":\"styles_merchantIllustrationContainer__zMgd0\",\"merchantIllustration\":\"styles_merchantIllustration__-rjv5\",\"nationality\":\"styles_nationality__1LqAr\",\"address\":\"styles_address__TJ44x\",\"storeDetails\":\"styles_storeDetails__frA5Y\"};","module.exports = __webpack_public_path__ + \"static/media/misc-store.7e1a70b6.png\";","module.exports = __webpack_public_path__ + \"static/media/female.46412c79.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__3Rmvf\",\"ownerName\":\"styles_ownerName__3FfLm\",\"ownerImage\":\"styles_ownerImage__1zndC\",\"ownerContainer\":\"styles_ownerContainer__2jGJO\",\"buttonContainer\":\"styles_buttonContainer__2bchx\",\"button\":\"styles_button__1x3xR\",\"moreThanTwoButtons\":\"styles_moreThanTwoButtons__2KT7d\",\"summaryContainer\":\"styles_summaryContainer__2Z2qX\",\"storeSummaryLabel\":\"styles_storeSummaryLabel__3wuYH\",\"fa\":\"styles_fa__33jUi\",\"extraInfoKey\":\"styles_extraInfoKey__2vRcY\",\"extraInfoValue\":\"styles_extraInfoValue__gWShN\",\"extraInfoContainer\":\"styles_extraInfoContainer__3U7v_\"};","import * as React from 'react';\nimport styles from './styles.module.scss';\n\ntype Props = {\n  story: string;\n};\n\nconst StoreStory: React.SFC<Props> = ({ story }) => (\n  <section className={styles.container}>{story}</section>\n);\n\nexport default StoreStory;\n","import * as React from 'react';\nimport { BrowsePageSeller } from '../../utilities';\nimport styled from 'styled-components';\n\nexport interface Props {\n  seller: BrowsePageSeller;\n  expandImage: Function;\n}\n\nconst StoreMenu: React.SFC<Props> = ({ seller, expandImage }) => {\n  return (\n    <section>\n      {\n        <MenuImg\n          src={seller.menu_url}\n          alt=\"store-menu\"\n          onClick={() => expandImage(seller.menu_url)}\n        />\n      }\n    </section>\n  );\n};\n\nexport default StoreMenu;\n\nconst MenuImg = styled.img`\n  width: 100%;\n`;\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport { BrowsePageSeller } from '../../utilities';\n\nexport interface Props {\n  seller: BrowsePageSeller;\n  expandImage: Function;\n}\n\nconst StoreGallery: React.SFC<Props> = ({ seller, expandImage }) => {\n  const gallery = seller.gallery_image_urls;\n\n  return gallery.length > 0 ? (\n    <GalleryContainer>\n      {gallery.map((image, idx) => {\n        return (\n          <img\n            key={image}\n            src={image}\n            className={`item-${idx + 1}`}\n            alt=\"store-menu\"\n            onClick={() => expandImage(image)}\n          />\n        );\n      })}\n    </GalleryContainer>\n  ) : (\n    <React.Fragment>Stay tuned, photos coming soon!</React.Fragment>\n  );\n};\n\nexport default StoreGallery;\n\nconst GalleryContainer = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n  grid-gap: 15px;\n  max-width: 632px;\n\n  > img {\n    object-fit: cover;\n    width: 200px;\n    height: 200px;\n    cursor: pointer;\n\n    :hover {\n      opacity: 0.7;\n    }\n  }\n\n  .item-1 {\n    grid-column: span 2;\n    grid-row: span 2;\n    width: 415px;\n    height: 415px;\n  }\n\n  @media (max-width: 1290px) {\n    .item-1 {\n      grid-column: span 1;\n      grid-row: span 1;\n      width: 200px;\n      height: 200px;\n    }\n  }\n\n  @media (max-width: 1175px) {\n    max-width: 100%;\n\n    > img {\n      width: 100%;\n    }\n\n    .item-1 {\n      width: 100%;\n    }\n  }\n\n  @media (max-width: 450px) {\n    > img {\n      height: 250px;\n    }\n\n    .item-1 {\n      height: 250px;\n    }\n  }\n`;\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport { BrowsePageSeller } from '../../utilities';\n\nexport interface Props {\n  seller: BrowsePageSeller;\n}\n\n// TODO: Add translation to this page\n\nconst StoreMerch: React.SFC<Props> = ({ seller }) => {\n  return (\n    <MerchContainer>\n      <p>\n        Support {seller.name} by purchasing custom clothing and stickers\n        designed by our Send Chinatown Love designers.\n      </p>\n      <Button className=\"button--filled\">\n        check out the merch <i className=\"fa fa-external-link\"></i>\n      </Button>\n    </MerchContainer>\n  );\n};\n\nexport default StoreMerch;\n\nconst MerchContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  font-size: 16px;\n  text-align: center;\n  font-weight: bold;\n`;\n\nconst Button = styled.div`\n  text-align: center;\n  width: 500px;\n  letter-spacing: 0.15em;\n  cursor: pointer;\n\n  @media (max-width: 550px) {\n    width: 100%;\n  }\n`;\n","import * as React from 'react';\nimport { useRef, useState } from 'react';\nimport ClipboardIcon from 'react-clipboard-icon';\nimport CopyToClipboard from 'react-copy-to-clipboard';\nimport { SocialIcon } from 'react-social-icons';\nimport {\n  EmailShareButton,\n  FacebookShareButton,\n  TwitterShareButton,\n} from 'react-share';\nimport { BrowsePageSeller } from '../../utilities';\nimport styled from 'styled-components';\nimport Overlay from 'react-bootstrap/Overlay';\nimport Tooltip from 'react-bootstrap/Tooltip';\n\nexport interface Props {\n  seller: BrowsePageSeller;\n}\n\nconst StoreSocial: React.SFC<Props> = ({ seller }) => {\n  const [show, setShow] = useState(false);\n  const target = useRef(null);\n\n  const location = window.location.href;\n  const facebookQuote = 'Help raise money for ' + seller.name;\n  const socialIconForegroundColor = '#a9182e';\n  const socialIconBackgroundColor = 'white';\n  const socialIconDimensions = { height: 50, width: 50 };\n\n  const clipboardStyle = {\n    fill: '#a9182e',\n    backgroundColor: 'white',\n    display: 'inline-block',\n    verticalAlign: 'middle',\n    margin: '6px 8px 10px 14px',\n  };\n\n  return (\n    <React.Fragment>\n      <HeaderText>Share this merchant</HeaderText>\n\n      <SocialContainer>\n        <FacebookShareButton\n          url={location}\n          quote={facebookQuote}\n          className=\"share\"\n        >\n          <SocialIcon\n            network=\"facebook\"\n            fgColor={socialIconForegroundColor}\n            bgColor={socialIconBackgroundColor}\n            style={socialIconDimensions}\n          />\n          <SocialTextLabel>FACEBOOK</SocialTextLabel>\n        </FacebookShareButton>\n      </SocialContainer>\n\n      <SocialContainer>\n        <TwitterShareButton url={location} className=\"share\">\n          <SocialIcon\n            network=\"twitter\"\n            fgColor={socialIconForegroundColor}\n            bgColor={socialIconBackgroundColor}\n            style={socialIconDimensions}\n          />\n          <SocialTextLabel>TWITTER</SocialTextLabel>\n        </TwitterShareButton>\n      </SocialContainer>\n\n      <SocialContainer>\n        <EmailShareButton url={location} className=\"share\">\n          <SocialIcon\n            network=\"email\"\n            fgColor={socialIconForegroundColor}\n            bgColor={socialIconBackgroundColor}\n            style={socialIconDimensions}\n          />\n          <SocialTextLabel>EMAIL</SocialTextLabel>\n        </EmailShareButton>\n      </SocialContainer>\n\n      <SocialContainer>\n        <ClipboardContainer ref={target}>\n          <CopyToClipboard text={location} onCopy={() => setShow(!show)}>\n            <ClipboardIcon size={28} style={clipboardStyle} />\n          </CopyToClipboard>\n          <CopyToClipboard text={location} onCopy={() => setShow(!show)}>\n            <SocialTextLabel>COPY TO CLIPBOARD</SocialTextLabel>\n          </CopyToClipboard>\n          <Overlay target={target.current} show={show} placement=\"bottom\">\n            {(props) => (\n              <Tooltip\n                id=\"copied-tooltip\"\n                {...props}\n                style={{\n                  backgroundColor: socialIconForegroundColor,\n                  color: socialIconBackgroundColor,\n                  padding: '5px 15px 5px 15px',\n                  borderRadius: 3,\n                  ...props.style,\n                }}\n              >\n                COPIED!\n              </Tooltip>\n            )}\n          </Overlay>\n        </ClipboardContainer>\n      </SocialContainer>\n    </React.Fragment>\n  );\n};\n\nconst HeaderText = styled.div`\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 16px;\n  line-height: 22px;\n  color: #1e1e1e;\n  margin: -10px 0px 30px 10px;\n`;\n\nconst SocialTextLabel = styled.label`\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: bold;\n  font-size: 16px;\n  line-height: 22px;\n  align-items: center;\n  letter-spacing: 0.15em;\n  text-transform: uppercase;\n  color: #000000;\n  padding-left: 10px;\n  cursor: pointer;\n`;\n\nconst SocialContainer = styled.div`\n  margin: 5px 0px 5px 0px;\n`;\n\nconst ClipboardContainer = styled.div`\n  display: inline-block;\n  cursor: pointer;\n`;\n\nexport default StoreSocial;\n","import * as React from 'react';\nimport { useState } from 'react';\nimport classnames from 'classnames';\nimport styled from 'styled-components';\nimport { Location, BrowsePageSeller } from '../../utilities';\nimport StoreStory from '../StoreStory';\nimport StoreMenu from './StoreMenuTab';\nimport StoreGallery from './StoreGalleryTab';\nimport StoreMerch from './StoreMerchTab';\nimport StoreSocial from './StoreSocialTab';\nimport styles from './styles.module.scss';\nimport defaultStoreFront from './misc-store.png';\n\ntype Props = {\n  seller: BrowsePageSeller;\n};\n\nexport const StoreInfo: React.SFC<Props> = ({ seller }) => {\n  const { summary, story, cuisine_name, locations } = seller;\n\n  // modal functionality for menu and gallery tabs\n  const [viewImage, setViewImage] = useState('');\n  const [showModal, setShowModal] = useState(false);\n\n  const expandImage = (url: string) => {\n    setViewImage(url);\n    setShowModal(true);\n  };\n\n  // logic for nav bar & tab switching\n  const storeNavItems = [\n    story && 'story',\n    seller.menu_url && 'menu',\n    seller.gallery_image_urls.length > 0 && 'gallery',\n    'share',\n  ];\n\n  const [currentMerchantView, setMerchantView] = useState('story');\n\n  const switchMerchantView = () => {\n    switch (currentMerchantView) {\n      case 'gallery':\n        return <StoreGallery seller={seller} expandImage={expandImage} />;\n      case 'menu':\n        return <StoreMenu seller={seller} expandImage={expandImage} />;\n      case 'merch':\n        return <StoreMerch seller={seller} />;\n      case 'share':\n        return <StoreSocial seller={seller} />;\n      default:\n        return <StoreStory story={story} />;\n    }\n  };\n\n  return (\n    <section className={classnames(styles.container)} data-testid=\"Store Info\">\n      {\n        <img\n          src={\n            seller.hero_image_url ? seller.hero_image_url : defaultStoreFront\n          }\n          alt={`${seller.name} Illustration`}\n          className={styles.merchantIllustration}\n        />\n      }\n\n      <div className={styles.nationality}>{cuisine_name}</div>\n      <div>\n        {locations &&\n          locations.map((location: Location) => (\n            <React.Fragment key={location.seller_id}>\n              <div className={styles.address}>{location.address1}</div>\n              <div className={styles.address}>{location.address2}</div>\n              <div className={styles.address}>\n                {location.city}, {location.state} {location.zip_code}\n              </div>\n              <div className={styles.address}>{location.phone_number}</div>\n            </React.Fragment>\n          ))}\n      </div>\n      <p>{summary}</p>\n      <StoreNavContainer>\n        {storeNavItems.map(\n          (value) =>\n            value && (\n              <NavButton\n                key={`${value}-nav-link`}\n                className={value === currentMerchantView ? 'active' : ''}\n                onClick={() => setMerchantView(value)}\n              >\n                {value}\n              </NavButton>\n            )\n        )}\n      </StoreNavContainer>\n      {switchMerchantView()}\n\n      <ImageModal style={{ display: showModal ? 'block' : 'none' }}>\n        <CloseButton onClick={() => setShowModal(false)}>×</CloseButton>\n        <img src={viewImage} alt=\"modal view\" />\n      </ImageModal>\n    </section>\n  );\n};\n\nconst StoreNavContainer = styled.div`\n  position: relative;\n  overflow-y: scroll;\n  white-space: nowrap;\n  -ms-overflow-style: none;\n\n  padding-bottom: 27px;\n  margin-bottom: 40px;\n  border-bottom: 1px solid #dedede;\n  width: 100%;\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n`;\n\nconst NavButton = styled.button`\n  display: inline;\n  text-decoration: none;\n  text-transform: uppercase;\n  font-size: 18px;\n  letter-spacing: 0.1em;\n  margin: 12px 15px 0;\n  color: black;\n  background-color: white;\n  border: none;\n  outline: none;\n  cursor: pointer;\n\n  &:first-child {\n    margin-left: 0;\n  }\n\n  &.active {\n    color: #dd678a;\n    font-weight: 900;\n  }\n`;\n\nconst ImageModal = styled.div`\n  box-shadow: 0 0 0 9999px rgba(0, 0, 0, 0.7);\n  position: fixed;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 1;\n\n  img {\n    width: 48vw;\n    max-height: 90vh;\n    object-fit: cover;\n  }\n\n  @media (max-width: 650px) {\n    img {\n      width: 95vw;\n    }\n  }\n`;\n\nconst CloseButton = styled.button`\n  position: fixed;\n  right: 0;\n  top: 0;\n  height: 47px;\n  width: 47px;\n  border-radius: 5px;\n\n  cursor: pointer;\n  font-weight: bold;\n  font-size: 30px;\n  border: none;\n  outline: none;\n  z-index: 2;\n`;\n","import React, { useEffect, useState } from 'react';\nimport classnames from 'classnames';\nimport { useModalPaymentDispatch } from '../../utilities/hooks/ModalPaymentContext/context';\nimport { SET_MODAL_VIEW } from '../../utilities/hooks/ModalPaymentContext/constants';\nimport { BrowsePageSeller } from '../../utilities/api/types';\nimport { getCampaignsForMerchant } from '../../utilities';\nimport Modal from '../Modal';\nimport ProgressBar from '../ProgressBar';\nimport defaultOwnerImage from './assets/female.svg';\nimport styled from 'styled-components';\nimport styles from './styles.module.scss';\nimport { useTranslation } from 'react-i18next';\nimport ReactPixel from 'react-facebook-pixel';\n\ninterface Props {\n  seller: BrowsePageSeller;\n}\n\ninterface State {\n  show: boolean;\n  purchaseType: string;\n}\n\nconst ModalBox: any = Modal;\n\nconst OwnerPanel = ({ seller }: Props) => {\n  const { t } = useTranslation();\n\n  const dispatch = useModalPaymentDispatch();\n  const [purchaseType, setPurchaseType] = useState('');\n  const [activeCampaign, setActiveCampaign] = useState<any | null>();\n\n  const fetchData = async () => {\n    const campaigns = await getCampaignsForMerchant(seller.seller_id);\n    if (campaigns.data) {\n      const active = campaigns.data.find(\n        (campaign: any) => campaign.active\n      );\n      // product does not support >1 active campaign per merchant\n      setActiveCampaign(active);\n    }\n  };\n\n  useEffect(() => {\n    fetchData();\n    // eslint-disable-next-line\n  }, []);\n\n  const showModal = (event: any) => {\n    dispatch({ type: SET_MODAL_VIEW, payload: 0 });\n    setPurchaseType(event.target.value);\n  };\n\n  const donationClickHandler = (event: any) => {\n    ReactPixel.trackCustom('DonationButtonClick', {});\n    showModal(event);\n  };\n\n  const voucherClickHandler = (event: any) => {\n    ReactPixel.trackCustom('VoucherButtonClick', {});\n    showModal(event);\n  };\n\n  const giftMealClickHandler = (event: any) => {\n    ReactPixel.trackCustom('GiftMealButtonClick', {});\n    showModal(event);\n  };\n\n  const extraInfo = {\n    Type: seller.business_type,\n    Employees: seller.num_employees,\n    Founded: seller.founded_year,\n    Website: seller.website_url,\n    Menu: seller.menu_url,\n  };\n\n  const validExtraInfo = Object.keys(extraInfo).filter((current) => {\n    return extraInfo[current] != null;\n  });\n\n  return (\n    <Container>\n      <figure className={styles.ownerContainer}>\n        <img\n          className={styles.ownerImage}\n          src={\n            seller?.owner_image_url ??\n            seller?.logo_image_url ??\n            defaultOwnerImage\n          }\n          alt={seller.owner_name}\n        />\n      </figure>\n\n      <h2 className={styles.ownerName}>{seller.owner_name}</h2>\n      {seller.target_amount && (\n        <ProgressBar\n          amountRaised={seller.amount_raised}\n          targetAmount={seller.target_amount}\n          progressBarColor={seller.progress_bar_color}\n          numContributions={seller.num_contributions}\n          numDonations={seller.num_donations}\n          numGiftCards={seller.num_gift_cards}\n          donationAmount={seller.donation_amount}\n          giftCardAmount={seller.gift_card_amount}\n        />\n      )}\n\n      <div className={styles.buttonContainer}>\n        {seller.accept_donations && (\n          <button\n            value=\"donation\"\n            className={classnames(\n              styles.button,\n              seller.cost_per_meal && styles.moreThanTwoButtons,\n              'button--filled'\n            )}\n            onClick={donationClickHandler}\n          >\n            {t('ownerPanel.donation')}\n          </button>\n        )}\n        {seller.sell_gift_cards && (\n          <button\n            value=\"gift_card\"\n            className={classnames(styles.button, 'button--outlined')}\n            onClick={voucherClickHandler}\n          >\n            {t('ownerPanel.voucher')}\n          </button>\n        )}\n        {activeCampaign && (\n          <button\n            value=\"buy_meal\"\n            className={classnames(\n              styles.button,\n              !seller.sell_gift_cards && styles.moreThanTwoButtons,\n              'button--outlined'\n            )}\n            onClick={giftMealClickHandler}\n          >\n            {t('ownerPanel.giftmeal')}\n          </button>\n        )}\n      </div>\n      {validExtraInfo !== [] ? (\n        <div className={styles.extraInfoContainer}>\n          {validExtraInfo.map((current) => {\n            if (current === 'Website' || current === 'Menu') {\n              return (\n                <React.Fragment key={current}>\n                  <p key={current} className={styles.extraInfoKey}>\n                    {`${t('ownerPanel.extraInfo.' + current)}: `}\n                    <a\n                      className={styles.extraInfoValue}\n                      href={`${extraInfo[current]}`}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                    >\n                      {current}\n                    </a>\n                  </p>\n                </React.Fragment>\n              );\n            } else {\n              return (\n                <React.Fragment key={current}>\n                  <p key={current} className={styles.extraInfoKey}>\n                    {`${t('ownerPanel.extraInfo.' + current)}: `}\n                    <span className={styles.extraInfoValue}>\n                      {extraInfo[current]}\n                    </span>\n                  </p>\n                </React.Fragment>\n              );\n            }\n          })}\n        </div>\n      ) : (\n        ''\n      )}\n\n      {activeCampaign && (\n        <ModalBox\n          purchaseType={purchaseType}\n          sellerId={seller.seller_id}\n          sellerName={seller.name}\n          costPerMeal={activeCampaign.price_per_meal / 100}\n          nonProfitLocationId={seller.non_profit_location_id}\n          campaignId={activeCampaign.id}\n        />\n      )}\n\n      <div className={styles.mapsContainer}>\n        {/* need to put in google API */}\n        {/* might need to use a react lib since it uses script tags */}\n        {/* https://www.npmjs.com/package/google-map-react */}\n      </div>\n    </Container>\n  );\n};\n\nexport default OwnerPanel;\n\nconst Container = styled.section`\n  display: flex;\n  width: 100%;\n  box-shadow: 0px 0px 7px rgba(0, 0, 0, 0.2);\n  flex-direction: column;\n  align-items: center;\n  padding: 18px 32px;\n\n  order: 1;\n  grid-row: 1;\n  @media (min-width: 900px) {\n    position: sticky;\n    top: 20px;\n    order: 2;\n    grid-column: 2;\n  }\n  @media (max-width: 599px) {\n    font-size: 14px;\n    padding: 24px;\n  }\n`;\n","import * as React from 'react';\nimport { useEffect, useState } from 'react';\nimport { StoreInfo } from '../StoreInfo';\nimport OwnerPanel from '../OwnerPanel';\nimport ErrorPage from '../404Page';\nimport {\n  useModalPaymentState,\n  useModalPaymentDispatch,\n} from '../../utilities/hooks/ModalPaymentContext/context';\nimport { SET_SELLER_DATA } from '../../utilities/hooks/ModalPaymentContext/constants';\nimport { getSeller } from '../../utilities';\nimport { useParams } from 'react-router-dom';\nimport Loader from '../Loader';\nimport styled from 'styled-components';\nimport { useTranslation } from 'react-i18next';\nimport ReactPixel from 'react-facebook-pixel';\n\ninterface Props {\n  menuOpen: boolean;\n}\n\nReactPixel.trackCustom('SellerPageView', {});\nconst SellerPage = (props: Props) => {\n  const { i18n } = useTranslation();\n\n  // fix typing\n  const [loading, setLoading] = useState<boolean>(false);\n  const { id } = useParams();\n\n  const dispatch = useModalPaymentDispatch();\n  const { sellerData } = useModalPaymentState();\n\n  const fetchData = async (lang?) => {\n    setLoading(true);\n    const result = id && (await getSeller(id, lang));\n    await dispatch({\n      type: SET_SELLER_DATA,\n      payload: result.data,\n    });\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    fetchData(i18n.language);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [i18n.language]);\n  return sellerData && !loading ? (\n    <Container menuOpen={props.menuOpen}>\n      <SellerName>{sellerData.name}</SellerName>\n      <ContentContainer>\n        {/* TODO(ArtyEmsee): Fix object mapping */}\n        <StoreInfo seller={sellerData} />\n        <OwnerPanel seller={sellerData} />\n      </ContentContainer>\n    </Container>\n  ) : (\n    <>\n      {loading ? (\n        <Loader isPage={true} />\n      ) : (\n        <ErrorPage menuOpen={props.menuOpen} />\n      )}\n    </>\n  );\n};\n\nexport default SellerPage;\n\nconst Container = styled.div`\n  background: white;\n  min-height: 1500px;\n  max-width: 1440px;\n  margin: 0 auto;\n  width: 90%;\n  ${(props: Props) => props.menuOpen && 'display: none;'}\n`;\n\nconst SellerName = styled.div`\n  font-weight: 600;\n  font-size: 32px;\n  max-width: 1200px;\n  margin: 12px auto;\n  margin-top: 24px;\n  width: 100%;\n  @media (min-width: 900px) {\n    width: 100%;\n    margin-top: 32px;\n  }\n`;\n\nconst ContentContainer = styled.div`\n  align-items: start;\n  display: flex;\n  flex-direction: column-reverse;\n  margin: 0 auto;\n  max-width: 1200px;\n  min-height: 1200px;\n  @media (min-width: 900px) {\n    grid-template-columns: 1fr 464px;\n    display: grid;\n    grid-column-gap: 69px;\n  }\n  @media (max-width: 599px) {\n    font-size: 14px;\n    margin: 32px 0px;\n    margin-top: 0;\n  }\n`;\n"],"sourceRoot":""}
{"version":3,"sources":["components/MerchantsPage/gam/styles.module.scss","components/MerchantsPage/images/illustrated_flatlay_hero.png","components/MerchantsPage/images/campaign_default.png","components/MerchantsPage/gam/CampaignInstructions.tsx","components/MerchantsPage/gam/NoCampaignsBox.tsx","components/MerchantsPage/gam/CampaignProgressBar.tsx","components/MerchantsPage/gam/CampaignListItem.tsx","components/MerchantsPage/gam/VideoComponent.tsx","components/MerchantsPage/gam/GiftAMealPage.tsx"],"names":["module","exports","CampaignInstructions","t","useTranslation","className","styles","background","instructionsGrid","gam_icon_step1","gam_icon_step2","gam_icon_step3","gam_icon_step4","map","idx","step","text","icon","generateStep","stepGrid","key","src","alt","stepText","uppercase","bold","NoActiveCampaignsBox","NoCampaignBox","TextContainer","Heading","SubHeading","Button","onClick","e","preventDefault","window","open","styled","div","tabletScreens","p","smallScreens","button","CampaignProgressBar","raised","target","isActive","numContributions","targetAmount","progressBarColor","lastContributionTime","endDate","progressPercent","Math","floor","timeUntilEnd","getTime","Date","now","daysUntilEnd","timeSinceLastContribution","ProgressBarContainer","TimeStamp","minutesSinceLastConstribution","hoursSinceLastContribution","daysSinceLastContribution","lastContributionTimeAsPresentable","TargetAmountBar","CurrentProgressBar","style","width","backgroundColor","ProgressTextContainer","color","ceil","span","props","ModalBox","Modal","CampaignListItem","useState","distributor","setDistributor","merchant","setMerchant","campaign","fetchData","a","getDistributor","distributor_id","distributorData","getSeller","seller_id","merchantData","data","useEffect","mealsRaised","amount_raised","price_per_meal","targetMeals","target_amount","campaignImageUrls","gallery_image_urls","dispatch","useModalPaymentDispatch","Container","ColumnContainer","length","CampaignImage","campaignDefaultImage","locations","Location","city","Name","name","Description","description","href","website_url","active","last_contribution","end_date","ImagesContainer","DistributorImage","image_url","MerchantImage","logo_image_url","location","event","setSelectedCampaign","id","type","SET_MODAL_VIEW","payload","selectedCampaign","purchaseType","sellerId","sellerName","costPerMeal","nonProfitLocationId","non_profit_location_id","campaignId","img","VideoComponent","videoId","size","height","windowSize","setWindowSize","handleResize","innerWidth","innerHeight","addEventListener","removeEventListener","useWindowSize","min","opts","toString","playerVars","autoplay","GiftAMealPage","activeCampaigns","setActiveCampaigns","pastCampaigns","setPastCampaigns","getCampaigns","campaignData","filter","valid","past","container","display","menuOpen","header","illustrated_flatlay_hero","hero","headerText","fontWeight","backButton","campaignHeader","videoContainer","videoDescription"],"mappings":"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","file":"static/js/14.26c6fbac.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"button--filled\":\"styles_button--filled__1Q_a1\",\"button--red-filled\":\"styles_button--red-filled__30C9L\",\"button--outlined\":\"styles_button--outlined__T1S4e\",\"button--redfilled\":\"styles_button--redfilled__1aPRb\",\"modalButton--back\":\"styles_modalButton--back__SqQbc\",\"modalButton--outlined\":\"styles_modalButton--outlined__2rGur\",\"modalButton--filled\":\"styles_modalButton--filled__1u791\",\"modalButton--nonfunctional\":\"styles_modalButton--nonfunctional__3b7y_\",\"modalButton--selected\":\"styles_modalButton--selected__120By\",\"modalButton--outline\":\"styles_modalButton--outline__1nxQS\",\"closeButton--close\":\"styles_closeButton--close__2-Gq4\",\"modalForm--form\":\"styles_modalForm--form__1r_3v\",\"modalInput--input\":\"styles_modalInput--input__1yGue\",\"filterable-table-container\":\"styles_filterable-table-container__3yuTM\",\"header-row\":\"styles_header-row__13pcb\",\"filter-container\":\"styles_filter-container__3R7V3\",\"filter-input\":\"styles_filter-input__2pKZl\",\"clear-filter\":\"styles_clear-filter__2DOt6\",\"record-count\":\"styles_record-count__3tJgl\",\"fa\":\"styles_fa__1dVUs\",\"active\":\"styles_active__ZQhyR\",\"disabled\":\"styles_disabled__yy9aR\",\"bold\":\"styles_bold__2INhr\",\"uppercase\":\"styles_uppercase__HZ5Zd\",\"container\":\"styles_container__3QdrG\",\"header\":\"styles_header__2e_gf\",\"headerText\":\"styles_headerText__2GMED\",\"hero\":\"styles_hero__30ZVS\",\"backButton\":\"styles_backButton__1XAdF\",\"campaignHeader\":\"styles_campaignHeader__trEYV\",\"videoContainer\":\"styles_videoContainer__2lfjR\",\"videoDescription\":\"styles_videoDescription__4o5jP\",\"background\":\"styles_background__2nP1I\",\"instructionsGrid\":\"styles_instructionsGrid__13657\",\"stepGrid\":\"styles_stepGrid__3ygF3\",\"stepText\":\"styles_stepText__sSzBp\"};","module.exports = __webpack_public_path__ + \"static/media/illustrated_flatlay_hero.050015e1.png\";","module.exports = __webpack_public_path__ + \"static/media/campaign_default.9ad02a20.png\";","import React from 'react';\nimport styles from './styles.module.scss';\nimport { useTranslation } from 'react-i18next';\n\nimport gam_icon_step1 from '../images/gam_icon_step1.svg';\nimport gam_icon_step2 from '../images/gam_icon_step2.svg';\nimport gam_icon_step3 from '../images/gam_icon_step3.svg';\nimport gam_icon_step4 from '../images/gam_icon_step4.svg';\n\nconst CampaignInstructions = () => {\n  const { t } = useTranslation();\n  return (\n    <div className={styles.background}>\n      <div className={styles.instructionsGrid}>\n        {[\n          [\n            `${t('gamHome.subheading.step1')}`,\n            `${t('gamHome.subheading.step1Text')}`,\n            gam_icon_step1,\n          ],\n          [\n            `${t('gamHome.subheading.step2')}`,\n            `${t('gamHome.subheading.step2Text')}`,\n            gam_icon_step2,\n          ],\n          [\n            `${t('gamHome.subheading.step3')}`,\n            `${t('gamHome.subheading.step3Text')}`,\n            gam_icon_step3,\n          ],\n          [\n            `${t('gamHome.subheading.step4')}`,\n            `${t('gamHome.subheading.step4Text')}`,\n            gam_icon_step4,\n          ],\n        ].map(([step, text, icon], idx) => generateStep(step, text, icon, idx))}\n      </div>\n    </div>\n  );\n};\n\nexport default CampaignInstructions;\n\nconst generateStep = (step, text, icon, idx) => {\n  return (\n    <div className={styles.stepGrid} key={idx}>\n      <img src={icon} alt=\"icon\" />\n      <div className={styles.stepText}>\n        <p className={styles.uppercase}>{step}</p>\n        <p className={styles.bold}>{text}</p>\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\nimport {\n  smallScreens,\n  tabletScreens,\n} from '../../../utilities/general/responsive';\nimport styled from 'styled-components';\nimport { useTranslation } from 'react-i18next';\n\nconst NoActiveCampaignsBox = () => {\n  const { t } = useTranslation();\n\n  return (\n    <NoCampaignBox>\n      <TextContainer>\n        <Heading>{t('gamHome.noCampaignsBox.CTA')}</Heading>\n        <SubHeading>{t('gamHome.noCampaignsBox.description')}</SubHeading>\n      </TextContainer>\n      <Button\n        className=\"button--filled\"\n        onClick={(e) => {\n          e.preventDefault();\n          window.open('https://www.gofundme.com/f/gift-a-meal', '_blank');\n        }}\n      >\n        {t('gamHome.giftButton')}\n      </Button>\n    </NoCampaignBox>\n  );\n};\n\nexport default NoActiveCampaignsBox;\n\nconst NoCampaignBox = styled.div`\n  align-items: center;\n  border: 1px solid #e5e5e5;\n  display: grid;\n  grid-template-columns: 2fr 1fr;\n  padding: 30px;\n  margin-bottom: 25px;\n\n  @media (${tabletScreens}) {\n    grid-template-columns: 1fr;\n    margin-bottom: 15px;\n  }\n`;\n\nconst TextContainer = styled.div`\n  @media (${tabletScreens}) {\n    margin-bottom: 20px;\n  }\n`;\n\nconst Heading = styled.p`\n  font-style: normal;\n  font-weight: 600;\n  font-size: 24px;\n\n  @media (${smallScreens}) {\n    font-size: 14px;\n  }\n`;\n\nconst SubHeading = styled.p`\n  font-size: 15px;\n\n  @media (${smallScreens}) {\n    font-size: 12px;\n  }\n`;\n\nconst Button = styled.button`\n  text-align: center;\n  letter-spacing: 0.15em;\n  cursor: pointer;\n  margin-bottom: 18px;\n  font-family: 'Open Sans', 'Helvetica Neue', sans-serif;\n  font-weight: 700;\n  font-size: 16px;\n  letter-spacing: 0.05em;\n\n  @media (${smallScreens}) {\n    font-size: 14px;\n    padding-right: 0;\n  }\n`;\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport { useTranslation } from 'react-i18next';\n\ninterface Props {\n  isActive: boolean;\n  numContributions: number;\n  targetAmount: number;\n  progressBarColor: string;\n  lastContributionTime: Date;\n  endDate: Date;\n}\n\nconst CampaignProgressBar = ({\n  isActive,\n  numContributions,\n  targetAmount,\n  progressBarColor,\n  lastContributionTime,\n  endDate,\n}: Props) => {\n  const { t } = useTranslation();\n\n  // \"73% to target (73 out of 100 meals)\"\n  const progressWidth = (raised: number, target: number) => {\n    if (raised < target) return (raised / target) * 100;\n    return 100;\n  };\n  const progressPercent = Math.floor((numContributions / targetAmount) * 100);\n\n  // \"Ends in 2 days\"\n  const timeUntilEnd = endDate.getTime() - Date.now();\n  const daysUntilEnd = timeUntilEnd > 0 ? timeUntilEnd / (1000 * 3600 * 24) : 0;\n\n  // \"Last contribution made 2h ago\"\n  const timeSinceLastContribution = Date.now() - lastContributionTime.getTime();\n  const lastContributionTimeAsPresentable = (\n    timeSinceLastContribution: number\n  ) => {\n    const minutesSinceLastConstribution =\n      timeSinceLastContribution / (1000 * 60);\n    if (minutesSinceLastConstribution < 60) {\n      return `${t('buyMeal.lastContributionMade')} ${Math.floor(\n        minutesSinceLastConstribution\n      )}m ${t('buyMeal.ago')}`;\n    }\n    const hoursSinceLastContribution = minutesSinceLastConstribution / 60;\n    if (hoursSinceLastContribution < 24) {\n      return `${t('buyMeal.lastContributionMade')} ${Math.floor(\n        hoursSinceLastContribution\n      )}h ${t('buyMeal.ago')}`;\n    }\n    const daysSinceLastContribution = hoursSinceLastContribution / 24;\n    return `${t('buyMeal.lastContributionMade')} ${Math.floor(\n      daysSinceLastContribution\n    )}d ${t('buyMeal.ago')}`;\n  };\n\n  return (\n    <ProgressBarContainer>\n      <TimeStamp>\n        {lastContributionTimeAsPresentable(timeSinceLastContribution)}\n      </TimeStamp>\n      <TargetAmountBar className=\"progress-bar\">\n        <CurrentProgressBar\n          style={{\n            width: `${progressWidth(numContributions, targetAmount)}%`,\n            backgroundColor: progressBarColor,\n          }}\n        ></CurrentProgressBar>\n      </TargetAmountBar>\n      <div>\n        <ProgressTextContainer color={progressBarColor}>\n          {progressPercent}% {t('buyMeal.toTarget')}\n        </ProgressTextContainer>{' '}\n        ({numContributions} {t('buyMeal.outOf')} {targetAmount}{' '}\n        {t('buyMeal.meals')})\n      </div>\n      {isActive && (\n        <div>\n          {t('buyMeal.endsIn')}{' '}\n          <ProgressTextContainer color={progressBarColor}>\n            {Math.ceil(daysUntilEnd)}\n          </ProgressTextContainer>{' '}\n          {t('buyMeal.days')}\n        </div>\n      )}\n    </ProgressBarContainer>\n  );\n};\n\nexport default CampaignProgressBar;\n\nconst ProgressBarContainer = styled.div`\n  width: 100%;\n  padding: 15px 0;\n`;\n\nconst ProgressTextContainer = styled.span`\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 22px;\n  color: ${(props) => props.color};\n`;\n\nconst TargetAmountBar = styled.div`\n  background-color: #dedede;\n  height: 12px;\n  margin-bottom: 15px;\n`;\n\nconst CurrentProgressBar = styled.div`\n  background-color: #dd678a;\n  height: 12px;\n`;\n\nconst TimeStamp = styled.div`\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 13px;\n  line-height: 18px;\n  letter-spacing: 0.02em;\n  color: #9e9e9e;\n  margin-bottom: 10px;\n`;\n","import React from 'react';\nimport CampaignProgressBar from './CampaignProgressBar';\nimport styled from 'styled-components';\nimport { tabletScreens } from '../../../utilities/general/responsive';\nimport { useTranslation } from 'react-i18next';\nimport campaignDefaultImage from '../images/campaign_default.png';\nimport { Campaign } from '../../../utilities/api/types';\nimport { getDistributor, getSeller } from '../../../utilities';\nimport { useEffect, useState } from 'react';\nimport Modal from '../../Modal';\nimport { useModalPaymentDispatch } from '../../../utilities/hooks/ModalPaymentContext/context';\nimport { SET_MODAL_VIEW } from '../../../utilities/hooks/ModalPaymentContext/constants';\n\ninterface Props {\n  campaign: Campaign;\n  selectedCampaign: null | number;\n  setSelectedCampaign: Function;\n}\n\nconst ModalBox: any = Modal;\n\nconst CampaignListItem = (props: Props) => {\n  const { t } = useTranslation();\n\n  const [distributor, setDistributor] = useState<any | null>();\n  const [merchant, setMerchant] = useState<any | null>();\n  const campaign = props.campaign;\n\n  const fetchData = async () => {\n    const distributorData = await getDistributor(campaign.distributor_id);\n    const merchantData = await getSeller(campaign.seller_id);\n    setDistributor(distributorData.data);\n    setMerchant(merchantData.data);\n  };\n\n  useEffect(() => {\n    fetchData();\n    // eslint-disable-next-line\n  }, []);\n\n  const mealsRaised = Math.floor(\n    campaign.amount_raised / campaign.price_per_meal\n  );\n  const targetMeals = Math.floor(\n    campaign.target_amount / campaign.price_per_meal\n  );\n  const campaignImageUrls = campaign.gallery_image_urls;\n\n  const dispatch = useModalPaymentDispatch(); //provide null according to Bruce's new branch\n  const showModal = (event: any) => {\n    props.setSelectedCampaign(campaign.id);\n    dispatch({ type: SET_MODAL_VIEW, payload: 0 });\n  };\n\n  return (\n    <Container>\n      <ColumnContainer>\n        {campaignImageUrls && campaignImageUrls.length && (\n          <CampaignImage\n            src={campaignImageUrls[0] ?? campaignDefaultImage}\n            alt=\"campaign_image\"\n          />\n        )}\n      </ColumnContainer>\n      <ColumnContainer>\n        {merchant && merchant.locations && merchant.locations.length && (\n          <Location>{merchant.locations[0].city}</Location>\n        )}\n        {distributor && merchant && (\n          <Name>\n            {merchant.name} x {distributor.name}\n          </Name>\n        )}\n        <Description>\n          {campaign.description}{' '}\n          {distributor && (\n            <a href={distributor.website_url}>{distributor.name}</a>\n          )}\n        </Description>\n        <CampaignProgressBar\n          isActive={campaign.active}\n          numContributions={mealsRaised}\n          targetAmount={targetMeals}\n          progressBarColor={'#CF6E8A'}\n          lastContributionTime={new Date(campaign.last_contribution)}\n          endDate={new Date(campaign.end_date)}\n        />\n      </ColumnContainer>\n      <ColumnContainer>\n        <ImagesContainer>\n          {distributor && (\n            <a href={distributor.website_url}>\n              <DistributorImage\n                src={distributor.image_url}\n                alt=\"distributor_logo\"\n              />\n            </a>\n          )}\n          {merchant && (\n            <MerchantImage src={merchant.logo_image_url} alt=\"merchant_logo\" />\n          )}\n        </ImagesContainer>\n        {merchant && (\n          <Button\n            className=\"button--filled\"\n            onClick={(e) => {\n              e.preventDefault();\n              window.location.href = '/' + merchant.seller_id;\n            }}\n          >\n            {t('gamHome.listItem.viewButton')}\n          </Button>\n        )}\n        {campaign.active && (\n          <Button className={'button--outlined'} onClick={showModal}>\n            {t('gamHome.listItem.giftButton')}\n          </Button>\n        )}\n      </ColumnContainer>\n\n      {campaign.active && props.selectedCampaign === campaign.id && (\n        <ModalBox\n          purchaseType={'buy_meal'}\n          sellerId={merchant.seller_id}\n          sellerName={merchant.name}\n          costPerMeal={campaign.price_per_meal / 100}\n          nonProfitLocationId={merchant.non_profit_location_id}\n          campaignId={campaign.id}\n        />\n      )}\n    </Container>\n  );\n};\n\nexport default CampaignListItem;\n\nconst Container = styled.div`\n  border-bottom: 1px solid #e5e5e5;\n  display: flex;\n  max-height: 800px;\n  margin: 35px 0 55px;\n  justify-content: space-between;\n\n  @media (${tabletScreens}) {\n    max-height: 1000px;\n    flex-direction: column;\n    margin: 0 17px;\n    position: relative;\n    padding-top: 15px;\n  }\n`;\n\nconst ColumnContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding: 1rem 2rem 1.5rem;\n\n  @media (${tabletScreens}) {\n    padding: 0.5rem 1rem 0.75rem;\n\n    > span {\n      margin: 2.5px 0;\n    }\n\n    > button {\n      width: 100%;\n    }\n\n    > img {\n      height: 103px;\n      object-fit: cover;\n      object-position: 0 25%;\n    }\n  }\n`;\n\nconst Location = styled.div`\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 15px;\n  line-height: 20px;\n  letter-spacing: 0.02em;\n  color: #1e7c9a;\n  margin-bottom: 15px;\n\n  @media (${tabletScreens}) {\n    font-size: 14px;\n    margin-bottom: 10px;\n  }\n`;\n\nconst Name = styled.div`\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: bold;\n  font-size: 16px;\n  line-height: 22px;\n  letter-spacing: 0.02em;\n  color: #000000;\n  margin-bottom: 18px;\n\n  @media (${tabletScreens}) {\n    margin-bottom: 10px;\n    width: 70%;\n  }\n`;\n\nconst Description = styled.div`\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 15px;\n  line-height: 20px;\n  letter-spacing: 0.02em;\n  color: #1e1e1e;\n  margin-bottom: 20px;\n\n  @media (${tabletScreens}) {\n    font-size: 14px;\n    margin-bottom: 10px;\n  }\n`;\n\nconst Button = styled.div`\n  text-align: center;\n  width: 240px;\n  letter-spacing: 0.15em;\n  cursor: pointer;\n  margin-bottom: 18px;\n  font-family: 'Open Sans', 'Helvetica Neue', sans-serif;\n  font-weight: 700;\n  font-size: 16px;\n  letter-spacing: 0.05em;\n\n  @media (max-width: 550px) {\n    font-size: 14px;\n    width: 100%;\n    margin-bottom: 10px;\n  }\n`;\n\nconst ImagesContainer = styled.span`\n  align-self: right;\n  margin-bottom: 60px;\n  align-self: flex-end;\n\n  @media (${tabletScreens}) {\n    position: absolute;\n    top: 132px;\n    margin-bottom: 30px;\n\n    img {\n      height: 25px;\n    }\n  }\n`;\n\nconst CampaignImage = styled.img`\n  height: 240px;\n  width: 240px;\n\n  @media (${tabletScreens}) {\n    max-height: 100px;\n    width: 100%;\n  }\n`;\n\nconst DistributorImage = styled.img`\n  max-height: 70px;\n  max-width: 120px;\n  margin-right: 15px;\n  vertical-align: middle;\n`;\n\nconst MerchantImage = styled.img`\n  max-height: 70px;\n  max-width: 70px;\n  vertical-align: middle;\n`;\n","import React from 'react';\nimport { useState, useEffect } from 'react';\nimport YouTube from 'react-youtube';\nimport { Options } from 'react-youtube';\n\ninterface Props {\n  videoId: string;\n}\n\nconst VideoComponent = ({ videoId }: Props) => {\n  // https://usehooks.com/useWindowSize/\n  const useWindowSize = () => {\n    const [windowSize, setWindowSize] = useState({\n      width: 0,\n      height: 0,\n    });\n\n    useEffect(() => {\n      function handleResize() {\n        setWindowSize({\n          width: window.innerWidth,\n          height: window.innerHeight,\n        });\n      }\n\n      window.addEventListener('resize', handleResize);\n      handleResize();\n\n      return () => window.removeEventListener('resize', handleResize);\n    }, []);\n\n    return windowSize;\n  };\n\n  const size = useWindowSize();\n  const width = Math.min(size.width * 0.8, 1200);\n  const height = width / 2;\n  const opts: Options = {\n    height: height.toString(),\n    width: width.toString(),\n    playerVars: {\n      autoplay: 0,\n    },\n  };\n\n  return <YouTube videoId={videoId} opts={opts} />;\n};\n\nexport default VideoComponent;\n","import React, { useEffect, useState } from 'react';\nimport styles from './styles.module.scss';\nimport { getCampaigns } from '../../../utilities';\nimport illustrated_flatlay_hero from '../images/illustrated_flatlay_hero.png';\nimport CampaignInstructions from './CampaignInstructions';\nimport NoActiveCampaignsBox from './NoCampaignsBox';\nimport CampaignListItem from './CampaignListItem';\nimport VideoComponent from './VideoComponent';\nimport { useTranslation } from 'react-i18next';\n\ninterface Props {\n  menuOpen: boolean;\n}\n\nconst GiftAMealPage = (props: Props) => {\n  const { t } = useTranslation();\n\n  const [activeCampaigns, setActiveCampaigns] = useState([]);\n  const [pastCampaigns, setPastCampaigns] = useState([]);\n  const [selectedCampaign, setSelectedCampaign] = useState(null);\n\n  const fetchData = async () => {\n    const campaignData = await getCampaigns();\n    const active = campaignData.data.filter(\n      (campaign: any) => campaign.active && campaign.valid\n    );\n    setActiveCampaigns(active);\n    const past = campaignData.data.filter((campaign: any) => !campaign.active);\n    setPastCampaigns(past);\n  };\n\n  useEffect(() => {\n    fetchData();\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <div\n      className={styles.container}\n      style={{ display: props.menuOpen ? 'none' : 'inherit' }}\n    >\n      <div className={styles.header}>\n        <img\n          src={illustrated_flatlay_hero}\n          className={styles.hero}\n          alt=\"meal overlay illustration\"\n        />\n        <div className={styles.headerText}>\n          <h3 style={{ fontWeight: 'bolder' }}>{t('gamHome.header')}</h3>\n          <p>{t('gamHome.description')}</p>\n        </div>\n        <CampaignInstructions />\n      </div>\n      <br />\n      <button\n        className={styles.backButton}\n        onClick={(e) => {\n          e.preventDefault();\n          window.location.href = '/all';\n        }}\n      >\n        {t('gamHome.backButton')}\n      </button>\n      {activeCampaigns.length ? (\n        <>\n          <h5 className={styles.campaignHeader}>\n            {t('gamHome.activeSection')}\n          </h5>\n          {activeCampaigns.map((campaign: any) => (\n            <CampaignListItem\n              campaign={campaign}\n              key={campaign.id}\n              selectedCampaign={selectedCampaign}\n              setSelectedCampaign={setSelectedCampaign}\n            />\n          ))}\n        </>\n      ) : (\n        <NoActiveCampaignsBox />\n      )}\n\n      <div className={styles.videoContainer}>\n        <VideoComponent videoId=\"3zbqvouILto\"></VideoComponent>\n        <h5 className={styles.videoDescription}>\n          {t('gamHome.videoBox.caption')}\n        </h5>\n      </div>\n\n      <h5 className={styles.campaignHeader}>{t('gamHome.pastSection')}</h5>\n      {pastCampaigns.map((campaign: any) => (\n        <CampaignListItem\n          campaign={campaign}\n          key={campaign.id}\n          selectedCampaign={selectedCampaign}\n          setSelectedCampaign={setSelectedCampaign}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default GiftAMealPage;\n"],"sourceRoot":""}
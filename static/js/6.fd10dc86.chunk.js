(this.webpackJsonpsendchinatownlove=this.webpackJsonpsendchinatownlove||[]).push([[6],{100:function(e,t){},102:function(e,t,n){"use strict";n(26),n(0)},103:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return f}));var r=n(104),a=n.n(r),o=n(105),l=n(120),c=n.n(l),i=(n(129),"https://api.sendchinatownlove.com/"),u=i+"sellers/",s=i+"charges",m=function(){var e=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.a.get(u).then((function(e){return e})).catch((function(e){return e})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(o.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.a.get(u+t).then((function(e){return e})).catch((function(e){return e})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(o.a)(a.a.mark((function e(t,n,r,l,i){var u,m,d,f;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=l.email,m=l.name,d=l.idempotency_key,f=l.is_subscribed,e.next=5,c.a.post(s,{is_square:!0,nonce:t,line_items:[r],email:u,name:m,seller_id:n,idempotency_key:d,is_subscribed:f,is_distribution:i},{headers:{"Access-Control-Allow-Origin":"*"}}).then(function(){var e=Object(o.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){throw e}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a,o){return e.apply(this,arguments)}}()},109:function(e,t,n){e.exports={progressContainer:"styles_progressContainer__3QTH2",targetAmountBar:"styles_targetAmountBar__39mFS",currentRaisedBar:"styles_currentRaisedBar__3nyvm",contributionInfo:"styles_contributionInfo__2yMDv",tooltipTable:"styles_tooltipTable__1Bew2"}},113:function(e,t,n){"use strict";var r=n(99);n.o(r,"getSeller")&&n.d(t,"getSeller",(function(){return r.getSeller})),n.o(r,"getSellers")&&n.d(t,"getSellers",(function(){return r.getSellers}));n(102)},114:function(e,t,n){e.exports={container:"styles_container__2WJAK",storeInfoContainer:"styles_storeInfoContainer__2EkUd",merchantsContainer:"styles_merchantsContainer__13vzx",merchantCard:"styles_merchantCard__1vFxm",merchantCardLogo:"styles_merchantCardLogo__25Qep",overlayContainer:"styles_overlayContainer__3upFs",nycMap:"styles_nycMap__qHmku",contentContainer:"styles_contentContainer__1Wz03",textArea:"styles_textArea__3id8d",ownerPanel:"styles_ownerPanel__3Sxji",storeInfo:"styles_storeInfo__1g3Wp"}},115:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(0),a=n(98),o=n.n(a),l=n(109),c=n.n(l),i=n(205),u=n(27),s=Object(u.a)((function(e){return{tooltip:{backgroundColor:"#ffffff",color:"rgba(0, 0, 0, 0.87)",width:180,fontSize:e.typography.pxToRem(14),border:"1px solid #dadde9"}}}))(i.a),m=function(e){var t,n,a=e.amountRaised,l=e.targetAmount,i=e.progressBarColor,u=e.numContributions,m=e.numDonations,d=e.numGiftCards,f=e.donationAmount,p=e.giftCardAmount;return r.createElement("div",{className:c.a.progressContainer},r.createElement("div",{className:o()(c.a.targetAmountBar,"progress-bar")},r.createElement("div",{className:c.a.currentRaisedBar,style:{width:"".concat((t=a,n=l,t<n?t/n*100:100),"%"),backgroundColor:i}}," ")),r.createElement("div",{className:c.a.contributionInfo},r.createElement("div",null,"$",(Math.floor(a)/100).toLocaleString()," of $",(Math.floor(l)/100).toLocaleString()),r.createElement("div",null,r.createElement(s,{title:r.createElement(r.Fragment,null,r.createElement("table",{className:c.a.tooltipTable},r.createElement("tbody",null,r.createElement("tr",null,r.createElement("td",null,r.createElement("b",null,d)," vouchers"),r.createElement("td",null,r.createElement("b",null,"$",Math.floor(p)/100))),r.createElement("tr",null,r.createElement("td",null,r.createElement("b",null,m)," donations"),r.createElement("td",null,r.createElement("b",null,"$",Math.floor(f)/100)))))),enterTouchDelay:50,placement:"top"},r.createElement("div",null,r.createElement("b",null,u)," supporters")))))}},188:function(e,t,n){e.exports=n.p+"static/media/merchantIcon.2c7f1dbe.png"},189:function(e,t,n){e.exports=n.p+"static/media/nyc_3.d3931cea.png"},206:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return J}));var r=n(104),a=n.n(r),o=n(105),l=n(26),c=n(0),i=n(113),u=n(3),s=n(4);function m(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: space-between;\n  max-width: 500px;\n  margin-bottom: 50px;\n\n  @media (max-width: 450px) {\n    display: none;\n  }\n"]);return m=function(){return e},e}var d=function(e){var t=e.filterStoreType,n=Object(c.useState)("all"),r=Object(l.a)(n,2),a=r[0],o=r[1];return c.createElement(c.Fragment,null,c.createElement(f,null,[{value:"all",text:"All"},{value:"Bakery",text:"Bakery"},{value:"Chinese",text:"Restaurant"}].map((function(e){return c.createElement("div",{key:e.value},c.createElement("button",{className:a===e.value?"modalButton--filled":"modalButton--back",onClick:function(n){return function(e,n){n.preventDefault(),o(e),t(e)}(e.value,n)}},e.text.toUpperCase()))}))))},f=s.a.div(m()),p=n(34),b=n(115),v=n(114),h=n.n(v);function g(){var e=Object(u.a)(["\n  display: -webkit-box;\n  -webkit-line-clamp: 3;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  height: 75px;\n"]);return g=function(){return e},e}function _(){var e=Object(u.a)(["\n  font-weight: bolder;\n  color: #46accc;\n"]);return _=function(){return e},e}var E=function(e){var t=e.storeInfo,n="",r="";return t.locations&&t.locations[0]&&(n=t.locations[0].city,r=t.locations[0].state),c.createElement(c.Fragment,null,c.createElement(p.a,{to:"/".concat(t.seller_id),style:{textDecoration:"none",color:"black"}},c.createElement("div",{className:h.a.merchantCard},c.createElement("img",{className:h.a.merchantCardLogo,src:t.hero_image_url,alt:"Logo"}),c.createElement(y,null,n,", ",r),c.createElement("h3",null,t.name),c.createElement(x,null,t.summary||t.story),c.createElement("br",null),c.createElement(b.a,{amountRaised:t.amount_raised,targetAmount:t.target_amount,progressBarColor:t.progress_bar_color,numContributions:t.num_contributions,numDonations:t.num_donations,numGiftCards:t.num_gift_cards,donationAmount:t.donation_amount,giftCardAmount:t.gift_card_amount}))))},y=s.a.div(_()),x=s.a.p(g()),w=n(188),C=n.n(w);function O(){var e=Object(u.a)(["\n  text-align: left;\n  padding: 5px 0;\n"]);return O=function(){return e},e}function S(){var e=Object(u.a)(["\n  padding: 0 5px 0 20px;\n"]);return S=function(){return e},e}function j(){var e=Object(u.a)(["\n  width: 45%;\n"]);return j=function(){return e},e}function k(){var e=Object(u.a)(["\n  text-align: center;\n"]);return k=function(){return e},e}var N=function(){return c.createElement(A,{className:h.a.merchantCard},c.createElement(B,{src:C.a,alt:"target-merchant-img"}),c.createElement("h3",null,"Meet our Target Merchant"),c.createElement(I,null,c.createElement(M,null,"Asian immigrant-owned small businesses"),c.createElement(M,null,"Not fluent in English, run cash-only establishments, and not tech-savvy"),c.createElement(M,null,"Currently struggling to pay rent, utility bill and employee wages"),c.createElement(M,null,"Do not have websites, online delivery service, or vouchers available"),c.createElement(M,null,"Located in NYC Manhattan Chinatown, Flushing, or Bensonhurst")))},A=s.a.div(k()),B=s.a.img(j()),I=s.a.ul(S()),M=s.a.li(O());function D(){var e=Object(u.a)(["\n  font-size: 17px;\n  font-weight: bold;\n  margin: 15px 0;\n"]);return D=function(){return e},e}function T(){var e=Object(u.a)(["\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n"]);return T=function(){return e},e}function F(){var e=Object(u.a)(["\n  border-radius: 25px;\n  height: 25px;\n  z-index: 5;\n  width: 100%;\n  margin-bottom: 15px;\n"]);return F=function(){return e},e}function L(){var e=Object(u.a)(["\n  font-size: 13px;\n"]);return L=function(){return e},e}var R=function(e){var t,n,r=e.totalDonations,a=e.totalGiftCards;return c.createElement(P,null,c.createElement($,null,"Total Raised"),c.createElement(q,{style:{background:"linear-gradient(-45deg, #dd678a ".concat((t=r,n=r+a,t<n?t/n*100:100),"%, #F6B917 0%)")}}),c.createElement(z,null,c.createElement("span",null,"VOUCHERS:"," ",c.createElement("b",null,"$",(Math.floor(a)/100).toLocaleString())),c.createElement("span",null,"DONATIONS:"," ",c.createElement("b",null,"$",(Math.floor(r)/100).toLocaleString()))),c.createElement("p",null,"100% of all proceeds go to the businesses, and we cover the credit card processing fees."))},P=s.a.div(L()),q=s.a.div(F()),z=s.a.div(T()),$=s.a.div(D()),W=n(189),G=n.n(W),H=n(42),J=function(e){var t=Object(c.useState)(),n=Object(l.a)(t,2),r=n[0],u=n[1],s=Object(c.useState)(),m=Object(l.a)(s,2),f=m[0],p=m[1],b=Object(c.useState)(0),v=Object(l.a)(b,2),g=v[0],_=v[1],y=Object(c.useState)(0),x=Object(l.a)(y,2),w=x[0],C=x[1],O=function(){var e=Object(o.a)(a.a.mark((function e(){var t,n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.getSellers)();case 2:t=e.sent,n=t.data,r=n.reduce((function(e,t){return[e[0]+t.donation_amount,e[1]+t.gift_card_amount]}),[0,0]),u(n),p(n),_(r[0]),C(r[1]);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){O()}),[]);return c.createElement("div",{className:h.a.container,style:{display:e.menuOpen?"none":"inherit"}},f?c.createElement(c.Fragment,null,c.createElement("div",{className:h.a.overlayContainer},c.createElement("img",{src:G.a,className:h.a.nycMap,alt:"NYC MAP"}),c.createElement("div",{className:h.a.contentContainer},c.createElement("div",{className:h.a.textArea},c.createElement("h2",{style:{fontWeight:"bolder"}},"Our Chinatown"),c.createElement("br",null),c.createElement("p",null,"We are providing an online platform to low-tech, cash-only, Asian-owned small businesses that have been disproportionately impacted by COVID-19."),c.createElement("p",null,"Support local merchants by making a donation or purchasing a voucher from them.")),c.createElement("div",{className:h.a.storeInfo},c.createElement(R,{totalDonations:g,totalGiftCards:w})),c.createElement("div",{className:h.a.ownerPanel},c.createElement(N,null)))),c.createElement("div",{className:h.a.storeInfoContainer},c.createElement(d,{filterStoreType:function(e){if("all"===e)p(r);else{var t=r.filter((function(t){return t.cuisine_name===e}));p(t)}}}),c.createElement("div",{className:h.a.merchantsContainer},f.map((function(e){return"send-chinatown-love"!==e.seller_id?c.createElement(E,{key:e.seller_id,storeInfo:e}):null}))))):c.createElement(H.a,null))}},99:function(e,t,n){"use strict";var r=n(100);n.o(r,"getSeller")&&n.d(t,"getSeller",(function(){return r.getSeller})),n.o(r,"getSellers")&&n.d(t,"getSellers",(function(){return r.getSellers})),n.o(r,"makeSquarePayment")&&n.d(t,"makeSquarePayment",(function(){return r.makeSquarePayment}));var a=n(103);n.d(t,"getSeller",(function(){return a.a})),n.d(t,"getSellers",(function(){return a.b})),n.d(t,"makeSquarePayment",(function(){return a.c}))}}]);
//# sourceMappingURL=6.fd10dc86.chunk.js.map
(this.webpackJsonpsendchinatownlove=this.webpackJsonpsendchinatownlove||[]).push([[7],{110:function(t,e,n){"use strict";n.d(e,"e",(function(){return f})),n.d(e,"d",(function(){return d})),n.d(e,"g",(function(){return p})),n.d(e,"f",(function(){return g})),n.d(e,"h",(function(){return b})),n.d(e,"c",(function(){return _})),n.d(e,"a",(function(){return v})),n.d(e,"b",(function(){return y}));var a=n(107),r=n.n(a),i=n(108),o=n(120),c=n.n(o),u=(n(121),"https://api.sendchinatownlove.com/"),s=u+"sellers/",l=u+"charges",m=u+"gift_cards/",f=function(){var t=Object(i.a)(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.get(s,{params:{locale:h(e)}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=Object(i.a)(r.a.mark((function t(e,n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.get(s+e,{params:{locale:h(n)}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),p=function(){var t=Object(i.a)(r.a.mark((function t(e,n,a,o,u){var s,m,f,d;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=o.email,m=o.name,f=o.idempotency_key,d=o.is_subscribed,t.next=5,c.a.post(l,{is_square:!0,nonce:e,line_items:a,email:s,name:m,seller_id:n,idempotency_key:f,is_subscribed:d,is_distribution:u},{headers:{"Access-Control-Allow-Origin":"*"}}).then(function(){var t=Object(i.a)(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){throw t}));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(e,n,a,r,i){return t.apply(this,arguments)}}(),g=function(){var t=Object(i.a)(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c.a.get(m+e).then((function(t){return t})).catch((function(t){return t})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),b=function(){var t=Object(i.a)(r.a.mark((function t(e,n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c.a.put(m+e,{amount:n}).then((function(t){return t})).catch((function(t){return t})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),_=function(){var t=Object(i.a)(r.a.mark((function t(e,n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c.a.get(s+e+"/gift_cards/"+n).then((function(t){return t})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();function h(t){switch(t){case"cn":return"zh-CN";case"en":default:return"en"}}var v=function(){var t=Object(i.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.get("https://api.sendchinatownlove.com/campaigns/");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),y=function(){var t=Object(i.a)(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.get("https://api.sendchinatownlove.com/distributors/"+e).then((function(t){return t})).catch((function(t){return t}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},112:function(t,e,n){"use strict";var a=n(114);n.o(a,"getCampaigns")&&n.d(e,"getCampaigns",(function(){return a.getCampaigns})),n.o(a,"getDistributor")&&n.d(e,"getDistributor",(function(){return a.getDistributor})),n.o(a,"getSeller")&&n.d(e,"getSeller",(function(){return a.getSeller})),n.o(a,"getSellers")&&n.d(e,"getSellers",(function(){return a.getSellers})),n.o(a,"makeSquarePayment")&&n.d(e,"makeSquarePayment",(function(){return a.makeSquarePayment}));var r=n(110);n.d(e,"getCampaigns",(function(){return r.a})),n.d(e,"getDistributor",(function(){return r.b})),n.d(e,"getSeller",(function(){return r.d})),n.d(e,"getSellers",(function(){return r.e})),n.d(e,"makeSquarePayment",(function(){return r.g}))},113:function(t,e,n){"use strict";var a=n(112);n.o(a,"getCampaigns")&&n.d(e,"getCampaigns",(function(){return a.getCampaigns})),n.o(a,"getDistributor")&&n.d(e,"getDistributor",(function(){return a.getDistributor})),n.o(a,"getSeller")&&n.d(e,"getSeller",(function(){return a.getSeller})),n.o(a,"getSellers")&&n.d(e,"getSellers",(function(){return a.getSellers}));n(117)},114:function(t,e){},117:function(t,e,n){"use strict";n(12),n(0)},123:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return r}));var a="max-width: 599px",r="max-width: 899px"},207:function(t,e,n){t.exports={"button--filled":"styles_button--filled__1Q_a1","button--red-filled":"styles_button--red-filled__30C9L","button--outlined":"styles_button--outlined__T1S4e","button--redfilled":"styles_button--redfilled__1aPRb","modalButton--back":"styles_modalButton--back__SqQbc","modalButton--outlined":"styles_modalButton--outlined__2rGur","modalButton--filled":"styles_modalButton--filled__1u791","modalButton--nonfunctional":"styles_modalButton--nonfunctional__3b7y_","modalButton--selected":"styles_modalButton--selected__120By","modalButton--outline":"styles_modalButton--outline__1nxQS","closeButton--close":"styles_closeButton--close__2-Gq4","modalForm--form":"styles_modalForm--form__1r_3v","modalInput--input":"styles_modalInput--input__1yGue","filterable-table-container":"styles_filterable-table-container__3yuTM","header-row":"styles_header-row__13pcb","filter-container":"styles_filter-container__3R7V3","filter-input":"styles_filter-input__2pKZl","clear-filter":"styles_clear-filter__2DOt6","record-count":"styles_record-count__3tJgl",fa:"styles_fa__1dVUs",active:"styles_active__ZQhyR",disabled:"styles_disabled__yy9aR",container:"styles_container__3QdrG",header:"styles_header__2e_gf",main:"styles_main__3sUmr",hero:"styles_hero__30ZVS",sub:"styles_sub__2EdKv",instructions:"styles_instructions__14KX8",step:"styles_step__1RRvN",stepText:"styles_stepText__sSzBp",backButton:"styles_backButton__1XAdF",campaignHeader:"styles_campaignHeader__trEYV",videoContainer:"styles_videoContainer__2lfjR",videoDescription:"styles_videoDescription__4o5jP"}},208:function(t,e,n){t.exports=n.p+"static/media/illustrated_flatlay_hero.050015e1.png"},209:function(t,e,n){t.exports=n.p+"static/media/gam_icon_step1.c58f05a4.svg"},210:function(t,e,n){t.exports=n.p+"static/media/gam_icon_step2.9a0ca5e8.svg"},211:function(t,e,n){t.exports=n.p+"static/media/gam_icon_step3.ad0c5291.svg"},212:function(t,e,n){t.exports=n.p+"static/media/gam_icon_step4.b9832c02.svg"},213:function(t,e,n){t.exports=n.p+"static/media/campaign_default.9ad02a20.png"},260:function(t,e,n){"use strict";n.r(e);var a=n(107),r=n.n(a),i=n(108),o=n(12),c=n(0),u=n.n(c),s=n(207),l=n.n(s),m=n(113),f=n(208),d=n.n(f),p=n(209),g=n.n(p),b=n(210),_=n.n(b),h=n(211),v=n.n(h),y=n(212),x=n.n(y),w=n(4),E=n(5),O=n(104);function j(){var t=Object(w.a)(["\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 13px;\n  line-height: 18px;\n  letter-spacing: 0.02em;\n  color: #9e9e9e;\n  margin-bottom: 10px;\n"]);return j=function(){return t},t}function S(){var t=Object(w.a)(["\n  background-color: #dd678a;\n  height: 12px;\n"]);return S=function(){return t},t}function k(){var t=Object(w.a)(["\n  background-color: #dedede;\n  height: 12px;\n  margin-bottom: 15px;\n"]);return k=function(){return t},t}function M(){var t=Object(w.a)(["\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 22px;\n  color: ",";\n"]);return M=function(){return t},t}function C(){var t=Object(w.a)(["\n  width: 100%;\n  padding: 15px 0;\n"]);return C=function(){return t},t}var B=function(t){var e,n,a=t.isActive,r=t.numContributions,i=t.targetAmount,o=t.progressBarColor,u=t.lastContributionTime,s=t.endDate,l=Object(O.a)().t,m=Math.floor(r/i*100),f=s.getTime()-Date.now(),d=f>0?f/864e5:0,p=Date.now()-u.getTime();return c.createElement(D,null,c.createElement(T,null,function(t){var e=t/6e4;if(e<60)return"".concat(l("buyMeal.lastContributionMade")," ").concat(Math.floor(e),"m ").concat(l("buyMeal.ago"));var n=e/60;if(n<24)return"".concat(l("buyMeal.lastContributionMade")," ").concat(Math.floor(n),"h ").concat(l("buyMeal.ago"));var a=n/24;return"".concat(l("buyMeal.lastContributionMade")," ").concat(Math.floor(a),"d ").concat(l("buyMeal.ago"))}(p)),c.createElement(z,{className:"progress-bar"},c.createElement(G,{style:{width:"".concat((e=r,n=i,e<n?e/n*100:100),"%"),backgroundColor:o}})),c.createElement("div",null,c.createElement(N,{color:o},m,"% ",l("buyMeal.toTarget"))," ","(",r," ",l("buyMeal.outOf")," ",i," ",l("buyMeal.meals"),")"),a&&c.createElement("div",null,l("buyMeal.endsIn")," ",c.createElement(N,{color:o},Math.ceil(d))," ",l("buyMeal.days")))},D=E.a.div(C()),N=E.a.span(M(),(function(t){return t.color})),z=E.a.div(k()),G=E.a.div(S()),T=E.a.div(j()),A=n(123),P=n(213),R=n.n(P);function q(){var t=Object(w.a)(["\n  align-self: right;\n  margin-bottom: 60px;\n  align-self: flex-end;\n\n  @media (",") {\n    position: absolute;\n    top: 132px;\n    margin-bottom: 30px;\n\n    img {\n      height: 25px;\n    }\n  }\n"]);return q=function(){return t},t}function V(){var t=Object(w.a)(["\n  text-align: center;\n  width: 240px;\n  letter-spacing: 0.15em;\n  cursor: pointer;\n  margin-bottom: 18px;\n  font-family: 'Open Sans', 'Helvetica Neue', sans-serif;\n  font-weight: 700;\n  font-size: 16px;\n  letter-spacing: 0.05em;\n\n  @media (max-width: 550px) {\n    font-size: 14px;\n    width: 100%;\n    margin-bottom: 10px;\n  }\n"]);return V=function(){return t},t}function H(){var t=Object(w.a)(["\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 15px;\n  line-height: 20px;\n  letter-spacing: 0.02em;\n  color: #1e1e1e;\n  margin-bottom: 20px;\n\n  @media (",") {\n    font-size: 14px;\n    margin-bottom: 10px;\n  }\n"]);return H=function(){return t},t}function I(){var t=Object(w.a)(["\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: bold;\n  font-size: 16px;\n  line-height: 22px;\n  letter-spacing: 0.02em;\n  color: #000000;\n  margin-bottom: 18px;\n\n  @media (",") {\n    margin-bottom: 10px;\n    width: 70%;\n  }\n"]);return I=function(){return t},t}function F(){var t=Object(w.a)(["\n  font-family: Open Sans;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 15px;\n  line-height: 20px;\n  letter-spacing: 0.02em;\n  color: #1e7c9a;\n  margin-bottom: 15px;\n\n  @media (",") {\n    font-size: 14px;\n    margin-bottom: 10px;\n  }\n"]);return F=function(){return t},t}function Q(){var t=Object(w.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 1rem 2rem 1.5rem;\n\n  @media (",") {\n    padding: 0.5rem 1rem 0.75rem;\n\n    > span {\n      margin: 2.5px 0;\n    }\n\n    > button {\n      width: 100%;\n    }\n\n    > img {\n      height: 103px;\n      object-fit: cover;\n      object-position: 0 25%;\n    }\n  }\n"]);return Q=function(){return t},t}function J(){var t=Object(w.a)(["\n  border-bottom: 1px solid #e5e5e5;\n  display: flex;\n  max-height: 350px;\n  margin: 35px 0 55px;\n  justify-content: space-between;\n\n  @media (",") {\n    max-height: 600px;\n    flex-direction: column;\n    margin: 0 17px;\n    position: relative;\n    padding-top: 15px;\n  }\n"]);return J=function(){return t},t}var K=function(t){var e,n=Object(c.useState)(),a=Object(o.a)(n,2),s=a[0],l=a[1],f=Object(c.useState)(),d=Object(o.a)(f,2),p=d[0],g=d[1],b=t.campaign,_=function(){var t=Object(i.a)(r.a.mark((function t(){var e,n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(m.getDistributor)(b.distributor_id);case 2:return e=t.sent,t.next=5,Object(m.getSeller)(b.seller_id);case 5:n=t.sent,l(e.data),g(n.data);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(c.useEffect)((function(){_()}),[]);var h=Math.floor(b.amount_raised/b.price_per_meal),v=Math.floor(b.target_amount/b.price_per_meal),y=b.gallery_image_urls;return u.a.createElement(L,null,u.a.createElement(U,null,y&&y.length&&u.a.createElement("img",{src:null!==(e=y[0])&&void 0!==e?e:R.a,alt:"campaign_image"})),u.a.createElement(U,null,p&&p.locations&&p.locations.length&&u.a.createElement(W,null,p.locations[0].city),s&&p&&u.a.createElement(Y,null,p.name," x ",s.name),u.a.createElement(Z,null,b.description,u.a.createElement("br",null),s&&u.a.createElement("a",{href:s.website_url},s.name)),u.a.createElement(B,{isActive:b.active,numContributions:h,targetAmount:v,progressBarColor:"#CF6E8A",lastContributionTime:new Date(b.last_contribution),endDate:new Date(b.end_date)})),u.a.createElement(U,null,u.a.createElement($,null,s&&u.a.createElement("a",{href:s.website_url},u.a.createElement("img",{src:s.image_url,style:{margin:"0 15px"},alt:"distributor_logo"})),p&&u.a.createElement("img",{src:p.logo_image_url,alt:"merchant_logo"})),p&&u.a.createElement(X,{className:"button--filled",onClick:function(t){t.preventDefault(),window.location.href="/"+p.seller_id}},"Visit merchant"),b.active&&u.a.createElement(X,{className:"button--outlined"},"Gift a meal")))},L=E.a.div(J(),A.b),U=E.a.div(Q(),A.b),W=E.a.div(F(),A.b),Y=E.a.div(I(),A.b),Z=E.a.div(H(),A.b),X=E.a.div(V()),$=E.a.span(q(),A.b),tt=n(214),et=function(t){var e=t.videoId,n=function(){var t=Object(c.useState)({width:0,height:0}),e=Object(o.a)(t,2),n=e[0],a=e[1];return Object(c.useEffect)((function(){function t(){a({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",t),t(),function(){return window.removeEventListener("resize",t)}}),[]),n}(),a=Math.min(.8*n.width,1200),r={height:(a/2).toString(),width:a.toString(),playerVars:{autoplay:0}};return u.a.createElement(tt.a,{videoId:e,opts:r})},nt=(e.default=function(t){var e=Object(c.useState)([]),n=Object(o.a)(e,2),a=n[0],s=n[1],f=Object(c.useState)([]),p=Object(o.a)(f,2),b=p[0],h=p[1],y=function(){var t=Object(i.a)(r.a.mark((function t(){var e,n,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(m.getCampaigns)();case 2:e=t.sent,n=e.data.filter((function(t){return t.active&&t.valid})),s(n),a=e.data.filter((function(t){return!t.active})),h(a);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){y()}),[]),u.a.createElement("div",{className:l.a.container,style:{display:t.menuOpen?"none":"inherit"}},u.a.createElement("div",{className:l.a.header},u.a.createElement("img",{src:d.a,className:l.a.hero,alt:"meal overlay illustration"}),u.a.createElement("div",{className:l.a.main},u.a.createElement("div",null,u.a.createElement("h3",{style:{fontWeight:"bolder"}},"Gift a Meal"),u.a.createElement("p",null,"Double the impact of your donation by gifting meals from our merchants to local organizations that will distribute your gifted meals to our community in need."))),u.a.createElement("div",{className:l.a.sub},u.a.createElement("div",{className:l.a.instructions},[["Donate to Gift-a-Meal",g.a],["100% of donations still go directly to our merchants",_.a],["Vouchers are donated to our community parnters",v.a],["Partners distribute to individuals in need",x.a]].map((function(t,e){var n=Object(o.a)(t,2),a=n[0],r=n[1];return nt(e+1,a,r)}))))),u.a.createElement("br",null),u.a.createElement("button",{className:l.a.backButton,onClick:function(t){t.preventDefault(),window.location.href="/all"}},"Back to merchants"),u.a.createElement("h5",{className:l.a.campaignHeader},"Active Gift-a-Meal"),a.map((function(t){return u.a.createElement(K,{campaign:t})})),u.a.createElement("div",{className:l.a.videoContainer},u.a.createElement(et,{videoId:"FYlUOhzYlRM"}),u.a.createElement("h5",{className:l.a.videoDescription},"Watch how we bring impact to our communties through Gift-a-Meal.")),u.a.createElement("h5",{className:l.a.campaignHeader},"Past Gift-a-Meal"),b.map((function(t){return u.a.createElement(K,{campaign:t})})))},function(t,e,n){return u.a.createElement("div",{className:l.a.step,key:t},u.a.createElement("img",{src:n,alt:"icon"}),u.a.createElement("div",{className:l.a.stepText},u.a.createElement("p",null,"Step ",t),u.a.createElement("p",null,e)))})}}]);
//# sourceMappingURL=7.cc73e089.chunk.js.map